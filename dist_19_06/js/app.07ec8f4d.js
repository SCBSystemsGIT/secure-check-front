(function(){"use strict";var __webpack_modules__={500:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4114),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__),vue__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5796),_assets_back_arrow_table_png__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7926),_services_useCreateVisitor__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2301),_stores_useUserStore__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3857),_services_useUserInfo__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8328),vue3_toastify__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4084),vue_router__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(1387),_services_useVisitRequest__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4895),_services_useEvent__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(8731),_services_useCompanies__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(9200),jquery__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6587),jquery__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_10__),flatpickr__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2689);const _hoisted_1={class:"secure-datatable-heading-back"},_hoisted_2={class:"container"},_hoisted_3={class:"row align-items-center"},_hoisted_4={class:"col col-12 col-md-12 col-sm-12"},_hoisted_5={class:"left-back"},_hoisted_6={class:"request-meeting"},_hoisted_7={class:"background-gradi"},_hoisted_8={class:"secure-form"},_hoisted_9={class:"container"},_hoisted_10={class:"row align-items-center"},_hoisted_11={class:"col col-12 col-md-12 col-sm-12 scanner-form-col"},_hoisted_12={class:"form-step active"},_hoisted_13={class:"text-center mb-5"},_hoisted_14={key:0},_hoisted_15={key:0,class:"text-center pb-3"},_hoisted_16={class:"divide-50"},_hoisted_17={class:"divide-50"},_hoisted_18={class:"divide-50"},_hoisted_19={class:"divide-50"},_hoisted_20={class:"divide-50"},_hoisted_21={class:"divide-50"},_hoisted_22={class:"divide-50"},_hoisted_23={class:"divide-50"},_hoisted_24={class:"divide-50"},_hoisted_25={class:"divide-50"},_hoisted_26={key:1,class:"divide-50"},_hoisted_27={key:2,class:"divide-50"},_hoisted_28={key:3,class:"divide-50 custom-date"},_hoisted_29={id:"container"},_hoisted_30={key:4,class:"divide-50"},_hoisted_31=["value"],_hoisted_32={key:5,class:"divide-50 custom-time"},_hoisted_33={id:"container"},_hoisted_34=["value"],_hoisted_35=["value"],_hoisted_36={key:6,class:"divide-50"},_hoisted_37=["value"],_hoisted_38={class:"divide-50"},_hoisted_39={class:"divide-50"},_hoisted_40={class:"buttons"},_hoisted_41=["disabled"],_hoisted_42={key:0,class:"loader"},_hoisted_43={key:1};__webpack_exports__.A={__name:"CreateVisitorView",setup(__props){const inputFocused=(0,vue__WEBPACK_IMPORTED_MODULE_1__.ref)(""),hours=(0,vue__WEBPACK_IMPORTED_MODULE_1__.ref)(null),minutes=(0,vue__WEBPACK_IMPORTED_MODULE_1__.ref)(null),dateValidation=(0,vue__WEBPACK_IMPORTED_MODULE_1__.ref)("");function populateHours(){const e=jquery__WEBPACK_IMPORTED_MODULE_10___default()("#hours");for(let t=1;t<24;t++){const a=document.createElement("option");a.value=t<10?`0${t}`:t,a.innerHTML=t<10?`0${t}`:t,e.append(a)}}function populateMinutes(){const e=jquery__WEBPACK_IMPORTED_MODULE_10___default()("#minutes");for(let t=0;t<60;t++){const a=document.createElement("option");a.value=t<10?`0${t}`:t,a.innerHTML=t<10?`0${t}`:t,e.append(a)}}function checkDate(){let e=!0;const t=jquery__WEBPACK_IMPORTED_MODULE_10___default()("#datepicker").val();t?("/"===t.substr(2,1)&&"/"===t.substr(5,1)||(e=!1),10!==t.length&&(e=!1)):(e=!1,jquery__WEBPACK_IMPORTED_MODULE_10___default()("#datepicker").addClass("error"),jquery__WEBPACK_IMPORTED_MODULE_10___default()("#dateValidation").text("Date not selected")),e?(jquery__WEBPACK_IMPORTED_MODULE_10___default()("#datepicker").removeClass("error"),dateValidation.value="Valid Date"):(jquery__WEBPACK_IMPORTED_MODULE_10___default()("#datepicker").addClass("error"),dateValidation.value="Invalid Date")}function checkHours(){"HH"===hours.value?jquery__WEBPACK_IMPORTED_MODULE_10___default()("#hours").addClass("error"):jquery__WEBPACK_IMPORTED_MODULE_10___default()("#hours").removeClass("error")}function checkMinutes(){"MM"===minutes.value?jquery__WEBPACK_IMPORTED_MODULE_10___default()("#minutes").addClass("error"):jquery__WEBPACK_IMPORTED_MODULE_10___default()("#minutes").removeClass("error")}(0,vue__WEBPACK_IMPORTED_MODULE_1__.onMounted)((()=>{const e=e=>new Promise(((t,a)=>{const o=document.createElement("script");o.src=e,o.async=!0,o.onload=t,o.onerror=a,document.body.appendChild(o)}));Promise.all([e("https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.2/jquery.min.js"),e("https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"),e("https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.13.0/moment.min.js"),e("https://cdnjs.cloudflare.com/ajax/libs/formatter.js/0.1.5/formatter.min.js"),e("https://unpkg.com/flatpickr"),e("https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js")]).then((()=>{console.log("Tous les scripts sont chargés !"),window.flatpickr&&(console.log("Flatpickr est bien chargé !"),(0,flatpickr__WEBPACK_IMPORTED_MODULE_11__.A)("#datepicker",{dateFormat:"d/m/Y",onChange:checkDate}))})).catch((e=>{console.error("Erreur de chargement des scripts:",e)})),populateHours(),populateMinutes(),jquery__WEBPACK_IMPORTED_MODULE_10___default()("#datepicker").blur((()=>{setTimeout(checkDate,200)})),jquery__WEBPACK_IMPORTED_MODULE_10___default()("#hours").blur((()=>{checkHours()})),jquery__WEBPACK_IMPORTED_MODULE_10___default()("#minutes").blur((()=>{checkMinutes()}))}));const currentRole=(0,vue__WEBPACK_IMPORTED_MODULE_1__.ref)(),roles=(0,vue__WEBPACK_IMPORTED_MODULE_1__.ref)();roles.value=JSON.parse(localStorage.getItem("userInfo")),currentRole.value=roles.value?.roles[0];const{userInfo:userInfo,fetchUserInfo:fetchUserInfo}=(0,_services_useUserInfo__WEBPACK_IMPORTED_MODULE_5__.P)(),{createVisitor:createVisitor,statusCode:statusCode,visitorId:visitorId,uidn:uidn,firstname:firstname,lastname:lastname,address:address,state:state,country:country,city:city,zipcode:zipcode}=(0,_services_useCreateVisitor__WEBPACK_IMPORTED_MODULE_3__.S)(),{createVisitRequest:createVisitRequest,requestId:requestId,statusCodeReq:statusCodeReq}=(0,_services_useVisitRequest__WEBPACK_IMPORTED_MODULE_7__.M)(),{showCompany:showCompany,company:company}=(0,_services_useCompanies__WEBPACK_IMPORTED_MODULE_9__.R)(),{showEvent:showEvent,event:event}=(0,_services_useEvent__WEBPACK_IMPORTED_MODULE_8__._)(),userStore=(0,_stores_useUserStore__WEBPACK_IMPORTED_MODULE_4__.k)(),isAuthenticated=userStore.isAuthenticated(),router=(0,vue_router__WEBPACK_IMPORTED_MODULE_12__.rd)(),route=(0,vue_router__WEBPACK_IMPORTED_MODULE_12__.lq)(),visitor=(0,vue__WEBPACK_IMPORTED_MODULE_1__.ref)({user_id:userInfo?.value?.id,evenements_id:event?.value?.id??null,company_id:company?.value?.id??null,firstname:"",lastname:"",email:"",contact:"",address:"",id_number:"",organisation_name:"",visitor_type:"",country:"",state:"",city:"",zipcode:"",request_date:"",request_time:"",datepicker:"",hours:null,minutes:null}),request_time=(0,vue__WEBPACK_IMPORTED_MODULE_1__.computed)((()=>{const e=visitor.value.hours?String(visitor.value.hours).padStart(2,"0"):"00",t=visitor.value.minutes?String(visitor.value.minutes).padStart(2,"0"):"00";return`${e}:${t}`})),visitRequest=(0,vue__WEBPACK_IMPORTED_MODULE_1__.ref)({user_id:userInfo?.value?.id,visitor_id:"",host:"",reason:""}),fileName=(0,vue__WEBPACK_IMPORTED_MODULE_1__.ref)(),uploadFile=e=>{const t=e.target.files[0];t?(visitor.value.file=t,fileName.value=t.name):errorMessage.value="Veuillez selectionnez un fichier valide"},errorMessage=(0,vue__WEBPACK_IMPORTED_MODULE_1__.ref)(""),loading=(0,vue__WEBPACK_IMPORTED_MODULE_1__.ref)(!1),fieldLabels={"visitor.firstname":"Prénom","visitor.lastname":"Nom","visitor.id_number":"Numéro d'identification","visitor.organisation_name":"Employeur","visitor.email":"Adresse mail","visitor.contact":"Contact"},validateEmail=e=>{const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.test(e)},validateContact=e=>{const t=/^\d{8,15}$/;return t.test(e)},validateForm=()=>{errorMessage.value="";const requiredFields=Object.keys(fieldLabels);for(const field of requiredFields){const fieldParts=field.split(".");let fieldValue=null;if(2===fieldParts.length){const[objectName,propertyName]=fieldParts;fieldValue=eval(objectName).value[propertyName]}else fieldValue=visitor.value[field];if(!fieldValue){const e=fieldLabels[field];return vue3_toastify__WEBPACK_IMPORTED_MODULE_6__.oR.error(`Le champ "${e}" est requis.`),!1}}const file=visitor.value.file;return file&&file.size>2097152?(errorMessage.value="La taille du fichier ne doit pas dépasser 2 Mo.",!1):visitor.value.email&&validateEmail(visitor.value.email)?!(!visitor.value.contact||!validateContact(visitor.value.contact))||(vue3_toastify__WEBPACK_IMPORTED_MODULE_6__.oR.error("Veuillez entrer un numéro de téléphone valide (8 à 15 chiffres)."),!1):(vue3_toastify__WEBPACK_IMPORTED_MODULE_6__.oR.error("Veuillez entrer une adresse e-mail valide."),!1)},submitForm=async()=>{if(visitor.value.user_id=userInfo?.value?.id,validateForm()){loading.value=!0,await new Promise((e=>setTimeout(e,1e3)));try{visitor.value.evenements_id=event?.value?event?.value.id:null,visitor.value.company_id=event?.value?.companyId??company?.value?.id,visitor.value.request_time=request_time.value,event?.value&&(visitor.value.address=event?.value?.addressName??null,visitor.value.request_date=new Date(event?.value?.date_event).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"}),visitor.value.request_time=new Date(event?.value?.time_event).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),visitor.value.city=event?.value?.city??null,visitor.value.state=event?.value?.state??null,visitor.value.country=event?.value?.country??null,visitor.value.zipcode=event?.value?.zipcode??null),await createVisitor(visitor.value),visitRequest.value.visitor_id=visitorId.value,visitRequest.value.user_id=userInfo?.value?.id,event?.value&&(visitRequest.value.host=event?.value?.name??null,visitRequest.value.reason="not applicable"),await createVisitRequest(visitRequest.value)}catch(e){errorMessage.value=`Erreur: ${e.response?.data?.message||e.message||"Une erreur inconnue s'est produite."}`}finally{loading.value=!1}}},domain=(0,vue__WEBPACK_IMPORTED_MODULE_1__.ref)(route.params.domain||"scb"),title=(0,vue__WEBPACK_IMPORTED_MODULE_1__.ref)(""),event_address=(0,vue__WEBPACK_IMPORTED_MODULE_1__.ref)(""),date_event=(0,vue__WEBPACK_IMPORTED_MODULE_1__.ref)(""),time_event=(0,vue__WEBPACK_IMPORTED_MODULE_1__.ref)(""),event_city=(0,vue__WEBPACK_IMPORTED_MODULE_1__.ref)(""),event_state=(0,vue__WEBPACK_IMPORTED_MODULE_1__.ref)(""),event_country=(0,vue__WEBPACK_IMPORTED_MODULE_1__.ref)(""),event_zipcode=(0,vue__WEBPACK_IMPORTED_MODULE_1__.ref)("");console.log({event:event});const formatDate=e=>{if(!e)return"";const t=new Date(e);return isNaN(t)?"Invalid Date":t.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"})},formatTime=e=>{if(!e)return"";const t=new Date(e);return isNaN(t)?"Invalid Time":t.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})};return(0,vue__WEBPACK_IMPORTED_MODULE_1__.onBeforeMount)((async()=>{await fetchUserInfo(),route.params.slug&&route.params.domain?(await showEvent(route.params.slug),title.value=event?.value?.name,date_event.value=event?.value?.date_event,time_event.value=event?.value?.time_event,event_address.value=event?.value?.addressName,event_city.value=event?.value?.city,event_state.value=event?.value?.state,event_country.value=event?.value?.country,event_zipcode.value=event?.value?.zipcode,console.log("event?.value?",event.value.city),router.push({name:"JoinEvent",params:{domain:route.params.domain,slug:route.params.slug}})):domain.value&&(await showCompany(domain.value),router.push({name:"CreateVisitor",params:{domain:domain.value}}))})),(0,vue__WEBPACK_IMPORTED_MODULE_1__.watch)(statusCode,(e=>{switch(console.log("statusCode123 statusCode123",e),e){case 201:vue3_toastify__WEBPACK_IMPORTED_MODULE_6__.oR.success("Demande créée avec succès."),router.push({name:"RequestMeeting",params:{domain:domain.value,id:requestId.value}});break;case 200:vue3_toastify__WEBPACK_IMPORTED_MODULE_6__.oR.success("Visiteur créé avec succès."),sessionStorage.setItem("visitorData",JSON.stringify({firstname:firstname.value,lastname:lastname.value,address:address.value,state:state.value,country:country.value,city:city.value,zipcode:zipcode.value,title:event?.value?.name,date_event:event?.value?.date_event,time_event:event?.value?.time_event,event_address:event?.value?.addressName,location:event?.value?.location,event_city:event?.value?.city,event_state:event?.value?.state,event_country:event?.value?.country,event_zipcode:event?.value?.zipcode})),router.push({name:"RequestQrCode",params:{domain:domain.value,uidn:uidn.value}});break;case 400:vue3_toastify__WEBPACK_IMPORTED_MODULE_6__.oR.info("La requête est mal formée.");break;case 401:vue3_toastify__WEBPACK_IMPORTED_MODULE_6__.oR.info("Vous devez être authentifié."),router.push({name:"RequestMeeting",params:{domain:domain.value,id:requestId.value}});break;case 403:vue3_toastify__WEBPACK_IMPORTED_MODULE_6__.oR.info("Vous n'avez pas la permission.");break;case 404:vue3_toastify__WEBPACK_IMPORTED_MODULE_6__.oR.info("La ressource demandée n'existe pas.");break;case 500:vue3_toastify__WEBPACK_IMPORTED_MODULE_6__.oR.info("Une erreur interne est survenue.");break;default:vue3_toastify__WEBPACK_IMPORTED_MODULE_6__.oR.info(`Code : ${e}`)}})),(0,vue__WEBPACK_IMPORTED_MODULE_1__.watch)(statusCodeReq,(e=>{if(isAuthenticated)switch(e){case 201:requestId?.value?setTimeout((()=>{router.push({name:"WaitingValidation",params:{domain:domain.value,id:requestId.value}})}),1500):console.error("requestId est null ou undefined.");break;default:break}})),(e,t)=>{const a=(0,vue__WEBPACK_IMPORTED_MODULE_1__.resolveComponent)("router-link");return(0,vue__WEBPACK_IMPORTED_MODULE_1__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("section",_hoisted_1,[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("div",_hoisted_2,[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("div",_hoisted_3,[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("div",_hoisted_4,[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("div",_hoisted_5,[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createVNode)(a,{to:{name:"RequestMeeting"}},{default:(0,vue__WEBPACK_IMPORTED_MODULE_1__.withCtx)((()=>t[56]||(t[56]=[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("img",{src:_assets_back_arrow_table_png__WEBPACK_IMPORTED_MODULE_2__,alt:"back-arrow"},null,-1)]))),_:1})]),t[57]||(t[57]=(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("div",{class:"center-heading"},null,-1)),t[58]||(t[58]=(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("div",{class:"right-hide"},null,-1))])])])]),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("section",_hoisted_6,[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("div",_hoisted_7,[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("section",_hoisted_8,[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("div",_hoisted_9,[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("div",_hoisted_10,[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("div",_hoisted_11,[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("form",{id:"multi-step-form",onSubmit:(0,vue__WEBPACK_IMPORTED_MODULE_1__.withModifiers)(submitForm,["prevent"])},[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("div",_hoisted_12,[t[82]||(t[82]=(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("div",{class:"step-header"},"Step 1 of 5",-1)),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("h2",_hoisted_13,[t[59]||(t[59]=(0,vue__WEBPACK_IMPORTED_MODULE_1__.createTextVNode)(" Demande de rendez-vous ")),(0,vue__WEBPACK_IMPORTED_MODULE_1__.unref)(company)?((0,vue__WEBPACK_IMPORTED_MODULE_1__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementBlock)("span",_hoisted_14," - "+(0,vue__WEBPACK_IMPORTED_MODULE_1__.toDisplayString)((0,vue__WEBPACK_IMPORTED_MODULE_1__.unref)(company).name),1)):(0,vue__WEBPACK_IMPORTED_MODULE_1__.createCommentVNode)("",!0)]),title.value?((0,vue__WEBPACK_IMPORTED_MODULE_1__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementBlock)("h3",_hoisted_15,(0,vue__WEBPACK_IMPORTED_MODULE_1__.toDisplayString)(title.value),1)):(0,vue__WEBPACK_IMPORTED_MODULE_1__.createCommentVNode)("",!0),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("div",_hoisted_16,[t[60]||(t[60]=(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("label",{for:""},[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createTextVNode)("Prénom(s) : "),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("span",{class:"required"},"*")],-1)),(0,vue__WEBPACK_IMPORTED_MODULE_1__.withDirectives)((0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("input",{type:"text",id:"firstname","onUpdate:modelValue":t[0]||(t[0]=e=>visitor.value.firstname=e),onFocus:t[1]||(t[1]=e=>inputFocused.value="firstname"),onBlur:t[2]||(t[2]=e=>inputFocused.value="")},null,544),[[vue__WEBPACK_IMPORTED_MODULE_1__.vModelText,visitor.value.firstname]])]),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("div",_hoisted_17,[t[61]||(t[61]=(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("label",{for:""},[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createTextVNode)("Nom : "),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("span",{class:"required"},"*")],-1)),(0,vue__WEBPACK_IMPORTED_MODULE_1__.withDirectives)((0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("input",{type:"text",id:"lastname","onUpdate:modelValue":t[3]||(t[3]=e=>visitor.value.lastname=e),onFocus:t[4]||(t[4]=e=>inputFocused.value="lastname"),onBlur:t[5]||(t[5]=e=>inputFocused.value="")},null,544),[[vue__WEBPACK_IMPORTED_MODULE_1__.vModelText,visitor.value.lastname]])]),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("div",_hoisted_18,[t[62]||(t[62]=(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("label",{for:""},[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createTextVNode)("Numéro de pièce d’identité : "),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("span",{class:"required"},"*")],-1)),(0,vue__WEBPACK_IMPORTED_MODULE_1__.withDirectives)((0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("input",{type:"text",id:"id_number","onUpdate:modelValue":t[6]||(t[6]=e=>visitor.value.id_number=e),onFocus:t[7]||(t[7]=e=>inputFocused.value="id_number"),onBlur:t[8]||(t[8]=e=>inputFocused.value="")},null,544),[[vue__WEBPACK_IMPORTED_MODULE_1__.vModelText,visitor.value.id_number]])]),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("div",_hoisted_19,[t[63]||(t[63]=(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("label",{for:""},[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createTextVNode)("Pièce d’identité : "),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("span",{class:"required"},"*")],-1)),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("input",{type:"file",id:"file",onChange:uploadFile,onFocus:t[9]||(t[9]=e=>inputFocused.value="file"),onBlur:t[10]||(t[10]=e=>inputFocused.value="")},null,32)]),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("div",_hoisted_20,[t[64]||(t[64]=(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("label",{for:""},[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createTextVNode)("Adresse : "),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("span",{class:"required"},"*")],-1)),title.value?(0,vue__WEBPACK_IMPORTED_MODULE_1__.withDirectives)(((0,vue__WEBPACK_IMPORTED_MODULE_1__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementBlock)("input",{key:1,type:"text",id:"address","onUpdate:modelValue":t[14]||(t[14]=e=>event_address.value=e),disabled:"",readonly:""},null,512)),[[vue__WEBPACK_IMPORTED_MODULE_1__.vModelText,event_address.value]]):(0,vue__WEBPACK_IMPORTED_MODULE_1__.withDirectives)(((0,vue__WEBPACK_IMPORTED_MODULE_1__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementBlock)("input",{key:0,type:"text",id:"address","onUpdate:modelValue":t[11]||(t[11]=e=>visitor.value.address=e),onFocus:t[12]||(t[12]=e=>inputFocused.value="address"),onBlur:t[13]||(t[13]=e=>inputFocused.value="")},null,544)),[[vue__WEBPACK_IMPORTED_MODULE_1__.vModelText,visitor.value.address]])]),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("div",_hoisted_21,[t[65]||(t[65]=(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("label",{for:""},[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createTextVNode)("Ville : "),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("span",{class:"required"},"*")],-1)),title.value?(0,vue__WEBPACK_IMPORTED_MODULE_1__.withDirectives)(((0,vue__WEBPACK_IMPORTED_MODULE_1__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementBlock)("input",{key:1,type:"text",id:"city","onUpdate:modelValue":t[18]||(t[18]=e=>event_city.value=e),disabled:"",readonly:""},null,512)),[[vue__WEBPACK_IMPORTED_MODULE_1__.vModelText,event_city.value]]):(0,vue__WEBPACK_IMPORTED_MODULE_1__.withDirectives)(((0,vue__WEBPACK_IMPORTED_MODULE_1__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementBlock)("input",{key:0,type:"text",id:"city","onUpdate:modelValue":t[15]||(t[15]=e=>visitor.value.city=e),onFocus:t[16]||(t[16]=e=>inputFocused.value="city"),onBlur:t[17]||(t[17]=e=>inputFocused.value="")},null,544)),[[vue__WEBPACK_IMPORTED_MODULE_1__.vModelText,visitor.value.city]])]),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("div",_hoisted_22,[t[67]||(t[67]=(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("label",{for:""},[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createTextVNode)("Pays : "),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("span",{class:"required"},"*")],-1)),title.value?(0,vue__WEBPACK_IMPORTED_MODULE_1__.withDirectives)(((0,vue__WEBPACK_IMPORTED_MODULE_1__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementBlock)("input",{key:1,type:"text",id:"country","onUpdate:modelValue":t[22]||(t[22]=e=>event_country.value=e),disabled:"",readonly:""},null,512)),[[vue__WEBPACK_IMPORTED_MODULE_1__.vModelText,event_country.value]]):(0,vue__WEBPACK_IMPORTED_MODULE_1__.withDirectives)(((0,vue__WEBPACK_IMPORTED_MODULE_1__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementBlock)("select",{key:0,id:"country","onUpdate:modelValue":t[19]||(t[19]=e=>visitor.value.country=e),class:"form-select","aria-label":"Default select example",onFocus:t[20]||(t[20]=e=>inputFocused.value="country"),onBlur:t[21]||(t[21]=e=>inputFocused.value="")},t[66]||(t[66]=[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createStaticVNode)('<option value="" disabled selected> Sélectionner un pays </option><option value="Côte d’ivoire">Côte d&#39;ivoire</option><option value="Afghanistan">Afghanistan</option><option value="Albania">Albania</option><option value="Algeria">Algeria</option><option value="Andorra">Andorra</option><option value="Angola">Angola</option><option value="Antigua and Barbuda"> Antigua and Barbuda </option><option value="Argentina">Argentina</option><option value="Armenia">Armenia</option><option value="Australia">Australia</option><option value="Austria">Austria</option><option value="Azerbaijan">Azerbaijan</option><option value="Bahamas">Bahamas</option><option value="Bahrain">Bahrain</option><option value="Bangladesh">Bangladesh</option><option value="Barbados">Barbados</option><option value="Belarus">Belarus</option><option value="Belgium">Belgium</option><option value="Belize">Belize</option><option value="Benin">Benin</option><option value="Bhutan">Bhutan</option><option value="Bolivia">Bolivia</option><option value="Bosnia and Herzegovina"> Bosnia and Herzegovina </option><option value="Botswana">Botswana</option><option value="Brazil">Brazil</option><option value="Brunei">Brunei</option><option value="Bulgaria">Bulgaria</option><option value="Burkina Faso">Burkina Faso</option><option value="Burundi">Burundi</option><option value="Cabo Verde">Cabo Verde</option><option value="Cambodia">Cambodia</option><option value="Cameroon">Cameroon</option><option value="Canada">Canada</option><option value="Central African Republic"> Central African Republic </option><option value="Chad">Chad</option><option value="Chile">Chile</option><option value="China">China</option><option value="Colombia">Colombia</option><option value="Comoros">Comoros</option><option value="Congo (Congo-Brazzaville)"> Congo (Congo-Brazzaville) </option><option value="Costa Rica">Costa Rica</option><option value="Croatia">Croatia</option><option value="Cuba">Cuba</option><option value="Cyprus">Cyprus</option><option value="Czechia (Czech Republic)"> Czechia (Czech Republic) </option><option value="Denmark">Denmark</option><option value="Djibouti">Djibouti</option><option value="Dominica">Dominica</option><option value="Dominican Republic"> Dominican Republic </option><option value="Ecuador">Ecuador</option><option value="Egypt">Egypt</option><option value="El Salvador">El Salvador</option><option value="Equatorial Guinea"> Equatorial Guinea </option><option value="Eritrea">Eritrea</option><option value="Estonia">Estonia</option><option value="Eswatini (fmr. Swaziland)"> Eswatini (fmr. Swaziland) </option><option value="Ethiopia">Ethiopia</option><option value="Fiji">Fiji</option><option value="Finland">Finland</option><option value="France">France</option><option value="Gabon">Gabon</option><option value="Gambia">Gambia</option><option value="Georgia">Georgia</option><option value="Germany">Germany</option><option value="Ghana">Ghana</option><option value="Greece">Greece</option><option value="Grenada">Grenada</option><option value="Guatemala">Guatemala</option><option value="Guinea">Guinea</option><option value="Guinea-Bissau">Guinea-Bissau</option><option value="Guyana">Guyana</option><option value="Haiti">Haiti</option><option value="Holy See">Holy See</option><option value="Honduras">Honduras</option><option value="Hungary">Hungary</option><option value="Iceland">Iceland</option><option value="India">India</option><option value="Indonesia">Indonesia</option><option value="Iran">Iran</option><option value="Iraq">Iraq</option><option value="Ireland">Ireland</option><option value="Israel">Israel</option><option value="Italy">Italy</option><option value="Jamaica">Jamaica</option><option value="Japan">Japan</option><option value="Jordan">Jordan</option><option value="Kazakhstan">Kazakhstan</option><option value="Kenya">Kenya</option><option value="Kiribati">Kiribati</option><option value="Korea (North)">Korea (North)</option><option value="Korea (South)">Korea (South)</option><option value="Kosovo">Kosovo</option><option value="Kuwait">Kuwait</option><option value="Kyrgyzstan">Kyrgyzstan</option><option value="Laos">Laos</option><option value="Latvia">Latvia</option><option value="Lebanon">Lebanon</option><option value="Lesotho">Lesotho</option><option value="Liberia">Liberia</option><option value="Libya">Libya</option><option value="Liechtenstein">Liechtenstein</option><option value="Lithuania">Lithuania</option><option value="Luxembourg">Luxembourg</option><option value="Madagascar">Madagascar</option><option value="Malawi">Malawi</option><option value="Malaysia">Malaysia</option><option value="Maldives">Maldives</option><option value="Mali">Mali</option><option value="Malta">Malta</option><option value="Marshall Islands">Marshall Islands</option><option value="Mauritania">Mauritania</option><option value="Mauritius">Mauritius</option><option value="Mexico">Mexico</option><option value="Micronesia">Micronesia</option><option value="Moldova">Moldova</option><option value="Monaco">Monaco</option><option value="Mongolia">Mongolia</option><option value="Montenegro">Montenegro</option><option value="Morocco">Morocco</option><option value="Mozambique">Mozambique</option><option value="Myanmar (Burma)">Myanmar (Burma)</option><option value="Namibia">Namibia</option><option value="Nauru">Nauru</option><option value="Nepal">Nepal</option><option value="Netherlands">Netherlands</option><option value="New Zealand">New Zealand</option><option value="Nicaragua">Nicaragua</option><option value="Niger">Niger</option><option value="Nigeria">Nigeria</option><option value="North Macedonia">North Macedonia</option><option value="Norway">Norway</option><option value="Oman">Oman</option><option value="Pakistan">Pakistan</option><option value="Palau">Palau</option><option value="Palestine State">Palestine State</option><option value="Panama">Panama</option><option value="Papua New Guinea">Papua New Guinea</option><option value="Paraguay">Paraguay</option><option value="Peru">Peru</option><option value="Philippines">Philippines</option><option value="Poland">Poland</option><option value="Portugal">Portugal</option><option value="Qatar">Qatar</option><option value="Romania">Romania</option><option value="Russia">Russia</option><option value="Rwanda">Rwanda</option><option value="Saint Kitts and Nevis"> Saint Kitts and Nevis </option><option value="Saint Lucia">Saint Lucia</option><option value="Saint Vincent and the Grenadines"> Saint Vincent and the Grenadines </option><option value="Samoa">Samoa</option><option value="San Marino">San Marino</option><option value="Sao Tome and Principe"> Sao Tome and Principe </option><option value="Saudi Arabia">Saudi Arabia</option><option value="Senegal">Senegal</option><option value="Serbia">Serbia</option><option value="Seychelles">Seychelles</option><option value="Sierra Leone">Sierra Leone</option><option value="Singapore">Singapore</option><option value="Slovakia">Slovakia</option><option value="Slovenia">Slovenia</option><option value="Solomon Islands">Solomon Islands</option><option value="Somalia">Somalia</option><option value="South Africa">South Africa</option><option value="South Sudan">South Sudan</option><option value="Spain">Spain</option><option value="Sri Lanka">Sri Lanka</option><option value="Sudan">Sudan</option><option value="Suriname">Suriname</option><option value="Sweden">Sweden</option><option value="Switzerland">Switzerland</option><option value="Syria">Syria</option><option value="Tajikistan">Tajikistan</option><option value="Tanzania">Tanzania</option><option value="Thailand">Thailand</option><option value="Timor-Leste">Timor-Leste</option><option value="Togo">Togo</option><option value="Tonga">Tonga</option><option value="Trinidad and Tobago"> Trinidad and Tobago </option><option value="Tunisia">Tunisia</option><option value="Turkey">Turkey</option><option value="Turkmenistan">Turkmenistan</option><option value="Tuvalu">Tuvalu</option><option value="Uganda">Uganda</option><option value="Ukraine">Ukraine</option><option value="United Arab Emirates"> United Arab Emirates </option><option value="United Kingdom">United Kingdom</option><option value="United States of America"> United States of America </option><option value="Uruguay">Uruguay</option><option value="Uzbekistan">Uzbekistan</option><option value="Vanuatu">Vanuatu</option><option value="Venezuela">Venezuela</option><option value="Vietnam">Vietnam</option><option value="Yemen">Yemen</option><option value="Zambia">Zambia</option><option value="Zimbabwe">Zimbabwe</option>',196)]),544)),[[vue__WEBPACK_IMPORTED_MODULE_1__.vModelSelect,visitor.value.country]])]),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("div",_hoisted_23,[t[68]||(t[68]=(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("label",{for:""},[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createTextVNode)("Region / Etat : "),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("span",{class:"required"},"*")],-1)),title.value?(0,vue__WEBPACK_IMPORTED_MODULE_1__.withDirectives)(((0,vue__WEBPACK_IMPORTED_MODULE_1__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementBlock)("input",{key:1,type:"text",id:"state","onUpdate:modelValue":t[26]||(t[26]=e=>event_state.value=e),disabled:"",readonly:""},null,512)),[[vue__WEBPACK_IMPORTED_MODULE_1__.vModelText,event_state.value]]):(0,vue__WEBPACK_IMPORTED_MODULE_1__.withDirectives)(((0,vue__WEBPACK_IMPORTED_MODULE_1__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementBlock)("input",{key:0,type:"text",id:"state","onUpdate:modelValue":t[23]||(t[23]=e=>visitor.value.state=e),onFocus:t[24]||(t[24]=e=>inputFocused.value="state"),onBlur:t[25]||(t[25]=e=>inputFocused.value="")},null,544)),[[vue__WEBPACK_IMPORTED_MODULE_1__.vModelText,visitor.value.state]])]),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("div",_hoisted_24,[t[69]||(t[69]=(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("label",{for:""},[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createTextVNode)("Code postale : "),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("span",{class:"required"},"*")],-1)),title.value?(0,vue__WEBPACK_IMPORTED_MODULE_1__.withDirectives)(((0,vue__WEBPACK_IMPORTED_MODULE_1__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementBlock)("input",{key:1,type:"text",id:"zipcode","onUpdate:modelValue":t[30]||(t[30]=e=>event_zipcode.value=e),disabled:"",readonly:""},null,512)),[[vue__WEBPACK_IMPORTED_MODULE_1__.vModelText,event_zipcode.value]]):(0,vue__WEBPACK_IMPORTED_MODULE_1__.withDirectives)(((0,vue__WEBPACK_IMPORTED_MODULE_1__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementBlock)("input",{key:0,type:"text",id:"zipcode","onUpdate:modelValue":t[27]||(t[27]=e=>visitor.value.zipcode=e),onFocus:t[28]||(t[28]=e=>inputFocused.value="zipcode"),onBlur:t[29]||(t[29]=e=>inputFocused.value="")},null,544)),[[vue__WEBPACK_IMPORTED_MODULE_1__.vModelText,visitor.value.zipcode]])]),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("div",_hoisted_25,[t[70]||(t[70]=(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("label",{for:""},[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createTextVNode)("Employeur : "),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("span",{class:"required"},"*")],-1)),(0,vue__WEBPACK_IMPORTED_MODULE_1__.withDirectives)((0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("input",{type:"text",id:"organisation_name","onUpdate:modelValue":t[31]||(t[31]=e=>visitor.value.organisation_name=e),onFocus:t[32]||(t[32]=e=>inputFocused.value="organisation_name"),onBlur:t[33]||(t[33]=e=>inputFocused.value="")},null,544),[[vue__WEBPACK_IMPORTED_MODULE_1__.vModelText,visitor.value.organisation_name]])]),title.value?(0,vue__WEBPACK_IMPORTED_MODULE_1__.createCommentVNode)("",!0):((0,vue__WEBPACK_IMPORTED_MODULE_1__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementBlock)("div",_hoisted_26,[t[71]||(t[71]=(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("label",{for:""},[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createTextVNode)("Nom de l'hôte : "),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("span",{class:"required"},"*")],-1)),(0,vue__WEBPACK_IMPORTED_MODULE_1__.withDirectives)((0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("input",{type:"text",id:"host",name:"host","onUpdate:modelValue":t[34]||(t[34]=e=>visitRequest.value.host=e),onFocus:t[35]||(t[35]=e=>inputFocused.value="host"),onBlur:t[36]||(t[36]=e=>inputFocused.value="")},null,544),[[vue__WEBPACK_IMPORTED_MODULE_1__.vModelText,visitRequest.value.host]])])),title.value?(0,vue__WEBPACK_IMPORTED_MODULE_1__.createCommentVNode)("",!0):((0,vue__WEBPACK_IMPORTED_MODULE_1__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementBlock)("div",_hoisted_27,[t[72]||(t[72]=(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("label",{for:""},[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createTextVNode)("Raison de la visite : "),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("span",{class:"required"},"*")],-1)),(0,vue__WEBPACK_IMPORTED_MODULE_1__.withDirectives)((0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("input",{type:"text",id:"reason",name:"reason","onUpdate:modelValue":t[37]||(t[37]=e=>visitRequest.value.reason=e),onFocus:t[38]||(t[38]=e=>inputFocused.value="reason"),onBlur:t[39]||(t[39]=e=>inputFocused.value="")},null,544),[[vue__WEBPACK_IMPORTED_MODULE_1__.vModelText,visitRequest.value.reason]])])),title.value?((0,vue__WEBPACK_IMPORTED_MODULE_1__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementBlock)("div",_hoisted_30,[t[74]||(t[74]=(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("label",{for:"eventDate"},[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createTextVNode)("Event Date "),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("span",{class:"required"},"*")],-1)),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("input",{type:"text",id:"eventDate",value:formatDate(date_event.value),disabled:"",readonly:""},null,8,_hoisted_31)])):((0,vue__WEBPACK_IMPORTED_MODULE_1__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementBlock)("div",_hoisted_28,[t[73]||(t[73]=(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("label",{for:""},[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createTextVNode)("Sélectionner une date : "),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("span",{class:"required"},"*")],-1)),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("div",_hoisted_29,[(0,vue__WEBPACK_IMPORTED_MODULE_1__.withDirectives)((0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("input",{type:"text",maxlength:"10",id:"datepicker","onUpdate:modelValue":t[40]||(t[40]=e=>visitor.value.request_date=e),placeholder:"DD/MM/YYYY",ref:"datepicker",onFocus:t[41]||(t[41]=e=>inputFocused.value="request_date"),onBlur:t[42]||(t[42]=e=>inputFocused.value="")},null,544),[[vue__WEBPACK_IMPORTED_MODULE_1__.vModelText,visitor.value.request_date]]),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("span",{id:"calendarIcon",onClick:t[43]||(t[43]=(...t)=>e.openDatePicker&&e.openDatePicker(...t)),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",cursor:"pointer"}})])])),title.value?((0,vue__WEBPACK_IMPORTED_MODULE_1__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementBlock)("div",_hoisted_36,[t[79]||(t[79]=(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("label",{for:"state"},[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createTextVNode)("Event Time "),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("span",{class:"required"},"*")],-1)),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("input",{type:"text",id:"eventTime",value:formatTime(time_event.value),disabled:"",readonly:""},null,8,_hoisted_37)])):((0,vue__WEBPACK_IMPORTED_MODULE_1__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementBlock)("div",_hoisted_32,[t[78]||(t[78]=(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("label",{for:"hours"},[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createTextVNode)("Sélectionnez une heure : "),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("span",{class:"required"},"*")],-1)),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("div",_hoisted_33,[(0,vue__WEBPACK_IMPORTED_MODULE_1__.withDirectives)((0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("select",{id:"hours","onUpdate:modelValue":t[44]||(t[44]=e=>visitor.value.hours=e),onFocus:t[45]||(t[45]=e=>inputFocused.value="hours"),onBlur:t[46]||(t[46]=e=>inputFocused.value="")},[t[75]||(t[75]=(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("option",{value:"",disabled:"",selected:""},"HH",-1)),((0,vue__WEBPACK_IMPORTED_MODULE_1__.openBlock)(!0),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,(0,vue__WEBPACK_IMPORTED_MODULE_1__.renderList)(hours.value,(e=>((0,vue__WEBPACK_IMPORTED_MODULE_1__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementBlock)("option",{key:e,value:e},(0,vue__WEBPACK_IMPORTED_MODULE_1__.toDisplayString)(e),9,_hoisted_34)))),128))],544),[[vue__WEBPACK_IMPORTED_MODULE_1__.vModelSelect,visitor.value.hours]]),t[77]||(t[77]=(0,vue__WEBPACK_IMPORTED_MODULE_1__.createTextVNode)(" : ")),(0,vue__WEBPACK_IMPORTED_MODULE_1__.withDirectives)((0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("select",{id:"minutes","onUpdate:modelValue":t[47]||(t[47]=e=>visitor.value.minutes=e),onFocus:t[48]||(t[48]=e=>inputFocused.value="minutes"),onBlur:t[49]||(t[49]=e=>inputFocused.value="")},[t[76]||(t[76]=(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("option",{value:"",disabled:"",selected:""},"MM",-1)),((0,vue__WEBPACK_IMPORTED_MODULE_1__.openBlock)(!0),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,(0,vue__WEBPACK_IMPORTED_MODULE_1__.renderList)(minutes.value,(e=>((0,vue__WEBPACK_IMPORTED_MODULE_1__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementBlock)("option",{key:e,value:e},(0,vue__WEBPACK_IMPORTED_MODULE_1__.toDisplayString)(e),9,_hoisted_35)))),128))],544),[[vue__WEBPACK_IMPORTED_MODULE_1__.vModelSelect,visitor.value.minutes]])])])),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("div",_hoisted_38,[t[80]||(t[80]=(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("label",{for:""},[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createTextVNode)("Email : "),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("span",{class:"required"},"*")],-1)),(0,vue__WEBPACK_IMPORTED_MODULE_1__.withDirectives)((0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("input",{type:"text",id:"email","onUpdate:modelValue":t[50]||(t[50]=e=>visitor.value.email=e),onFocus:t[51]||(t[51]=e=>inputFocused.value="email"),onBlur:t[52]||(t[52]=e=>inputFocused.value="")},null,544),[[vue__WEBPACK_IMPORTED_MODULE_1__.vModelText,visitor.value.email]])]),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("div",_hoisted_39,[t[81]||(t[81]=(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("label",{for:""},[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createTextVNode)("Contact : "),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("span",{class:"required"},"*")],-1)),(0,vue__WEBPACK_IMPORTED_MODULE_1__.withDirectives)((0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("input",{type:"text",id:"contact","onUpdate:modelValue":t[53]||(t[53]=e=>visitor.value.contact=e),onFocus:t[54]||(t[54]=e=>inputFocused.value="contact"),onBlur:t[55]||(t[55]=e=>inputFocused.value="")},null,544),[[vue__WEBPACK_IMPORTED_MODULE_1__.vModelText,visitor.value.contact]])]),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("div",_hoisted_40,[(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementVNode)("button",{type:"submit",disabled:loading.value},[loading.value?((0,vue__WEBPACK_IMPORTED_MODULE_1__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementBlock)("span",_hoisted_42)):((0,vue__WEBPACK_IMPORTED_MODULE_1__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_1__.createElementBlock)("span",_hoisted_43,"Submit"))],8,_hoisted_41)])])],32)])])])])])])],64)}}}},2845:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4114),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_esnext_iterator_constructor_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8992),core_js_modules_esnext_iterator_constructor_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_esnext_iterator_constructor_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_esnext_iterator_filter_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4520),core_js_modules_esnext_iterator_filter_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_esnext_iterator_filter_js__WEBPACK_IMPORTED_MODULE_2__),vue__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5796),_assets_back_arrow_table_png__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7926),_services_createUser__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1125),_services_useCompanies__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(9200),_stores_useUserStore__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3857),vue_router__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(1387),vue3_toastify__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(4084);const _hoisted_1={class:"secure-datatable-heading-back"},_hoisted_2={class:"container"},_hoisted_3={class:"row align-items-center"},_hoisted_4={class:"col col-12 col-md-12 col-sm-12"},_hoisted_5={class:"left-back"},_hoisted_6={class:"request-meeting"},_hoisted_7={class:"background-gradi"},_hoisted_8={class:"secure-form"},_hoisted_9={class:"container"},_hoisted_10={class:"row align-items-center"},_hoisted_11={class:"col col-12 col-md-12 col-sm-12 scanner-form-col"},_hoisted_12={class:"form-step active"},_hoisted_13={class:"text-center mb-5"},_hoisted_14={key:0},_hoisted_15={class:"divide-50"},_hoisted_16={class:"divide-50"},_hoisted_17={class:"divide-50"},_hoisted_18={class:"divide-50"},_hoisted_19={class:"divide-50"},_hoisted_20={class:"divide-50"},_hoisted_21={class:"divide-50"},_hoisted_22={key:0,value:"ROLE_EMPLOYEE"},_hoisted_23={key:1,value:"ROLE_SUPERVISOR"},_hoisted_24={key:2,value:"ROLE_SecureCheck"},_hoisted_25={key:3,value:"ROLE_MANAGER"},_hoisted_26={key:4,value:"ROLE_ADMIN"},_hoisted_27={key:5,value:"ROLE_SUPER_ADMIN"},_hoisted_28={key:0,class:"divide-50"},_hoisted_29=["value"],_hoisted_30={key:1,class:"divide-50"},_hoisted_31=["value"],_hoisted_32={class:"buttons"},_hoisted_33=["disabled"],_hoisted_34={key:0,class:"loader"},_hoisted_35={key:1};__webpack_exports__.A={__name:"CreateUserView",setup(__props){const{user:user,loading:loading,errorMessage:errorMessage,successMessage:successMessage,createUser:createUser,statusCode:statusCode}=(0,_services_createUser__WEBPACK_IMPORTED_MODULE_5__.T)(),router=(0,vue_router__WEBPACK_IMPORTED_MODULE_9__.rd)(),{companies:companies,fetchCompanies:fetchCompanies}=(0,_services_useCompanies__WEBPACK_IMPORTED_MODULE_6__.R)(),users=(0,vue__WEBPACK_IMPORTED_MODULE_3__.ref)({name:"",firstname:"",email:"",password:"",title:"",contact:"",role:"",company:""}),fieldLabels={"user.name":"Nom","user.firstname":"Prénom(s)","user.email":"Adresse mail","user.password":"Mot de passe","user.title":"Titre","user.contact":"Numéro de téléphone","user.role":"Rôle","user.company_id":"Entreprise"},validateEmail=e=>{const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.test(e)},validateContact=e=>{const t=/^\d{8,15}$/;return t.test(e)},validateForm=()=>{errorMessage.value="";const requiredFields=Object.keys(fieldLabels);for(const field of requiredFields){const fieldParts=field.split(".");let fieldValue=null;if(2===fieldParts.length){const[objectName,propertyName]=fieldParts;fieldValue=eval(objectName).value[propertyName]}else fieldValue=users.value[field];if(!fieldValue){const e=fieldLabels[field];return vue3_toastify__WEBPACK_IMPORTED_MODULE_8__.oR.error(`Le champ "${e}" est requis.`),!1}}return user.value.email&&validateEmail(user.value.email)?!(!user.value.contact||!validateContact(user.value.contact))||(vue3_toastify__WEBPACK_IMPORTED_MODULE_8__.oR.error("Veuillez entrer un numéro de téléphone valide (8 à 15 chiffres)."),!1):(vue3_toastify__WEBPACK_IMPORTED_MODULE_8__.oR.error("Veuillez entrer une adresse e-mail valide."),!1)},submitForm=async()=>{if(validateForm()){loading.value=!0,await new Promise((e=>setTimeout(e,1e3)));try{await createUser()}catch(e){errorMessage.value=`Erreur: ${e.response?.data?.message||e.message||"Une erreur inconnue s'est produite."}`}finally{loading.value=!1}}},userStore=(0,_stores_useUserStore__WEBPACK_IMPORTED_MODULE_7__.k)(),currentRole=(0,vue__WEBPACK_IMPORTED_MODULE_3__.ref)(),company_id=(0,vue__WEBPACK_IMPORTED_MODULE_3__.ref)(),roles=(0,vue__WEBPACK_IMPORTED_MODULE_3__.ref)();roles.value=JSON.parse(localStorage.getItem("userInfo"));const userInfo=JSON.parse(localStorage.getItem("userInfo"));currentRole.value=roles.value?.roles[0];const userCompanyId=(0,vue__WEBPACK_IMPORTED_MODULE_3__.ref)(userInfo?.company_id||"");console.log("userCompanyId",userCompanyId),(0,vue__WEBPACK_IMPORTED_MODULE_3__.onMounted)((async()=>{await fetchCompanies(),"ROLE_ADMIN"!==currentRole.value&&userCompanyId.value&&(company_id.value=userCompanyId.value)})),(0,vue__WEBPACK_IMPORTED_MODULE_3__.watch)(statusCode,(e=>{switch(e){case 200:vue3_toastify__WEBPACK_IMPORTED_MODULE_8__.oR.success("OK - Utilisateur créé avec succès."),vue3_toastify__WEBPACK_IMPORTED_MODULE_8__.oR.info(successMessage),router.push(localStorage.getItem("currentCompany")??"/scb/menu");break;case 201:vue3_toastify__WEBPACK_IMPORTED_MODULE_8__.oR.success("Created - L'utilisateur a été créé avec succès."),setTimeout((()=>{router.push({name:"Menu",params:{domain:domain.value??localStorage.getItem("currentCompany")}})}),1400);break;case 400:vue3_toastify__WEBPACK_IMPORTED_MODULE_8__.oR.info("Bad Request - La requête est mal formée.");break;case 401:vue3_toastify__WEBPACK_IMPORTED_MODULE_8__.oR.info("Unauthorized - Vous devez être authentifié.");break;case 403:vue3_toastify__WEBPACK_IMPORTED_MODULE_8__.oR.info("Forbidden - Vous n'avez pas la permission.");break;case 404:vue3_toastify__WEBPACK_IMPORTED_MODULE_8__.oR.info("Not Found - La ressource demandée n'existe pas.");break;case 409:vue3_toastify__WEBPACK_IMPORTED_MODULE_8__.oR.warning("Un compte avec cet email existe déjà pour cette entreprise.");break;case 500:vue3_toastify__WEBPACK_IMPORTED_MODULE_8__.oR.info("Internal Server Error - Une erreur interne est survenue.");break;default:vue3_toastify__WEBPACK_IMPORTED_MODULE_8__.oR.info(`Erreur inconnue - Code : ${e}`)}}));const route=(0,vue_router__WEBPACK_IMPORTED_MODULE_9__.lq)(),domain=(0,vue__WEBPACK_IMPORTED_MODULE_3__.ref)(route.params.domain||"scb"),{showCompany:showCompany}=(0,_services_useCompanies__WEBPACK_IMPORTED_MODULE_6__.R)();(0,vue__WEBPACK_IMPORTED_MODULE_3__.onBeforeMount)((async()=>{if(console.log("Host:",window.location.host),console.log("Path:",window.location.pathname),"/sign-in"!=window.location.pathname){let e=localStorage.getItem("currentCompany");e?await showCompany(e):e=""}}));const filteredCompanies=(0,vue__WEBPACK_IMPORTED_MODULE_3__.computed)((()=>companies.value.filter((e=>e?.id===userCompanyId.value))));return(e,t)=>{const a=(0,vue__WEBPACK_IMPORTED_MODULE_3__.resolveComponent)("router-link");return(0,vue__WEBPACK_IMPORTED_MODULE_3__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_3__.Fragment,null,[(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("section",_hoisted_1,[(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("div",_hoisted_2,[(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("div",_hoisted_3,[(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("div",_hoisted_4,[(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("div",_hoisted_5,[(0,vue__WEBPACK_IMPORTED_MODULE_3__.createVNode)(a,{to:{name:"Menu"}},{default:(0,vue__WEBPACK_IMPORTED_MODULE_3__.withCtx)((()=>t[27]||(t[27]=[(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("img",{src:_assets_back_arrow_table_png__WEBPACK_IMPORTED_MODULE_4__,alt:"back-arrow"},null,-1)]))),_:1})]),t[28]||(t[28]=(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("div",{class:"center-heading"},null,-1)),t[29]||(t[29]=(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("div",{class:"right-hide"},null,-1))])])])]),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("section",_hoisted_6,[(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("div",_hoisted_7,[(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("section",_hoisted_8,[(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("div",_hoisted_9,[(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("div",_hoisted_10,[(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("div",_hoisted_11,[(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("form",{id:"multi-step-form",onSubmit:(0,vue__WEBPACK_IMPORTED_MODULE_3__.withModifiers)(submitForm,["prevent"])},[(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("div",_hoisted_12,[(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("h2",_hoisted_13,[t[30]||(t[30]=(0,vue__WEBPACK_IMPORTED_MODULE_3__.createTextVNode)(" Créer un Utilisateur ")),e.company?((0,vue__WEBPACK_IMPORTED_MODULE_3__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementBlock)("span",_hoisted_14," - "+(0,vue__WEBPACK_IMPORTED_MODULE_3__.toDisplayString)(e.company.name),1)):(0,vue__WEBPACK_IMPORTED_MODULE_3__.createCommentVNode)("",!0)]),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("div",_hoisted_15,[t[31]||(t[31]=(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("label",{for:""},[(0,vue__WEBPACK_IMPORTED_MODULE_3__.createTextVNode)("Nom : "),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("span",{class:"required"},"*")],-1)),(0,vue__WEBPACK_IMPORTED_MODULE_3__.withDirectives)((0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>(0,vue__WEBPACK_IMPORTED_MODULE_3__.unref)(user).name=e),onFocus:t[1]||(t[1]=t=>e.inputFocused="name"),onBlur:t[2]||(t[2]=t=>e.inputFocused="")},null,544),[[vue__WEBPACK_IMPORTED_MODULE_3__.vModelText,(0,vue__WEBPACK_IMPORTED_MODULE_3__.unref)(user).name]])]),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("div",_hoisted_16,[t[32]||(t[32]=(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("label",{for:""},[(0,vue__WEBPACK_IMPORTED_MODULE_3__.createTextVNode)("Prénom(s) : "),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("span",{class:"required"},"*")],-1)),(0,vue__WEBPACK_IMPORTED_MODULE_3__.withDirectives)((0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("input",{type:"text",id:"firstname","onUpdate:modelValue":t[3]||(t[3]=e=>(0,vue__WEBPACK_IMPORTED_MODULE_3__.unref)(user).firstname=e),onFocus:t[4]||(t[4]=t=>e.inputFocused="firstname"),onBlur:t[5]||(t[5]=t=>e.inputFocused="")},null,544),[[vue__WEBPACK_IMPORTED_MODULE_3__.vModelText,(0,vue__WEBPACK_IMPORTED_MODULE_3__.unref)(user).firstname]])]),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("div",_hoisted_17,[t[33]||(t[33]=(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("label",{for:""},[(0,vue__WEBPACK_IMPORTED_MODULE_3__.createTextVNode)("Email : "),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("span",{class:"required"},"*")],-1)),(0,vue__WEBPACK_IMPORTED_MODULE_3__.withDirectives)((0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("input",{type:"text",id:"email","onUpdate:modelValue":t[6]||(t[6]=e=>(0,vue__WEBPACK_IMPORTED_MODULE_3__.unref)(user).email=e),onFocus:t[7]||(t[7]=t=>e.inputFocused="email"),onBlur:t[8]||(t[8]=t=>e.inputFocused="")},null,544),[[vue__WEBPACK_IMPORTED_MODULE_3__.vModelText,(0,vue__WEBPACK_IMPORTED_MODULE_3__.unref)(user).email]])]),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("div",_hoisted_18,[t[34]||(t[34]=(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("label",{for:""},[(0,vue__WEBPACK_IMPORTED_MODULE_3__.createTextVNode)("Mot de passe : "),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("span",{class:"required"},"*")],-1)),(0,vue__WEBPACK_IMPORTED_MODULE_3__.withDirectives)((0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("input",{type:"password",id:"password","onUpdate:modelValue":t[9]||(t[9]=e=>(0,vue__WEBPACK_IMPORTED_MODULE_3__.unref)(user).password=e),onFocus:t[10]||(t[10]=t=>e.inputFocused="password"),onBlur:t[11]||(t[11]=t=>e.inputFocused="")},null,544),[[vue__WEBPACK_IMPORTED_MODULE_3__.vModelText,(0,vue__WEBPACK_IMPORTED_MODULE_3__.unref)(user).password]])]),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("div",_hoisted_19,[t[35]||(t[35]=(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("label",{for:""},[(0,vue__WEBPACK_IMPORTED_MODULE_3__.createTextVNode)("Titre : "),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("span",{class:"required"},"*")],-1)),(0,vue__WEBPACK_IMPORTED_MODULE_3__.withDirectives)((0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("input",{type:"text",id:"title","onUpdate:modelValue":t[12]||(t[12]=e=>(0,vue__WEBPACK_IMPORTED_MODULE_3__.unref)(user).title=e),onFocus:t[13]||(t[13]=t=>e.inputFocused="title"),onBlur:t[14]||(t[14]=t=>e.inputFocused="")},null,544),[[vue__WEBPACK_IMPORTED_MODULE_3__.vModelText,(0,vue__WEBPACK_IMPORTED_MODULE_3__.unref)(user).title]])]),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("div",_hoisted_20,[t[36]||(t[36]=(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("label",{for:""},[(0,vue__WEBPACK_IMPORTED_MODULE_3__.createTextVNode)("Numéro de téléphone : "),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("span",{class:"required"},"*")],-1)),(0,vue__WEBPACK_IMPORTED_MODULE_3__.withDirectives)((0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("input",{type:"text",id:"contact","onUpdate:modelValue":t[15]||(t[15]=e=>(0,vue__WEBPACK_IMPORTED_MODULE_3__.unref)(user).contact=e),onFocus:t[16]||(t[16]=t=>e.inputFocused="contact"),onBlur:t[17]||(t[17]=t=>e.inputFocused="")},null,544),[[vue__WEBPACK_IMPORTED_MODULE_3__.vModelText,(0,vue__WEBPACK_IMPORTED_MODULE_3__.unref)(user).contact]])]),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("div",_hoisted_21,[t[38]||(t[38]=(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("label",{for:""},[(0,vue__WEBPACK_IMPORTED_MODULE_3__.createTextVNode)("Rôle : "),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("span",{class:"required"},"*")],-1)),(0,vue__WEBPACK_IMPORTED_MODULE_3__.withDirectives)((0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("select",{id:"role","onUpdate:modelValue":t[18]||(t[18]=e=>(0,vue__WEBPACK_IMPORTED_MODULE_3__.unref)(user).role=e),class:"form-select","aria-label":"Default select example",onFocus:t[19]||(t[19]=t=>e.inputFocused="role"),onBlur:t[20]||(t[20]=t=>e.inputFocused="")},[t[37]||(t[37]=(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("option",{value:"",disabled:"",selected:""},"Sélectionner un Rôle",-1)),(0,vue__WEBPACK_IMPORTED_MODULE_3__.unref)(userStore).isAdmin(currentRole.value)||(0,vue__WEBPACK_IMPORTED_MODULE_3__.unref)(userStore).isSupervisor(currentRole.value)||(0,vue__WEBPACK_IMPORTED_MODULE_3__.unref)(userStore).isManager(currentRole.value)||(0,vue__WEBPACK_IMPORTED_MODULE_3__.unref)(userStore).isSecureCheck(currentRole.value)?((0,vue__WEBPACK_IMPORTED_MODULE_3__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementBlock)("option",_hoisted_22," Employé (Front Desk) ")):(0,vue__WEBPACK_IMPORTED_MODULE_3__.createCommentVNode)("",!0),(0,vue__WEBPACK_IMPORTED_MODULE_3__.unref)(userStore).isAdmin(currentRole.value)||(0,vue__WEBPACK_IMPORTED_MODULE_3__.unref)(userStore).isManager(currentRole.value)||(0,vue__WEBPACK_IMPORTED_MODULE_3__.unref)(userStore).isSecureCheck(currentRole.value)?((0,vue__WEBPACK_IMPORTED_MODULE_3__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementBlock)("option",_hoisted_23," Superviseur ")):(0,vue__WEBPACK_IMPORTED_MODULE_3__.createCommentVNode)("",!0),(0,vue__WEBPACK_IMPORTED_MODULE_3__.unref)(userStore).isAdmin(currentRole.value)?((0,vue__WEBPACK_IMPORTED_MODULE_3__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementBlock)("option",_hoisted_24," Secure Check ")):(0,vue__WEBPACK_IMPORTED_MODULE_3__.createCommentVNode)("",!0),(0,vue__WEBPACK_IMPORTED_MODULE_3__.unref)(userStore).isAdmin(currentRole.value)?((0,vue__WEBPACK_IMPORTED_MODULE_3__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementBlock)("option",_hoisted_25," Manager ")):(0,vue__WEBPACK_IMPORTED_MODULE_3__.createCommentVNode)("",!0),(0,vue__WEBPACK_IMPORTED_MODULE_3__.unref)(userStore).isAdmin(currentRole.value)?((0,vue__WEBPACK_IMPORTED_MODULE_3__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementBlock)("option",_hoisted_26," Admin ")):(0,vue__WEBPACK_IMPORTED_MODULE_3__.createCommentVNode)("",!0),(0,vue__WEBPACK_IMPORTED_MODULE_3__.unref)(userStore).isAdmin(currentRole.value)||(0,vue__WEBPACK_IMPORTED_MODULE_3__.unref)(userStore).isManager(currentRole.value)?((0,vue__WEBPACK_IMPORTED_MODULE_3__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementBlock)("option",_hoisted_27," Super Admin ")):(0,vue__WEBPACK_IMPORTED_MODULE_3__.createCommentVNode)("",!0)],544),[[vue__WEBPACK_IMPORTED_MODULE_3__.vModelSelect,(0,vue__WEBPACK_IMPORTED_MODULE_3__.unref)(user).role]])]),"ROLE_ADMIN"===currentRole.value||"ROLE_SecureCheck"===currentRole.value?((0,vue__WEBPACK_IMPORTED_MODULE_3__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementBlock)("div",_hoisted_28,[t[40]||(t[40]=(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("label",{for:""},[(0,vue__WEBPACK_IMPORTED_MODULE_3__.createTextVNode)("Entreprise : "),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("span",{class:"required"},"*")],-1)),(0,vue__WEBPACK_IMPORTED_MODULE_3__.withDirectives)((0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("select",{id:"role","onUpdate:modelValue":t[21]||(t[21]=e=>(0,vue__WEBPACK_IMPORTED_MODULE_3__.unref)(user).company_id=e),class:"form-select","aria-label":"Default select example",onFocus:t[22]||(t[22]=t=>e.inputFocused="company_id"),onBlur:t[23]||(t[23]=t=>e.inputFocused="")},[t[39]||(t[39]=(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("option",{value:"",disabled:"",selected:""},"Sélectionner une Entreprise",-1)),((0,vue__WEBPACK_IMPORTED_MODULE_3__.openBlock)(!0),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_3__.Fragment,null,(0,vue__WEBPACK_IMPORTED_MODULE_3__.renderList)((0,vue__WEBPACK_IMPORTED_MODULE_3__.unref)(companies),(e=>((0,vue__WEBPACK_IMPORTED_MODULE_3__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementBlock)("option",{key:e?.id,value:e?.id},(0,vue__WEBPACK_IMPORTED_MODULE_3__.toDisplayString)(e?.name),9,_hoisted_29)))),128))],544),[[vue__WEBPACK_IMPORTED_MODULE_3__.vModelSelect,(0,vue__WEBPACK_IMPORTED_MODULE_3__.unref)(user).company_id]])])):((0,vue__WEBPACK_IMPORTED_MODULE_3__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementBlock)("div",_hoisted_30,[t[41]||(t[41]=(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("label",{for:""},[(0,vue__WEBPACK_IMPORTED_MODULE_3__.createTextVNode)("Entreprise : "),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("span",{class:"required"},"*")],-1)),(0,vue__WEBPACK_IMPORTED_MODULE_3__.withDirectives)((0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("select",{id:"role","onUpdate:modelValue":t[24]||(t[24]=e=>(0,vue__WEBPACK_IMPORTED_MODULE_3__.unref)(user).company_id=e),class:"form-select","aria-label":"Default select example",onFocus:t[25]||(t[25]=t=>e.inputFocused="company_id"),onBlur:t[26]||(t[26]=t=>e.inputFocused="")},[((0,vue__WEBPACK_IMPORTED_MODULE_3__.openBlock)(!0),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_3__.Fragment,null,(0,vue__WEBPACK_IMPORTED_MODULE_3__.renderList)(filteredCompanies.value,(e=>((0,vue__WEBPACK_IMPORTED_MODULE_3__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementBlock)("option",{key:e?.id,value:e?.id},(0,vue__WEBPACK_IMPORTED_MODULE_3__.toDisplayString)(e?.name),9,_hoisted_31)))),128))],544),[[vue__WEBPACK_IMPORTED_MODULE_3__.vModelSelect,(0,vue__WEBPACK_IMPORTED_MODULE_3__.unref)(user).company_id]])])),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("div",_hoisted_32,[(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementVNode)("button",{type:"submit",disabled:(0,vue__WEBPACK_IMPORTED_MODULE_3__.unref)(loading)},[(0,vue__WEBPACK_IMPORTED_MODULE_3__.unref)(loading)?((0,vue__WEBPACK_IMPORTED_MODULE_3__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementBlock)("span",_hoisted_34)):((0,vue__WEBPACK_IMPORTED_MODULE_3__.openBlock)(),(0,vue__WEBPACK_IMPORTED_MODULE_3__.createElementBlock)("span",_hoisted_35,"Submit"))],8,_hoisted_33)])])],32)])])])])])])],64)}}}},7271:function(e,t,a){var o=a(5796),n=a(1387),l=a.p+"img/secure-check-logo.5a09639d.png",i=a(9200),r=a(657);const c=(0,r.nY)("global",{state:()=>({baseUrl:"https://www.securecheck.info/api/public/index.php/api",baseUrl_:"https://www.securecheck.info/api/public/index.php",publicDir:"https://www.securecheck.info/api/public",domain:"scb",logoPath:"",currentPath:""}),actions:{setDomain(e){this.domain=e},setLogoPath(e){this.logoPath=e},setCurrentPath(e){this.currentPath=e}},getters:{getLogoPath:e=>e.logoPath,getCurrentPath:e=>e.currentPath},persist:!0});var s=a(3857);const u=(0,o.reactive)({}),d={class:"top-bar-navbar"},_={class:"container"},m={class:"navbar navbar-expand-lg bg-body-tertiary"},v={class:"container-fluid"},p={key:0,class:"navbar-brand",href:"/"},E=["href"],A=["src","alt"],f={class:"collapse navbar-collapse",id:"navbarSupportedContent"},g={class:"navbar-nav me-auto mb-2 mb-lg-0"},h={class:"nav-item"},C={key:0,class:"nav-item"};var y={__name:"NavbarComponent",setup(e){const t=(0,s.k)(),a=(0,n.lq)(),r=()=>{t.logout()},y=t.isAuthenticated(),{publicDir:V}=c();console.log("Public Directory:",V);const{showCompany:N,company:D}=(0,i.R)(),k=(0,o.ref)(localStorage.getItem("currentCompany")),M=window.location.pathname,b=M.split("/"),B=b[2];console.log("Company Slug:",B),(0,o.onBeforeMount)((async()=>{if("/sign-in"!==window.location.pathname){const e=window.location.pathname.split("/"),t=e[1];console.log("Company Event Slug:",t);const a=localStorage.getItem("currentCompany");k.value=a||t||"",k.value&&await N(k.value)}})),(0,o.watch)((()=>u["company_slug"]),(async e=>{await N(localStorage.getItem("currentCompany")??e)}));const P=(0,o.ref)(JSON.parse(localStorage.getItem("userInfo"))||{}),O=(0,o.ref)(P?.value?.roles?P.value.roles[0]:"");return(0,o.onMounted)((()=>{})),(e,n)=>{const i=(0,o.resolveComponent)("router-link");return(0,o.openBlock)(),(0,o.createElementBlock)("section",d,[(0,o.createElementVNode)("div",_,[(0,o.createElementVNode)("nav",m,[(0,o.createElementVNode)("div",v,[(0,o.unref)(a).params.domain&&"null"!==(0,o.unref)(a).params.domain?((0,o.openBlock)(),(0,o.createElementBlock)("a",{key:1,class:"navbar-brand",href:`/${(0,o.unref)(a).params.domain}`},[(0,o.createElementVNode)("img",{src:`${(0,o.unref)(V)}/logo/${(0,o.unref)(D)?.logo}`,alt:(0,o.unref)(a).params.domain},null,8,A)],8,E)):((0,o.openBlock)(),(0,o.createElementBlock)("a",p,n[0]||(n[0]=[(0,o.createElementVNode)("img",{id:"logoif",src:l,class:"",alt:"secure-check-logo"},null,-1)]))),n[4]||(n[4]=(0,o.createElementVNode)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,o.createElementVNode)("span",{class:"navbar-toggler-icon"})],-1)),(0,o.createElementVNode)("div",f,[(0,o.createElementVNode)("ul",g,[(0,o.createElementVNode)("li",h,[(0,o.unref)(y)?((0,o.openBlock)(),(0,o.createElementBlock)("a",{key:0,onClick:r,class:"nav-link active",role:"button"}," Se déconnecter ")):"Login"!==(0,o.unref)(a).name?((0,o.openBlock)(),(0,o.createBlock)(i,{key:1,to:"/sign-in",class:"nav-link active"},{default:(0,o.withCtx)((()=>n[1]||(n[1]=[(0,o.createTextVNode)(" Se connecter ")]))),_:1})):((0,o.openBlock)(),(0,o.createBlock)(i,{key:2,to:"/request-meeting",class:"nav-link"},{default:(0,o.withCtx)((()=>n[2]||(n[2]=[(0,o.createTextVNode)(" Visite ")]))),_:1}))]),(0,o.unref)(t).isManager(O.value)||(0,o.unref)(t).isSupervisor(O.value)?((0,o.openBlock)(),(0,o.createElementBlock)("li",C,[(0,o.createVNode)(i,{to:`/${(0,o.unref)(D)?.slug||k.value||"scb-systems-africa"}/edit-company/${(0,o.unref)(D)?.slug||k.value||"scb-systems-africa"}`,class:"nav-link"},{default:(0,o.withCtx)((()=>n[3]||(n[3]=[(0,o.createTextVNode)(" Modifier entreprise ")]))),_:1},8,["to"])])):(0,o.createCommentVNode)("",!0)])])])])])])}}};const V=y;var N=V;const D={class:"secure-check-footer"};function k(e,t){return(0,o.openBlock)(),(0,o.createElementBlock)("section",D,t[0]||(t[0]=[(0,o.createElementVNode)("div",{class:"container"},[(0,o.createElementVNode)("div",{class:"row align-items-center"},[(0,o.createElementVNode)("div",{class:"col-12"},[(0,o.createElementVNode)("p",null,[(0,o.createElementVNode)("span",null,"© Copyright "),(0,o.createTextVNode)(),(0,o.createElementVNode)("br"),(0,o.createTextVNode)(" Secure Check 2025")])])])],-1)]))}var M=a(1241);const b={},B=(0,M.A)(b,[["render",k]]);var P=B,O={__name:"HomeView",setup(e){return(e,t)=>{const a=(0,o.resolveComponent)("router-view");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createVNode)(N),(0,o.createVNode)(a),(0,o.createVNode)(P)])}}};const w=O;var R=w,I=Object.assign({name:"App"},{__name:"App",setup(e){const t=(0,n.lq)(),a=()=>{const e=["Home","Login","Menu"];document.body.className=e.includes(t.name)?"bg-white":"bg-gradient"};return(0,o.onMounted)(a),(0,o.watch)(t,a),(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createVNode)((0,o.unref)(R))]))}});const L=I;var U=L,T=(a(8992),a(7550),a.p+"img/secure-check-effect-img.11f5cc53.png"),S=a(8082);function K(){const e=(0,o.ref)(""),t=(0,o.ref)(""),a=(0,o.ref)(!1),n=(0,o.ref)(null),l=(0,o.ref)(null),i=(0,s.k)(),r=(0,o.ref)(null),c=async()=>{a.value=!0,n.value=null,l.value=null;try{const a=await S.A.post("/login_check",{username:e.value,password:t.value});l.value=a.status;const o=a.data.token;return localStorage.setItem("token",o),document.cookie=`token=${o}; path=/; Secure; SameSite=Strict`,i.setToken(o),await u(),a.data}catch(o){l.value=o.response?.status||500,n.value="Login failed: "+(o.response?.data?.message||"Unknown error"),console.error(o)}finally{a.value=!1}},u=async()=>{try{const e=await S.A.get("/user/info");r.value=e.data,localStorage.setItem("userInfo",JSON.stringify(e.data)),console.log("User info:",r.value)}catch(e){console.error("Failed to fetch user info:",e)}};return{username:e,password:t,loading:a,errorMessage:n,statusCode:l,userInfo:r,login:c}}var W=a(4084);const q={class:"login-page"},x={class:"login-div-sec"},Q={class:"container login-div"},F={class:"row"},z={class:"col-md-6 col-right"},J={class:"detail-area"},j={class:"detail-area-inner"},G={class:"form-input-box"},H={class:"form-input-box"},X={class:"submit-button form-input-box"},Z=["value","disabled"],Y={key:0,class:"loader-container"};var $={__name:"LoginView",setup(e){const t=(0,o.ref)(""),{login:a,username:n,password:l,statusCode:i,company_name:r,userInfo:c}=K(),s=(0,o.ref)(!1);(0,o.watch)(i,(e=>{switch(e){case 200:W.oR.success("Connexion réussie."),console.log({company_name:r}),setTimeout((()=>{window.location=c?.value?.company??"scb"}),1500);break;case 201:W.oR.success("Utilisateur connecté avec succès.");break;case 400:W.oR.error("La requête est mal formée.");break;case 401:W.oR.error("Identifiants incorrects.");break;case 403:W.oR.error("  Accès refusé.");break;case 404:W.oR.error("La ressource demandée n'existe pas.");break;case 500:W.oR.error("Une erreur interne est survenue.");break;default:console.log(`Erreur inconnue - Code : ${e}`)}}));let d=localStorage.getItem("currentCompany");const _=(e,t)=>{console.info({params:e,valueAdded:t}),u[e]=t};(0,o.onMounted)((async()=>{"/sign-in"==window.location.pathname&&(d?_("company_slug",d):d="")}));const m=async()=>{if(!n.value)return void W.oR.error("L'adresse email est requise.");const e=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;if(!e.test(n.value))return console.log("Email invalide:",n.value),void W.oR.error("Veuillez saisir une adresse email valide.");if(l.value){s.value=!0,await new Promise((e=>setTimeout(e,1e3)));try{await a()}catch(t){console.error("Erreur lors de la connexion",t),W.oR.error("Une erreur est survenue lors de la connexion.")}finally{s.value=!1}}else W.oR.error("Le mot de passe est requis.")};return(e,a)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",q,[(0,o.createElementVNode)("section",x,[(0,o.createElementVNode)("div",Q,[(0,o.createElementVNode)("div",F,[a[9]||(a[9]=(0,o.createStaticVNode)('<div class="col-md-6 col-left" data-v-67b17b12><div class="login-card-main" data-v-67b17b12><div class="login-card-inner" data-v-67b17b12><div class="img-area" data-v-67b17b12><img src="'+T+'" alt="secure-login-logo" data-v-67b17b12></div></div></div></div>',1)),(0,o.createElementVNode)("div",z,[(0,o.createElementVNode)("div",J,[(0,o.createElementVNode)("div",j,[a[8]||(a[8]=(0,o.createElementVNode)("div",{class:"logo"},[(0,o.createElementVNode)("h1",null,"Login")],-1)),(0,o.createElementVNode)("form",{onSubmit:(0,o.withModifiers)(m,["prevent"])},[(0,o.createElementVNode)("div",G,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"email",id:"client-email",name:"client-email","onUpdate:modelValue":a[0]||(a[0]=e=>(0,o.isRef)(n)?n.value=e:null),onFocus:a[1]||(a[1]=e=>t.value="username"),onBlur:a[2]||(a[2]=e=>t.value="")},null,544),[[o.vModelText,(0,o.unref)(n)]]),(0,o.createElementVNode)("label",{class:(0,o.normalizeClass)({active:"username"===t.value||(0,o.unref)(n)})},"Email",2)]),(0,o.createElementVNode)("div",H,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"password",id:"pwd",name:"pwd","onUpdate:modelValue":a[3]||(a[3]=e=>(0,o.isRef)(l)?l.value=e:null),onFocus:a[4]||(a[4]=e=>t.value="password"),onBlur:a[5]||(a[5]=e=>t.value="")},null,544),[[o.vModelText,(0,o.unref)(l)]]),(0,o.createElementVNode)("label",{class:(0,o.normalizeClass)({active:"password"===t.value||(0,o.unref)(l)})},"Password",2)]),a[7]||(a[7]=(0,o.createElementVNode)("p",null,[(0,o.createElementVNode)("a",{href:"#"},"Change Password")],-1)),(0,o.createElementVNode)("div",X,[(0,o.createElementVNode)("input",{type:"submit",value:s.value?"":"Soumettre",disabled:s.value},null,8,Z),s.value?((0,o.openBlock)(),(0,o.createElementBlock)("div",Y,a[6]||(a[6]=[(0,o.createElementVNode)("div",{class:"loader"},null,-1)]))):(0,o.createCommentVNode)("",!0)])],32)])])])])])])]))}};const ee=(0,M.A)($,[["__scopeId","data-v-67b17b12"]]);var te=ee,ae=a(2845);const oe=ae.A;var ne=oe,le=a(500);const ie=le.A;var re=ie,ce=(a(4114),a(7926)),se=a.p+"img/Symbole_Plan_de_travail_1.790d9bec.png",ue=a.p+"img/3.91b0beb6.png",de=a.p+"img/2.052169a2.png",_e=a.p+"img/1.72558255.png",me=a.p+"img/Liste-Entreprise.32ddcd41.png",ve=a.p+"img/4.43c731b5.png",pe=a.p+"img/5.7aeb91c2.png",Ee=a.p+"img/seances.f9935471.png",Ae=a.p+"img/code-du-manuel.f90b03a4.png",fe=a.p+"img/creer-un-evenement.468839e3.png",ge=a.p+"img/code-QR.e3d5e48a.png",he=a.p+"img/entreprise.007aee11.png";const Ce={class:"secure-datatable-heading-back"},ye={class:"container"},Ve={class:"row align-items-center"},Ne={class:"col col-12 col-md-12 col-sm-12"},De={class:"left-back"},ke={class:"container"},Me={class:"row align-items-center"},be={class:"col col-12 col-md-12 col-sm-12"},Be={class:"controler-image"},Pe={key:1,class_:"animate__animated animate__backInRight animate__delay-8s animate__slow 8s"},Oe={key:2,class_:"animate__animated animate__backInLeft animate__delay-2s animate__slow\t2s"},we={key:3,class_:"animate__animated animate__backInLeft animate__delay-1s animate__slow\t1s"},Re={key:5,class_:"animate__animated animate__backInRight animate__delay-4s animate__slow 4s"},Ie={key:6,class_:"animate__animated animate__backInRight animate__delay-5s animate__slow 5s"},Le={key:7,class_:"animate__animated animate__backInLeft animate__delay-1s animate__slow 1s"},Ue={key:9,class_:"animate__animated animate__backInLeft animate__delay-3s animate__slow 3s"},Te={key:12,class_:"animate__animated animate__backInRight animate__delay-7s animate__slow 7s"},Se={key:13,class_:"animate__animated animate__backInRight animate__delay-8s animate__slow 8s"};var Ke={__name:"MenuView",setup(e){const t=(0,n.lq)(),a=(0,o.ref)(t.params.domain||"scb"),l=(0,s.k)(),r=l.isAuthenticated(),{showCompany:c}=(0,i.R)(),d=(0,o.ref)(localStorage.getItem("currentCompany")),_=(0,n.rd)(),m=(0,o.ref)(),v=(0,o.ref)();return v.value=JSON.parse(localStorage.getItem("userInfo")),m.value=v.value?.roles[0],(0,o.onMounted)((()=>{console.log("Rôle actuel :",m.value),console.log("isAuthenticated :",r),r||(console.log("RequestMeeting"),_.push({name:"RequestMeeting",params:{domain:a.value}}))})),(0,o.onBeforeMount)((async()=>{console.log("Host:",window.location.host),console.log("Path:",window.location.pathname),"/sign-in"!=window.location.pathname&&(d.value?await c(d.value):d.value="")})),console.log("isemployee",l.isEmployee(m)),(0,o.watch)((()=>u["company_slug"]),(async e=>{await c(localStorage.getItem("currentCompany")??e)})),(e,t)=>{const n=(0,o.resolveComponent)("router-link");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createElementVNode)("section",Ce,[(0,o.createElementVNode)("div",ye,[(0,o.createElementVNode)("div",Ve,[(0,o.createElementVNode)("div",Ne,[(0,o.createElementVNode)("div",De,[(0,o.createVNode)(n,{to:{name:"RequestMeeting"}},{default:(0,o.withCtx)((()=>t[0]||(t[0]=[(0,o.createElementVNode)("img",{src:ce,alt:"back-arrow"},null,-1)]))),_:1})]),t[1]||(t[1]=(0,o.createElementVNode)("div",{class:"center-heading"},[(0,o.createElementVNode)("h1",null,"Menu de navigation")],-1)),t[2]||(t[2]=(0,o.createElementVNode)("div",{class:"right-hide"},null,-1))])])])]),(0,o.createElementVNode)("section",{class:(0,o.normalizeClass)([{"hexa-secure-logo-bottom-super":(0,o.unref)(l).isSupervisor(m.value),"hexa-secure-logo-frontdesk":(0,o.unref)(l).isEmployee(m.value)},"hexa-secure-logo_menu hexa-secure-logo-bottom text-center"])},[(0,o.createElementVNode)("div",ke,[(0,o.createElementVNode)("div",Me,[(0,o.createElementVNode)("div",be,[(0,o.createElementVNode)("div",Be,[t[18]||(t[18]=(0,o.createElementVNode)("img",{src:se,class:"",alt:"secure-check-effect-img"},null,-1)),(0,o.createElementVNode)("ul",null,[(0,o.unref)(l).isAdmin(m.value)||(0,o.unref)(l).isManager(m.value)||(0,o.unref)(l).isSecureCheck(m.value)?((0,o.openBlock)(),(0,o.createElementBlock)("li",{key:0,class:(0,o.normalizeClass)([{hidden:(0,o.unref)(l).isSupervisor(m.value)},"animate__animated animate__backInLeft animate__delay-3s animate__slow 3s"])},[(0,o.createVNode)(n,{to:{name:"DisplayEventAttendence",params:{domain:a.value}}},{default:(0,o.withCtx)((()=>t[3]||(t[3]=[(0,o.createElementVNode)("img",{src:ue,alt:"Participer à un évènement d'entreprise",title:"Participer à un évènement d'entreprise"},null,-1),(0,o.createElementVNode)("p",null,"Participer à un évènement",-1)]))),_:1},8,["to"])],2)):(0,o.createCommentVNode)("",!0),(0,o.unref)(l).isAdmin(m.value)||(0,o.unref)(l).isSupervisor(m.value)||(0,o.unref)(l).isSuperAdmin(m.value)||(0,o.unref)(l).isManager(m.value)?((0,o.openBlock)(),(0,o.createElementBlock)("li",Pe,[(0,o.createVNode)(n,{to:{name:"UserAttendence",params:{domain:a.value}}},{default:(0,o.withCtx)((()=>t[4]||(t[4]=[(0,o.createElementVNode)("img",{src:ue,alt:"Participer à un évènement d'entreprise",title:"Participer à un évènement d'entreprise"},null,-1),(0,o.createElementVNode)("p",null," Liste de présence",-1)]))),_:1},8,["to"])])):(0,o.createCommentVNode)("",!0),(0,o.unref)(l).isEmployee(m.value)||(0,o.unref)(l).isAdmin(m.value)||(0,o.unref)(l).isSupervisor(m.value)||(0,o.unref)(l).isSuperAdmin(m.value)||(0,o.unref)(l).isSecureCheck(m.value)?((0,o.openBlock)(),(0,o.createElementBlock)("li",Oe,[(0,o.createVNode)(n,{to:{name:"ListQrcode",params:{domain:a.value}}},{default:(0,o.withCtx)((()=>t[5]||(t[5]=[(0,o.createElementVNode)("img",{src:de,alt:"Demande",title:"Liste des Demandes de visites"},null,-1),(0,o.createElementVNode)("p",null,"Demande",-1)]))),_:1},8,["to"])])):(0,o.createCommentVNode)("",!0),(0,o.unref)(l).isAdmin(m.value)||(0,o.unref)(l).isSupervisor(m.value)||(0,o.unref)(l).isManager(m.value)||(0,o.unref)(l).isSuperAdmin(m.value)||(0,o.unref)(l).isSecureCheck(m.value)?((0,o.openBlock)(),(0,o.createElementBlock)("li",we,[(0,o.createVNode)(n,{to:{name:"EventList",params:{domain:a.value}}},{default:(0,o.withCtx)((()=>t[6]||(t[6]=[(0,o.createElementVNode)("img",{src:_e,alt:"Liste des Evènements",title:"Liste des Evènements"},null,-1),(0,o.createElementVNode)("p",null,"Event list",-1)]))),_:1},8,["to"])])):(0,o.createCommentVNode)("",!0),(0,o.unref)(l).isAdmin(m.value)||(0,o.unref)(l).isManager(m.value)||(0,o.unref)(l).isSuperAdmin(m.value)||(0,o.unref)(l).isSecureCheck(m.value)?((0,o.openBlock)(),(0,o.createElementBlock)("li",{key:4,class:(0,o.normalizeClass)({hidden:(0,o.unref)(l).isSupervisor(m.value)}),class_:"animate__animated animate__backInRight animate__delay-6s animate__slow 6s"},[(0,o.createVNode)(n,{to:{name:"CompanyList",params:{domain:a.value}}},{default:(0,o.withCtx)((()=>t[7]||(t[7]=[(0,o.createElementVNode)("img",{src:me,alt:"Liste Entreprise",title:"Liste Entreprises"},null,-1),(0,o.createElementVNode)("p",null,"Liste Entreprise",-1)]))),_:1},8,["to"])],2)):(0,o.createCommentVNode)("",!0),(0,o.unref)(l).isAdmin(m.value)||(0,o.unref)(l).isSupervisor(m.value)||(0,o.unref)(l).isManager(m.value)||(0,o.unref)(l).isSecureCheck(m.value)?((0,o.openBlock)(),(0,o.createElementBlock)("li",Re,[(0,o.createVNode)(n,{to:{name:"CreateQRCode",params:{domain:a.value}}},{default:(0,o.withCtx)((()=>t[8]||(t[8]=[(0,o.createElementVNode)("img",{src:ve,alt:"Créer QR code",title:"Créer QR code"},null,-1),(0,o.createElementVNode)("p",null,"Créer QR code",-1)]))),_:1},8,["to"])])):(0,o.createCommentVNode)("",!0),(0,o.unref)(l).isAdmin(m.value)||(0,o.unref)(l).isSupervisor(m.value)||(0,o.unref)(l).isSuperAdmin(m.value)||(0,o.unref)(l).isSecureCheck(m.value)?((0,o.openBlock)(),(0,o.createElementBlock)("li",Ie,[(0,o.createVNode)(n,{to:{name:"ListUser",params:{domain:a.value}}},{default:(0,o.withCtx)((()=>t[9]||(t[9]=[(0,o.createElementVNode)("img",{src:pe,alt:"liste Utilisateurs",title:"liste Utilisateurs"},null,-1),(0,o.createElementVNode)("p",null,"Utilisateurs",-1)]))),_:1},8,["to"])])):(0,o.createCommentVNode)("",!0),(0,o.unref)(l).isAdmin(m.value)||(0,o.unref)(l).isManager(m.value)||(0,o.unref)(l).isSupervisor(m.value)||(0,o.unref)(l).isSecureCheck(m.value)?((0,o.openBlock)(),(0,o.createElementBlock)("li",Le,[(0,o.createVNode)(n,{to:{name:"CreateUser",params:{domain:a.value}}},{default:(0,o.withCtx)((()=>t[10]||(t[10]=[(0,o.createElementVNode)("img",{src:Ee,alt:"Créer un Utilisateur",title:"Créer un Utilisateur"},null,-1),(0,o.createElementVNode)("p",null,"+ Utilisateurs",-1)]))),_:1},8,["to"])])):(0,o.createCommentVNode)("",!0),(0,o.unref)(l).isAdmin(m.value)||(0,o.unref)(l).isEmployee(m.value)||(0,o.unref)(l).isSecureCheck(m.value)?((0,o.openBlock)(),(0,o.createElementBlock)("li",{key:8,class:(0,o.normalizeClass)({hidden:(0,o.unref)(l).isSupervisor(m.value)}),class_:"animate__animated animate__backInLeft animate__delay-2s animate__slow 2s"},[(0,o.createVNode)(n,{to:{name:"ManalCheck",params:{domain:a.value}}},{default:(0,o.withCtx)((()=>t[11]||(t[11]=[(0,o.createElementVNode)("img",{src:Ae,alt:"QR Code manuel",title:"QR Code manuel"},null,-1),(0,o.createElementVNode)("p",null,"QR Code manuel",-1)]))),_:1},8,["to"])],2)):(0,o.createCommentVNode)("",!0),(0,o.unref)(l).isAdmin(m.value)||(0,o.unref)(l).isSupervisor(m.value)||(0,o.unref)(l).isSecureCheck(m.value)?((0,o.openBlock)(),(0,o.createElementBlock)("li",Ue,[(0,o.createVNode)(n,{to:{name:"CreateEvent",params:{domain:a.value}}},{default:(0,o.withCtx)((()=>t[12]||(t[12]=[(0,o.createElementVNode)("img",{src:fe,alt:"Créer un évènement",title:"Créer un évènement"},null,-1),(0,o.createElementVNode)("p",null,"Créer un Evènement",-1)]))),_:1},8,["to"])])):(0,o.createCommentVNode)("",!0),(0,o.unref)(l).isAdmin(m.value)||(0,o.unref)(l).isManager(m.value)||(0,o.unref)(l).isEmployee(m.value)?((0,o.openBlock)(),(0,o.createElementBlock)("li",{key:10,class:(0,o.normalizeClass)({hidden:(0,o.unref)(l).isSupervisor(m.value)}),class_:"animate__animated animate__backInRight animate__delay-4s animate__slow 4s"},[(0,o.createVNode)(n,{to:{name:"Camera",params:{domain:a.value}}},{default:(0,o.withCtx)((()=>t[13]||(t[13]=[(0,o.createElementVNode)("img",{src:ge,alt:"Scanner Code QR",title:"Scanner Code QR"},null,-1),(0,o.createElementVNode)("p",null,"Scanner QR",-1)]))),_:1},8,["to"])],2)):(0,o.createCommentVNode)("",!0),(0,o.unref)(l).isAdmin(m.value)||(0,o.unref)(l).isManager(m.value)||(0,o.unref)(l).isSecureCheck(m.value)?((0,o.openBlock)(),(0,o.createElementBlock)("li",{key:11,class:(0,o.normalizeClass)({hidden:(0,o.unref)(l).isSupervisor(m.value)}),class_:"animate__animated animate__backInRight animate__delay-5s animate__slow 5s"},[(0,o.createVNode)(n,{to:{name:"CreateCompany",params:{domain:a.value}}},{default:(0,o.withCtx)((()=>t[14]||(t[14]=[(0,o.createElementVNode)("img",{src:he,alt:"Créer une Entreprise",title:"Créer une Entreprise"},null,-1),(0,o.createElementVNode)("p",null,"+ Entreprise",-1)]))),_:1},8,["to"])],2)):(0,o.createCommentVNode)("",!0),(0,o.unref)(l).isAdmin(m.value)||(0,o.unref)(l).isSupervisor(m.value)||(0,o.unref)(l).isSuperAdmin(m.value)||(0,o.unref)(l).isManager(m.value)||(0,o.unref)(l).isSecureCheck(m.value)?((0,o.openBlock)(),(0,o.createElementBlock)("li",Te,[(0,o.createVNode)(n,{to:{name:"DisplayVisitorCode",params:{domain:a.value}}},{default:(0,o.withCtx)((()=>t[15]||(t[15]=[(0,o.createElementVNode)("img",{src:Ee,alt:"Liste des visiteurs",title:"Liste des visiteurs"},null,-1),(0,o.createElementVNode)("p",null,"Liste des visiteurs",-1)]))),_:1},8,["to"])])):(0,o.createCommentVNode)("",!0),(0,o.unref)(l).isAdmin(m.value)||(0,o.unref)(l).isSupervisor(m.value)||(0,o.unref)(l).isSecureCheck(m.value)?((0,o.openBlock)(),(0,o.createElementBlock)("li",Se,[(0,o.createVNode)(n,{to:{name:"QrCodeList",params:{domain:a.value}}},{default:(0,o.withCtx)((()=>t[16]||(t[16]=[(0,o.createElementVNode)("img",{src:Ee,alt:"Liste des QR Codes Employés",title:"Liste des QR Codes Employés"},null,-1),(0,o.createElementVNode)("p",null,"Liste QR Code",-1)]))),_:1},8,["to"])])):(0,o.createCommentVNode)("",!0),(0,o.unref)(l).isAdmin(m.value)||(0,o.unref)(l).isManager(m.value)||(0,o.unref)(l).isSecureCheck(m.value)?((0,o.openBlock)(),(0,o.createElementBlock)("li",{key:14,class:(0,o.normalizeClass)({hidden:(0,o.unref)(l).isSupervisor(m.value)}),class_:"animate__animated animate__backInLeft animate__delay-3s animate__slow 3s"},[(0,o.createVNode)(n,{to:{name:"CreateQRMembre",params:{domain:a.value}}},{default:(0,o.withCtx)((()=>t[17]||(t[17]=[(0,o.createElementVNode)("img",{src:ue,alt:"Créer une carte de Membre",title:"Créer une carte de Membre"},null,-1),(0,o.createElementVNode)("p",null,"Carte Membre",-1)]))),_:1},8,["to"])],2)):(0,o.createCommentVNode)("",!0)])])])])])],2)],64)}}};const We=(0,M.A)(Ke,[["__scopeId","data-v-38e5ec72"]]);var qe=We;const xe={class:"main-page-div"},Qe={class:"main-page-div-inner"},Fe={class:"secure-menu-button text-center"},ze={class:"container"},Je={class:"row align-items-center g-0"},je={key:0,class:"request-btn"},Ge={key:1,class:"request-btn"},He={key:2,class:"request-btn"},Xe={key:3,class:"request-btn"},Ze={key:0,class:"request-btn"};var Ye={__name:"RequestMeetingView",setup(e){const t=(0,o.ref)(JSON.parse(localStorage.getItem("userInfo"))||{}),a=(0,s.k)(),l=a.isAuthenticated(),r=(0,o.ref)(t?.value?.roles?t.value.roles[0]:""),{showCompany:c}=(0,i.R)(),d=(0,n.lq)(),_=(0,n.rd)(),m=(e,t)=>{console.info({params:e,valueAdded:t}),u[e]=t},v=(0,o.ref)();return(0,o.onBeforeMount)((async()=>{v.value=d.params.domain||"scb",m("company_slug",v.value),localStorage.setItem("currentCompany",v.value);let e=localStorage.getItem("currentCompany");e&&await c(e??v.value),v.value&&_.push({name:"RequestMeeting",params:{domain:v.value}}),localStorage.setItem("roles_list",JSON.stringify(["ROLE_USER","ROLE_EMPLOYEE","ROLE_SUPERVISOR","ROLE_ADMIN","ROLE_SUPER_ADMIN","ROLE_SecureCheck"]))})),(e,t)=>{const n=(0,o.resolveComponent)("router-link");return(0,o.openBlock)(),(0,o.createElementBlock)("div",xe,[(0,o.createElementVNode)("div",Qe,[t[3]||(t[3]=(0,o.createStaticVNode)('<section class="top-bar-with-logo text-center"><div class="container"><div class="row align-items-center"><div class="col col-12 col-md-12 logo-main"></div></div></div></section><section class="hexa-secure-logo text-center"><div class="container"><div class="row align-items-center"><div class="col col-12 col-md-12 col-sm-12"><div><img src="'+T+'" class="" alt="secure-check-effect-img"></div></div></div></div></section>',2)),(0,o.createElementVNode)("section",Fe,[(0,o.createElementVNode)("div",ze,[(0,o.createElementVNode)("div",Je,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)((0,o.unref)(l)?"col-6":"col-12")},[(0,o.unref)(a).isEmployee(r.value)||(0,o.unref)(a).isAdmin(r.value)||(0,o.unref)(a).isManager(r.value)?((0,o.openBlock)(),(0,o.createElementBlock)("div",je,[(0,o.createVNode)(n,{to:{name:"CreateVisitor",params:{domain:v.value}}},{default:(0,o.withCtx)((()=>t[0]||(t[0]=[(0,o.createTextVNode)(" Request-meeting ")]))),_:1},8,["to"])])):(0,o.unref)(a).isSupervisor(r.value)?((0,o.openBlock)(),(0,o.createElementBlock)("div",Ge)):(0,o.unref)(a).isSecureCheck(r.value)?((0,o.openBlock)(),(0,o.createElementBlock)("div",He)):((0,o.openBlock)(),(0,o.createElementBlock)("div",Xe,[(0,o.createVNode)(n,{to:{name:"CreateVisitor",params:{domain:v.value}}},{default:(0,o.withCtx)((()=>t[1]||(t[1]=[(0,o.createTextVNode)(" Request-meeting ")]))),_:1},8,["to"])]))],2),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)((0,o.unref)(l)?"col-6":"col-12")},[(0,o.unref)(a).isEmployee(r.value)||(0,o.unref)(a).isAdmin(r.value)||(0,o.unref)(a).isManager(r.value)||(0,o.unref)(a).isSupervisor(r.value)||(0,o.unref)(a).isSecureCheck(r.value)?((0,o.openBlock)(),(0,o.createElementBlock)("div",Ze,[(0,o.createVNode)(n,{to:{name:"Menu",params:{domain:v.value}}},{default:(0,o.withCtx)((()=>t[2]||(t[2]=[(0,o.createTextVNode)(" Menu ")]))),_:1},8,["to"])])):(0,o.createCommentVNode)("",!0)],2)])])])])])}}};const $e=Ye;var et=$e;a(3949);function tt(){const e=(0,o.ref)(!1),t=(0,o.ref)(null),a=(0,o.ref)(null),n=async(o,n)=>{e.value=!0,t.value=null;try{const t=await S.A.put(`/requests/update/${o}`,n);return e.value=!1,a.value=t.data.data.uidn,t.data}catch(l){throw e.value=!1,t.value=l.response?.data?.message||"An error occurred",l}};return{isLoading:e,error:t,updateRequest:n,uidn:a}}var at=a(2125),ot=a.n(at);const nt={class:"background-gradi request-meeting test12333 visitor_del"},lt={class:"container"},it={class:"row align-items-center"},rt={class:"col col-12 col-md-12 col-sm-12"},ct={class:"company_logo"},st=["src","alt"],ut={class:"visitor_date_time"},dt={key:0,class:"mt-2"},_t={key:1,class:"mt-2"},mt={class:"visitor_details"},vt={key:0,class:"mt-2"},pt={key:1,class:"mt-3"},Et={key:2,class:"mt-2"},At={key:3,class:"mt-3"},ft={key:4,class:"mt-2"},gt={key:5,class:"mt-3"},ht={key:0},Ct={class:"scanner-image"},yt=["src"],Vt={class:"text-center py-2"},Nt={key:1,class:"validate_scanner_button"},Dt={class:"visitor_button"},kt={key:2},Mt={key:2,class:"validate_qrcode"},bt={class:"container"},Bt={class:"row align-items-center"},Pt={class:"col col-12 col-md-12 col-sm-12"},Ot={class:"left-back"},wt={class:"request_btn_validate"},Rt={key:1,class:"text-center"};var It={__name:"waitingValidationView",setup(e){const t=(0,s.k)(),a=(0,n.lq)(),l=(0,n.rd)(),r=(0,o.ref)(!1),d=(0,o.ref)({status:"",confirmed:""}),_=(0,o.ref)(null),{publicDir:m}=c(),{showCompany:v,company:p}=(0,i.R)(),E=(0,o.ref)(localStorage.getItem("currentCompany")||""),{isLoading:A,uidn:f,updateRequest:g}=tt(),h=(0,o.ref)(a.params.domain||"scb"),C=(0,o.ref)(null),y=(0,o.ref)(null),V=t.isAuthenticated(),N=(0,o.ref)(null),D=(0,o.ref)(null),k=(0,o.ref)(null),M=(0,o.ref)(null),b=(0,o.ref)(null),B=(0,o.ref)(null),P=(0,o.ref)(null),O=(0,o.ref)(null),w=(0,o.ref)(null),R=e=>{const[t,a,o]=e.split("/"),n=new Date(`${o}-${a}-${t}`);return isNaN(n)?"Invalid Date":n.toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"}).replace(".","")};(0,o.onMounted)((()=>{h.value&&l.push({name:"WaitingValidation",params:{domain:h.value}}),history.state.firstname&&(w.value=history.state.firstname,console.log("Visitor First name:",w.value)),history.state.lastname&&(O.value=history.state.lastname,console.log("Visitor First name:",O.value)),history.state.address&&(_.value=history.state.address,console.log("Visitor Address Set:",_.value)),history.state.request_date&&(N.value=history.state.request_date,console.log("Visitor request date :",N.value)),history.state.request_time&&(D.value=history.state.request_time,console.log("Visitor Request Time:",D.value)),history.state.organisationName&&(k.value=history.state.organisationName,console.log("Visitor Organisation Name:",k.value)),history.state.city&&(M.value=history.state.city,console.log("Visitor city :",M.value)),history.state.state&&(b.value=history.state.state,console.log("Visitor state:",b.value)),history.state.zipcode&&(B.value=history.state.zipcode,console.log("Visitor zipcode:",B.value)),history.state.country&&(P.value=history.state.country,console.log("Visitor country:",P.value))})),(0,o.onBeforeMount)((async()=>{"/sign-in"!==window.location.pathname&&E.value&&await v(E.value)}));const I=async e=>{d.value.status=e,d.value.confirmed=e;try{1===e&&(await g(a.params.id,d.value),W.oR.success("Mise à jour effectuée"),r.value=!0),0===e&&l.push({name:"ListQrcode",params:{domain:a.params.domain}})}catch(t){console.error("Failed to update request:",t)}},L=()=>{l.push({name:"Menu",params:{domain:h.value,id:a.params.id}})},U=()=>{if(!C.value)return;const e=document.querySelectorAll(".visitor_button");e.forEach((e=>e.style.visibility="hidden")),setTimeout((()=>{ot()(C.value,{useCORS:!0,allowTaint:!0}).then((t=>{e.forEach((e=>e.style.visibility="visible"));const a=t.toDataURL("image/png");y.value=a;const o=document.createElement("a");o.href=a,o.download=`meeting-${h.value}.png`,document.body.appendChild(o),o.click(),document.body.removeChild(o)}))}),100)};return(0,o.watchEffect)((async()=>{(localStorage.getItem("currentCompany")||u["company_slug"])&&await v(localStorage.getItem("currentCompany")??u["company_slug"]),a.state?.firstname&&(w.value=a.state.firstname,console.log("visitor First name:",w.value)),a.state?.lastname&&(O.value=a.state.lastname,console.log("visitor Last name:",O.value)),a.state?.address&&(_.value=a.state.address,console.log("Updated Visitor Address:",_.value)),a.state?.request_date&&(N.value=a.state.request_date,console.log("Updated Visitor Address:",N.value)),a.state?.request_time&&(D.value=a.state.request_time,console.log("Updated Visitor Address:",D.value)),a.state?.organisationName&&(k.value=a.state.organisationName,console.log("Updated Visitor Address:",k.value)),a.state?.city&&(M.value=a.state.city,console.log("Updated Visitor state:",M.value)),a.state?.state&&(b.value=a.state.state,console.log("Updated Visitor state:",b.value)),a.state?.zipcode&&(B.value=a.state.zipcode,console.log("Updated Visitor state:",B.value)),a.state?.country&&(P.value=a.state.country,console.log("Updated Visitor state:",P.value))})),(e,t)=>{const a=(0,o.resolveComponent)("router-link");return(0,o.openBlock)(),(0,o.createElementBlock)("section",nt,[(0,o.createElementVNode)("div",lt,[(0,o.createElementVNode)("div",it,[(0,o.createElementVNode)("div",rt,[r.value?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"popup-logo with_scan_cls request_codescanner",ref_key:"capture",ref:C},[(0,o.createElementVNode)("div",ct,[(0,o.createVNode)(a,{to:{name:"RequestMeeting",params:{domain:h.value}}},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("img",{class:"logo logo12333",src:`${(0,o.unref)(m)}/logo/${(0,o.unref)(p)?.logo}`,alt:(0,o.unref)(p)?.logo},null,8,st)])),_:1},8,["to"]),(0,o.createElementVNode)("div",ut,["No Address Provided"!==D.value?((0,o.openBlock)(),(0,o.createElementBlock)("h4",dt,(0,o.toDisplayString)(D.value),1)):(0,o.createCommentVNode)("",!0),"No Address Provided"!==N.value?((0,o.openBlock)(),(0,o.createElementBlock)("h4",_t,(0,o.toDisplayString)(R(N.value)),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",mt,["No Name"!==w.value?((0,o.openBlock)(),(0,o.createElementBlock)("h4",vt," Name ")):(0,o.createCommentVNode)("",!0),"No Name"!==w.value?((0,o.openBlock)(),(0,o.createElementBlock)("h4",pt,(0,o.toDisplayString)(w.value)+" "+(0,o.toDisplayString)(O.value),1)):(0,o.createCommentVNode)("",!0),"No Address Provided"!==_.value?((0,o.openBlock)(),(0,o.createElementBlock)("h4",Et," Address ")):(0,o.createCommentVNode)("",!0),"No Address Provided"!==_.value?((0,o.openBlock)(),(0,o.createElementBlock)("h4",At,[(0,o.createTextVNode)((0,o.toDisplayString)(_.value)+", ",1),t[3]||(t[3]=(0,o.createElementVNode)("br",null,null,-1)),(0,o.createTextVNode)((0,o.toDisplayString)(M.value)+","+(0,o.toDisplayString)(b.value)+" "+(0,o.toDisplayString)(B.value)+","+(0,o.toDisplayString)(P.value),1)])):(0,o.createCommentVNode)("",!0),"No Address Provided"!==k.value?((0,o.openBlock)(),(0,o.createElementBlock)("h4",ft," Organisation Name ")):(0,o.createCommentVNode)("",!0),"No Address Provided"!==k.value?((0,o.openBlock)(),(0,o.createElementBlock)("h4",gt,(0,o.toDisplayString)(k.value),1)):(0,o.createCommentVNode)("",!0)]),(0,o.unref)(V)?((0,o.openBlock)(),(0,o.createElementBlock)("div",ht,[(0,o.createElementVNode)("div",Ct,[(0,o.createVNode)(a,{to:"/"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("img",{src:`${(0,o.unref)(m)}/qrcode/qrcode-${(0,o.unref)(f)}.png`,class:"",alt:"secure-check-logo"},null,8,yt)])),_:1})])])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",Vt,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)((0,o.unref)(f)),1)])],512)):(0,o.createCommentVNode)("",!0),r.value?((0,o.openBlock)(),(0,o.createElementBlock)("div",Nt,[(0,o.createElementVNode)("div",Dt,[(0,o.unref)(V)?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"request-btn menu-button",onClick:t[0]||(t[0]=e=>L()),role:"button"},t[4]||(t[4]=[(0,o.createElementVNode)("a",null,"Menu",-1)]))):(0,o.createCommentVNode)("",!0),(0,o.unref)(V)?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:1,class:"request-btn capture-button",onClick:U,role:"button"},t[5]||(t[5]=[(0,o.createElementVNode)("a",null,"Capture",-1)]))):((0,o.openBlock)(),(0,o.createElementBlock)("div",kt,t[6]||(t[6]=[(0,o.createElementVNode)("h3",null,"Votre QRCode a été envoyé par e-mail, Merci",-1)])))])])):(0,o.createCommentVNode)("",!0),r.value?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",Mt,[(0,o.createElementVNode)("div",bt,[(0,o.createElementVNode)("div",Bt,[(0,o.createElementVNode)("div",Pt,[(0,o.createElementVNode)("div",Ot,[(0,o.createVNode)(a,{to:{name:"Menu"}},{default:(0,o.withCtx)((()=>t[7]||(t[7]=[(0,o.createElementVNode)("img",{src:ce,alt:"back-arrow"},null,-1)]))),_:1})])])])]),t[11]||(t[11]=(0,o.createElementVNode)("div",{class:"d-flex justify-content-center align-items-center"},[(0,o.createElementVNode)("div",{class:"d-flex justify-content-start mb-4 gap-3 align-items-center"},[(0,o.createElementVNode)("h3",{style:{display:"block ruby"},class:"text-center py-3"}," En attente de la confirmation de l'hôte... ")])],-1)),(0,o.createElementVNode)("div",wt,[(0,o.unref)(A)?((0,o.openBlock)(),(0,o.createElementBlock)("div",Rt,t[9]||(t[9]=[(0,o.createElementVNode)("h3",null,"Chargement...",-1)]))):((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"request-btn",onClick:t[1]||(t[1]=(0,o.withModifiers)((e=>I(1)),["prevent"]))},t[8]||(t[8]=[(0,o.createElementVNode)("a",null,"Valider",-1)]))),(0,o.createElementVNode)("div",{class:"request-btn-cannel",onClick:t[2]||(t[2]=(0,o.withModifiers)((e=>I(0)),["prevent"]))},t[10]||(t[10]=[(0,o.createElementVNode)("a",null,"Annuler",-1)]))])]))])])])])}}};const Lt=(0,M.A)(It,[["__scopeId","data-v-32bdc9c9"]]);var Ut=Lt;a(4520);function Tt(){const e=(0,o.ref)([]),t=(0,o.ref)(null),a=(0,o.ref)(!1),n=async()=>{a.value=!0;try{const t=await S.A.get("/requests/list");e.value=t.data}catch(o){t.value=o.response?o.response.data:"Error fetching data"}finally{a.value=!1}},l=async o=>{a.value=!0;try{const t=await S.A.get("/requests/list/"+o);console.log({response:t.data}),e.value=t.data}catch(n){t.value=n.response?n.response.data:"Error fetching data"}finally{a.value=!1}},i=async t=>{try{const a=await S.A.delete(`/visitor/delete/${t}`);return 200===a.status&&(e.value=e.value.filter((e=>e.id!==t))),a}catch(a){throw console.error("Error deleting visitor:",a),a}};return{requests:e,error:t,loading:a,fetchRequestsByComp:l,fetchRequests:n,deleteVisitor:i}}var St=a(8731);const Kt={class:"secure-datatable-heading-back"},Wt={class:"container"},qt={class:"row align-items-center"},xt={class:"col col-12 col-md-12 col-sm-12"},Qt={key:0,class:"left-back"},Ft={key:1,class:"left-back"},zt={class:"container"},Jt={class:"d-flex justify-content-center align-items-center"},jt={class:"d-flex justify-content-start mb-4 gap-3 align-items-center"},Gt={key:0,class:"mt-3"},Ht={key:1,class:"mt-3"},Xt={class:"text-center"},Zt={key:0},Yt={class:"d-flex justify-content-center py-3"},$t=["src","alt","onClick"],ea={key:0},ta=["src"];var aa={__name:"ListQrCodeView",setup(e){const{requests:t,error:a,fetchRequestsByComp:l,fetchRequests:i,deleteVisitor:r}=Tt(),u=(0,n.rd)(),d=(0,n.lq)(),_=(0,s.k)(),{publicDir:m}=c(),v=e=>{const t=new Date(e);return t.toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})},p=(0,o.ref)(1),E=(0,o.ref)(10),A=(0,o.ref)(JSON.parse(localStorage.getItem("userInfo"))||{}),f=(0,o.ref)(A?.value?.roles?A.value.roles[0]:""),g=e=>{if(!e)return"N/A";const t=new Date(e);return t.toLocaleString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},h=(0,o.computed)((()=>{const e=["Visiteur","Email","Contact","Image","list-qrcode-events"!==V?"Host":[],"list-qrcode-events"!==V?"Reason":[],"list-qrcode-events"==V?"checkIn":[],"Statut","Date Création"];return"ROLE_SUPERVISOR"===f.value&&"list-qrcode-events"===V||e.push("Action"),"ROLE_ADMIN"===f.value&&e.push("Delete"),e}));console.log("Path-event",window.location.pathname);const C=window.location.pathname,y=C.split("/"),V=y[2];console.log(V);const N=(0,o.computed)((()=>{const e=[{slot:"visitor"},{slot:"email"},{slot:"contact"},{slot:"image"},"list-qrcode-events"!==V?"host":[],"list-qrcode-events"!==V?"reason":[],{slot:"checkIn"},{slot:"confirmed"},{slot:"request_date"}];return"ROLE_SUPERVISOR"===f.value&&"list-qrcode-events"!==V||e.push({slot:"actions"}),"ROLE_ADMIN"===f.value&&e.push({slot:"delete"}),e})),D=()=>{u.go(-1)},k=(e,t,a,o,n,l,i,r,c,s,d)=>{u.push({name:"WaitingValidation",params:{domain:O.value,id:e},state:{firstname:t,lastname:a,address:o,request_time:n,request_date:l,organisationName:i,city:r,state:c,zipcode:s,country:d}})},M=(0,o.computed)((()=>{const e=(p.value-1)*E.value,a=e+E.value;return d.params.slug?P.value.slice(e,a):t.value.slice(e,a)}));console.log("requestid234344",M);const{showEvent:b,event:B}=(0,St._)(),P=(0,o.computed)((()=>t.value.filter((e=>e.visitor.evenements?.id===B?.value?.id)))),O=(0,o.ref)(d.params.domain||"scb");(0,o.onMounted)((async()=>{d?.params?.slug&&await b(d?.params?.slug),_.isAdmin(f.value)?(await i(),t.value=P.value,console.log("asfdf",t.value)):(await l(O.value),t.value=P.value,console.log("asfdf",t.value))}));const w=async(e,t)=>{const a=confirm(`Are you sure you want to delete ${t}?`);a&&(await W.oR.promise(r(e),{pending:`Deleting ${t}...`,success:`User ${t} deleted successfully!`,error:`Failed to delete ${t}.`},{position:W.oR.POSITION.TOP_CENTER,autoClose:3e3,closeButton:!0}),await i())},R=(0,o.ref)(null),I=e=>{R.value=e},L=()=>{R.value=null};return(e,n)=>{const l=(0,o.resolveComponent)("router-link"),i=(0,o.resolveComponent)("ui-icon"),r=(0,o.resolveComponent)("ui-pagination"),c=(0,o.resolveComponent)("ui-table");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createElementVNode)("section",Kt,[(0,o.createElementVNode)("div",Wt,[(0,o.createElementVNode)("div",qt,[(0,o.createElementVNode)("div",xt,["list-qrcode-events"!==(0,o.unref)(V)?((0,o.openBlock)(),(0,o.createElementBlock)("div",Qt,[(0,o.createVNode)(l,{to:{name:"Menu"}},{default:(0,o.withCtx)((()=>n[3]||(n[3]=[(0,o.createElementVNode)("img",{src:ce,alt:"back-arrow"},null,-1)]))),_:1})])):((0,o.openBlock)(),(0,o.createElementBlock)("div",Ft,[(0,o.createElementVNode)("button",{class:"employee_back",onClick:n[0]||(n[0]=e=>D())},n[4]||(n[4]=[(0,o.createElementVNode)("img",{src:ce,alt:"back-arrow"},null,-1)]))]))])])])]),(0,o.createElementVNode)("div",zt,[(0,o.createElementVNode)("div",Jt,[(0,o.createElementVNode)("div",jt,[(0,o.unref)(d)?.params?.slug?((0,o.openBlock)(),(0,o.createElementBlock)("h3",Gt,"Liste Participants")):((0,o.openBlock)(),(0,o.createElementBlock)("h3",Ht,"Liste des demandes"))])]),(0,o.createElementVNode)("div",Xt,[(0,o.unref)(d)?.params?.slug?((0,o.openBlock)(),(0,o.createElementBlock)("h4",Zt,"Evenements : "+(0,o.toDisplayString)((0,o.unref)(B)?.name),1)):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",Yt,[(0,o.createVNode)(c,{data:M.value,thead:h.value,tbody:N.value},(0,o.createSlots)({visitor:(0,o.withCtx)((({data:e})=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.visitor.firstname)+" "+(0,o.toDisplayString)(e.visitor.lastname),1)])),email:(0,o.withCtx)((({data:e})=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.visitor.email),1)])),contact:(0,o.withCtx)((({data:e})=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.visitor.contact),1)])),image:(0,o.withCtx)((({data:e})=>[(0,o.createElementVNode)("img",{src:`${(0,o.unref)(m)}/request_image/${e?.visitor?.request_image||"default.png"}`,alt:e?.visitor?.request_image?"Visitor Image":"No Image",height:"75",width:"75",class:"clickable-image",onClick:t=>I(`${(0,o.unref)(m)}/request_image/${e?.visitor?.request_image}`)},null,8,$t)])),request_date:(0,o.withCtx)((({data:e})=>[(0,o.createTextVNode)((0,o.toDisplayString)(v(e.request_date)),1)])),confirmed:(0,o.withCtx)((({data:e})=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.confirmed?"Confirmé":"En attente"),1)])),default:(0,o.withCtx)((()=>[(0,o.unref)(d)?.params?.slug?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(r,{key:0,modelValue:p.value,"onUpdate:modelValue":[n[1]||(n[1]=e=>p.value=e),e.onPage],total:(0,o.unref)(t).length,"show-total":""},null,8,["modelValue","total","onUpdate:modelValue"]))])),_:2},["list-qrcode-events"===(0,o.unref)(V)?{name:"checkIn",fn:(0,o.withCtx)((({data:e})=>[(0,o.createTextVNode)((0,o.toDisplayString)(g(e.visitor.checkIns[0]?.check_in_time)||"No Check-in Data"),1)])),key:"0"}:void 0,"ROLE_SUPERVISOR"!==f.value&&"list-qrcode-events"!==(0,o.unref)(V)?{name:"actions",fn:(0,o.withCtx)((({data:e})=>["ROLE_SUPERVISOR"!==f.value&&1!=e.confirmed&&1!=e.status?((0,o.openBlock)(),(0,o.createBlock)(i,{key:0,role:"button",onClick:t=>k(e.id,e.visitor.firstname,e.visitor.lastname,e.visitor.address,e.visitor.request_time,e.visitor.request_date,e.visitor.organisationName,e.visitor.city,e.visitor.state,e.visitor.zipcode,e.visitor.country)},{default:(0,o.withCtx)((()=>n[5]||(n[5]=[(0,o.createTextVNode)(" edit ")]))),_:2},1032,["onClick"])):(0,o.createCommentVNode)("",!0)])),key:"1"}:void 0,"ROLE_ADMIN"===f.value?{name:"delete",fn:(0,o.withCtx)((({data:e})=>[(0,o.createVNode)(i,{role:"button",onClick:t=>w(e.id,e.visitor.firstname)},{default:(0,o.withCtx)((()=>n[6]||(n[6]=[(0,o.createTextVNode)("delete")]))),_:2},1032,["onClick"])])),key:"2"}:void 0]),1032,["data","thead","tbody"])]),(0,o.unref)(a)?((0,o.openBlock)(),(0,o.createElementBlock)("div",ea,(0,o.toDisplayString)((0,o.unref)(a)),1)):(0,o.createCommentVNode)("",!0),R.value?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:1,class:"modal-overlay",onClick:L},[(0,o.createElementVNode)("button",{class:"close-button",onClick:L},"×"),(0,o.createElementVNode)("div",{class:"modal-content",onClick:n[2]||(n[2]=(0,o.withModifiers)((()=>{}),["stop"]))},[(0,o.createElementVNode)("img",{src:R.value,alt:"Full Image",class:"full-image"},null,8,ta)])])):(0,o.createCommentVNode)("",!0)])],64)}}};const oa=(0,M.A)(aa,[["__scopeId","data-v-31e33c7b"]]);var na=oa;const la={class:"background-gradi request-meeting"},ia={class:"container"},ra={class:"row align-items-center"},ca={class:"col col-12 col-md-12 col-sm-12"},sa={key:0,class:"popup-logo"},ua=["src","alt"],da={key:1,class:"popup-logo"},_a=["src"],ma={class:"text-center py-2"},va={key:1};var pa={__name:"QrCodeView",setup(e){const t=(0,n.lq)(),a=(0,n.rd)(),l=(0,o.ref)(!1),{showCompany:r,company:c}=(0,i.R)(),s=(0,o.ref)(localStorage.getItem("currentCompany")),d=(0,o.ref)(t.params.domain||"scb"),_=()=>{a.push({name:"Menu",params:{domain:d.value}})};return(0,o.onMounted)((()=>{d.value&&a.push({name:"ManalCheck",params:{domain:d.value}})})),(0,o.onBeforeMount)((async()=>{console.log("Host:",window.location.host),console.log("Path:",window.location.pathname),"/sign-in"!=window.location.pathname&&(s.value?await r(s.value):s.value="")})),(0,o.watch)((()=>u["company_slug"]),(async e=>{await r(localStorage.getItem("currentCompany")??e)})),(e,t)=>{const a=(0,o.resolveComponent)("router-link");return(0,o.openBlock)(),(0,o.createElementBlock)("section",la,[(0,o.createElementVNode)("div",ia,[(0,o.createElementVNode)("div",ra,[(0,o.createElementVNode)("div",ca,[l.value?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",sa,[(0,o.createVNode)(a,{to:"/"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("img",{class:"logo logo12333",src:`${e.publicDir}/logo/${(0,o.unref)(c)?.logo}`,alt:(0,o.unref)(c)?.logo},null,8,ua)])),_:1})])),l.value?((0,o.openBlock)(),(0,o.createElementBlock)("div",da,[(0,o.createVNode)(a,{to:"/"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("img",{src:`${e.publicDir}/qrcode/qrcode-${e.uidn}.png`,class:"",alt:"secure-check-logo"},null,8,_a)])),_:1}),(0,o.createElementVNode)("div",ma,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(e.uidn),1)]),e.isAuthenticated?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"request-btn",onClick:t[0]||(t[0]=e=>_()),role:"button"},t[1]||(t[1]=[(0,o.createElementVNode)("a",null,"Menu ",-1)]))):((0,o.openBlock)(),(0,o.createElementBlock)("div",va,t[2]||(t[2]=[(0,o.createElementVNode)("h3",null,"Votre QRCode a été envoyé par e-mail, Merci",-1)])))])):(0,o.createCommentVNode)("",!0)])])])])}}};const Ea=(0,M.A)(pa,[["__scopeId","data-v-6ede9443"]]);var Aa=Ea;a(2577);function fa(){const e=(0,o.ref)(null),t=(0,o.ref)(null),a=(0,o.ref)(null),n=(0,o.ref)([]),l=async(o,n,l,i,r,c,s,u,d=null)=>{try{const t=new FormData;t.append("email",o),t.append("type",n),t.append("firstname",l),t.append("lastname",i),t.append("contact",r),t.append("title",c),t.append("dateExp",s),t.append("company_id",u),d&&t.append("user_document",d);const _=await S.A.post("/create-qr",t,{headers:{"Content-Type":"multipart/form-data"}});e.value=_.data,a.value=_.status}catch(_){t.value=_.response?_.response.data:_.message,a.value=_.response?_.response.status:null}},i=async e=>{try{const t=await S.A.get(`/qruser/${e}`);return t.data}catch(t){return a.value=t.response?.status||500,null}},r=async(e,o)=>{try{const t=await S.A.put(`/qruser/${o}`,e);a.value=t.status}catch(t){a.value=t.response?.status||500}},c=(0,o.ref)(!1),s=(0,o.ref)(null),u=async()=>{c.value=!0,s.value=null;try{const e=await S.A.get("/qruser-list");n.value=e.data}catch(t){s.value="something went wrong.",console.error(t)}finally{c.value=!1}};return{qrResponse:e,error:t,statusCode:a,createQR:l,getUserQrById:i,updateUserQr:r,fetchQrCodeList:u,qrCodes:n}}const ga={class:"secure-datatable-heading-back"},ha={class:"container"},Ca={class:"row align-items-center"},ya={class:"col col-12 col-md-12 col-sm-12"},Va={class:"left-back"},Na={class:"background-gradi request-meeting qr_form meeting-form"},Da={class:"container"},ka={class:"row align-items-center mt-3"},Ma={class:"col col-12 col-md-12 col-sm-12 qr_form_main"},ba={key:0},Ba={key:0},Pa=["value"],Oa={key:1},wa=["value"],Ra={key:0,class:"file-name"},Ia={class:"bt_bottom event_button_new",style:{"margin-top":"40px"}},La={class:"submit-button"},Ua=["disabled"],Ta={class:"scanner-logo-image"},Sa={class:"scanner-left"},Ka=["src","alt"],Wa={class:"user-details"},qa=["src"];var xa={__name:"CreateQRCodeView",setup(e){const{showCompany:t,companies:a,fetchCompanies:l}=(0,i.R)(),r=(0,o.ref)(localStorage.getItem("currentCompany")),s=(0,n.lq)(),d=(0,n.rd)(),_=(0,o.ref)(!1),{publicDir:m}=c(),v=(0,o.ref)(),p=(0,o.ref)("permanent"),E=(0,o.ref)(),A=(0,o.ref)(),f=(0,o.ref)(),g=(0,o.ref)(),h=(0,o.ref)(),C=(0,o.ref)(),y=(0,o.ref)(),V=(0,o.ref)(null),N=(0,o.ref)(null),{createQR:D,statusCode:k,qrResponse:M}=fa(),b=JSON.parse(localStorage.getItem("userInfo")),B=(0,o.ref)(b?.roles?.[0]||"");console.log("currentrole",B);const P=(0,o.ref)(b?.company_id||"");console.log("userCompanyId",P);const O=(0,o.ref)(s.params.domain||"scb");(0,o.onMounted)((()=>{O.value&&d.push({name:"CreateQRCode",params:{domain:O.value}})})),(0,o.onMounted)((async()=>{await l(),"ROLE_ADMIN"!==B.value&&P.value&&(C.value=P.value)}));const w=(0,o.ref)(null);(0,o.watch)(C,(async e=>{if(e&&_.value)try{w.value=a.value.find((t=>t.id===e))}catch(t){console.error("Error getting company details:",t)}}));const R=(0,o.ref)(null),I=(0,o.ref)(""),L=e=>{const t=e.target.files[0];t&&(R.value=t,I.value=t.name)},U=async()=>{try{await D(v.value,p.value,E.value,A.value,f.value,g.value,h.value,C.value,R.value),C.value&&(w.value=a.value.find((e=>e.id===C.value)))}catch(e){console.error("Error submitting form:",e),W.oR.error("Error creating QR code")}};(0,o.watch)(k,(e=>{switch(e){case 200:W.oR.success(" QRCode a créé avec succès."),k.value=200,_.value=!0,console.log("qrresponse",M.value),y.value=M.value.data.uidn;break;case 201:W.oR.success("QRCode a créé avec succès."),k.value=201,console.log({qrResponse:M}),y.value=M.value.data.uidn;break;case 400:W.oR.info("Bad Request - La requête est mal formée.");break;case 401:W.oR.info("Unauthorized - Vous devez être authentifié.");break;case 403:W.oR.info("Forbidden - Vous n'avez pas la permission.");break;case 404:W.oR.info("L'utilisateur n'existe pas"),k.value=null;break;case 500:W.oR.info("Internal Server Error - Une erreur interne est survenue.");break;default:}})),(0,o.onBeforeMount)((async()=>{console.log("Host:",window.location.host),console.log("Path:",window.location.pathname),"/sign-in"!=window.location.pathname&&(r.value?await t(r.value):r.value="")})),(0,o.watch)((()=>u["company_slug"]),(async e=>{await t(localStorage.getItem("currentCompany")??e)}));const T=()=>{if(!V.value)return;const e=document.querySelectorAll(".visitor_button, .capture-button");e.forEach((e=>e.style.display="none")),ot()(V.value,{useCORS:!0,allowTaint:!0}).then((t=>{e.forEach((e=>e.style.display="flex"));const a=t.toDataURL("image/png");N.value=a;const o=document.createElement("a");o.href=a,o.download=`meeting-${O.value}.png`,document.body.appendChild(o),o.click(),document.body.removeChild(o)}))},S=(0,o.computed)((()=>a.value.filter((e=>e?.id===P.value))));return(e,t)=>{const n=(0,o.resolveComponent)("router-link");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createElementVNode)("section",ga,[(0,o.createElementVNode)("div",ha,[(0,o.createElementVNode)("div",Ca,[(0,o.createElementVNode)("div",ya,[(0,o.createElementVNode)("div",Va,[(0,o.createVNode)(n,{to:{name:"Menu"}},{default:(0,o.withCtx)((()=>t[10]||(t[10]=[(0,o.createElementVNode)("img",{src:ce,alt:"back-arrow"},null,-1)]))),_:1})])])])])]),(0,o.createElementVNode)("section",Na,[(0,o.createElementVNode)("div",Da,[(0,o.createElementVNode)("div",ka,[(0,o.createElementVNode)("div",Ma,[_.value?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",ba,[t[23]||(t[23]=(0,o.createElementVNode)("div",{class:"box12",style:{display:"flex"}},[(0,o.createElementVNode)("h3",{class:"text-center"},"Créer un QRCode")],-1)),(0,o.createElementVNode)("form",{onSubmit:(0,o.withModifiers)(U,["prevent"]),class:"mt-5"},[(0,o.createElementVNode)("div",null,[t[11]||(t[11]=(0,o.createElementVNode)("label",{for:"firstname"},"First Name ",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"firstname","onUpdate:modelValue":t[0]||(t[0]=e=>E.value=e),class:"input_style"},null,512),[[o.vModelText,E.value]])]),(0,o.createElementVNode)("div",null,[t[12]||(t[12]=(0,o.createElementVNode)("label",{for:"lastname"},"Last Name ",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"lastname","onUpdate:modelValue":t[1]||(t[1]=e=>A.value=e),class:"input_style"},null,512),[[o.vModelText,A.value]])]),(0,o.createElementVNode)("div",null,[t[13]||(t[13]=(0,o.createElementVNode)("label",{for:"contact"},"Contact",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"contact","onUpdate:modelValue":t[2]||(t[2]=e=>f.value=e),onInput:t[3]||(t[3]=e=>f.value=f.value.replace(/\D/g,"")),class:"input_style"},null,544),[[o.vModelText,f.value]])]),(0,o.createElementVNode)("div",null,[t[14]||(t[14]=(0,o.createElementVNode)("label",{for:"email"},"Email",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"email",id:"email","onUpdate:modelValue":t[4]||(t[4]=e=>v.value=e),class:"input_style"},null,512),[[o.vModelText,v.value]])]),(0,o.createElementVNode)("div",null,[t[15]||(t[15]=(0,o.createElementVNode)("label",{for:"title"},"Title",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"title","onUpdate:modelValue":t[5]||(t[5]=e=>g.value=e),class:"input_style"},null,512),[[o.vModelText,g.value]])]),(0,o.createElementVNode)("div",null,[t[17]||(t[17]=(0,o.createElementVNode)("label",{for:"type_qr"},"QR Type",-1)),(0,o.withDirectives)((0,o.createElementVNode)("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>p.value=e),id:"type_qr",class:"input_style"},t[16]||(t[16]=[(0,o.createElementVNode)("option",{value:"permanent"},"Permanent",-1)]),512),[[o.vModelSelect,p.value]])]),(0,o.createElementVNode)("div",null,[t[18]||(t[18]=(0,o.createElementVNode)("label",{for:"dateExp"}," Expiration Date ",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"date",id:"dateExp","onUpdate:modelValue":t[7]||(t[7]=e=>h.value=e),class:"input_style"},null,512),[[o.vModelText,h.value]])]),"ROLE_ADMIN"===B.value||"ROLE_SecureCheck"===B.value?((0,o.openBlock)(),(0,o.createElementBlock)("div",Ba,[t[20]||(t[20]=(0,o.createElementVNode)("label",{for:""},"Entreprise",-1)),(0,o.withDirectives)((0,o.createElementVNode)("select",{id:"role","onUpdate:modelValue":t[8]||(t[8]=e=>C.value=e),class:"form-select","aria-label":"Default select example"},[t[19]||(t[19]=(0,o.createElementVNode)("option",{value:"",disabled:"",selected:""}," Sélectionner une Entreprise ",-1)),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(a),(e=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:e?.id,value:e?.id},(0,o.toDisplayString)(e?.name),9,Pa)))),128))],512),[[o.vModelSelect,C.value]])])):((0,o.openBlock)(),(0,o.createElementBlock)("div",Oa,[t[21]||(t[21]=(0,o.createElementVNode)("label",{for:"role"},"Entreprise",-1)),(0,o.withDirectives)((0,o.createElementVNode)("select",{id:"role","onUpdate:modelValue":t[9]||(t[9]=e=>C.value=e),class:"form-select","aria-label":"Default select example",disabled:!0},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(S.value,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:e?.id,value:e?.id},(0,o.toDisplayString)(e?.name),9,wa)))),128))],512),[[o.vModelSelect,C.value]])])),(0,o.createElementVNode)("div",null,[t[22]||(t[22]=(0,o.createElementVNode)("label",{for:"user_document"},"User Document",-1)),(0,o.createElementVNode)("input",{type:"file",id:"user_document",onChange:L,accept:".pdf,.doc,.docx,image/*",class:"input_style",required:""},null,32),I.value?((0,o.openBlock)(),(0,o.createElementBlock)("small",Ra,"Selected file: "+(0,o.toDisplayString)(I.value),1)):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",Ia,[(0,o.createElementVNode)("div",La,[(0,o.createElementVNode)("input",{type:"submit",value:"Soumettre",disabled:e.loading},null,8,Ua)])])],32)])),_.value?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:1,class:"text-center create-qr_section",ref_key:"capture",ref:V},[(0,o.createElementVNode)("div",Ta,[(0,o.createElementVNode)("div",Sa,[w.value?.logo?((0,o.openBlock)(),(0,o.createElementBlock)("img",{key:0,class:"card_logologo12333",src:`${(0,o.unref)(m)}/logo/${w.value.logo}`,alt:w.value.name,width:"50",height:"50"},null,8,Ka)):(0,o.createCommentVNode)("",!0)]),t[24]||(t[24]=(0,o.createElementVNode)("div",{class:"scanner-right"},null,-1))]),(0,o.createElementVNode)("div",Wa,[(0,o.createElementVNode)("p",null,[t[25]||(t[25]=(0,o.createElementVNode)("strong",null,"Name:",-1)),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(E.value)+" "+(0,o.toDisplayString)(A.value),1)]),(0,o.createElementVNode)("p",null,[t[26]||(t[26]=(0,o.createElementVNode)("strong",null,"Email:",-1)),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(v.value),1)]),(0,o.createElementVNode)("p",null,[t[27]||(t[27]=(0,o.createElementVNode)("strong",null,"Contact:",-1)),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(f.value),1)]),(0,o.createElementVNode)("p",null,[t[28]||(t[28]=(0,o.createElementVNode)("strong",null,"Title:",-1)),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(g.value),1)])]),(0,o.createElementVNode)("img",{src:`${(0,o.unref)(m)}/qrcode-user/qrcode-${y.value}.png`,alt:"QR Code"},null,8,qa),(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(y.value),1)],512)):(0,o.createCommentVNode)("",!0),_.value?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:2,class:"user_Qr_code",onClick:T,role:"button"},t[29]||(t[29]=[(0,o.createElementVNode)("a",{href:"#"},"Capture",-1)]))):(0,o.createCommentVNode)("",!0)])])])])],64)}}};const Qa=(0,M.A)(xa,[["__scopeId","data-v-646b405d"]]);var Fa=Qa;function za(){const e=(0,o.ref)(null),t=(0,o.ref)(null),a=(0,o.ref)(null),n=(0,o.ref)([]),l=async(o,n,l,i,r,c,s,u,d=null)=>{try{const t=new FormData;t.append("email",o),t.append("type",n),t.append("firstname",l),t.append("lastname",i),t.append("contact",r),t.append("title",c),t.append("dateExp",s),t.append("company_id",u),d&&t.append("user_document",d);const _=await S.A.post("/create-member",t,{headers:{"Content-Type":"multipart/form-data"}});e.value=_.data,a.value=_.status}catch(_){t.value=_.response?_.response.data:_.message,a.value=_.response?_.response.status:null}},i=async e=>{try{const t=await S.A.get(`/qrusermembre/${e}`);return t.data}catch(t){return a.value=t.response?.status||500,null}},r=async(e,o)=>{try{const t=await S.A.put(`/qrusermembre/${o}`,e);a.value=t.status}catch(t){a.value=t.response?.status||500}},c=(0,o.ref)(!1),s=(0,o.ref)(null),u=async()=>{c.value=!0,s.value=null;try{const e=await S.A.get("/qrmembre-list");n.value=e.data}catch(t){s.value="something went wrong.",console.error(t)}finally{c.value=!1}};return{qrResponse:e,error:t,statusCode:a,createQRMembre:l,getMembreQrById:i,updateMembreQr:r,fetchQrCodeList:u,qrCodes:n}}const Ja={class:"secure-datatable-heading-back"},ja={class:"container"},Ga={class:"row align-items-center"},Ha={class:"col col-12 col-md-12 col-sm-12"},Xa={class:"left-back"},Za={class:"background-gradi request-meeting qr_form meeting-form"},Ya={class:"container"},$a={class:"row align-items-center mt-3"},eo={class:"col col-12 col-md-12 col-sm-12 qr_form_main"},to={key:0},ao={key:0},oo=["value"],no={key:1},lo=["value"],io={key:0,class:"file-name"},ro={class:"bt_bottom event_button_new",style:{"margin-top":"40px"}},co={class:"submit-button"},so=["disabled"],uo={class:"scanner-logo-image"},_o={class:"scanner-left"},mo=["src","alt"],vo={class:"user-details"},po=["src"];var Eo={__name:"CreateQRMembreView",setup(e){const{showCompany:t,companies:a,fetchCompanies:l}=(0,i.R)(),r=(0,o.ref)(localStorage.getItem("currentCompany")),s=(0,n.lq)(),d=(0,n.rd)(),_=(0,o.ref)(!1),{publicDir:m}=c(),v=(0,o.ref)(),p=(0,o.ref)("permanent"),E=(0,o.ref)(),A=(0,o.ref)(),f=(0,o.ref)(),g=(0,o.ref)(),h=(0,o.ref)(),C=(0,o.ref)(),y=(0,o.ref)(),V=(0,o.ref)(null),N=(0,o.ref)(null),{createQRMembre:D,statusCode:k,qrResponse:M}=za(),b=JSON.parse(localStorage.getItem("userInfo")),B=(0,o.ref)(b?.roles?.[0]||"");console.log("currentrole",B);const P=(0,o.ref)(b?.company_id||"");console.log("userCompanyId",P);const O=(0,o.ref)(s.params.domain||"scb");(0,o.onMounted)((()=>{O.value&&d.push({name:"CreateQRMembre",params:{domain:O.value}})})),(0,o.onMounted)((async()=>{await l(),"ROLE_ADMIN"!==B.value&&P.value&&(C.value=P.value)}));const w=(0,o.ref)(null);(0,o.watch)(C,(async e=>{if(e&&_.value)try{w.value=a.value.find((t=>t.id===e))}catch(t){console.error("Error getting company details:",t)}}));const R=(0,o.ref)(null),I=(0,o.ref)(""),L=e=>{const t=e.target.files[0];t&&(R.value=t,I.value=t.name)},U=async()=>{try{await D(v.value,p.value,E.value,A.value,f.value,g.value,h.value,C.value,R.value),C.value&&(w.value=a.value.find((e=>e.id===C.value)))}catch(e){console.error("Error submitting form:",e),W.oR.error("Error creating QR code")}};(0,o.watch)(k,(e=>{switch(e){case 200:W.oR.success(" QRCode a créé avec succès."),k.value=200,_.value=!0,console.log("qrresponse",M.value),y.value=M.value.data.uidn;break;case 201:W.oR.success("QRCode a créé avec succès."),k.value=201,console.log({qrResponse:M}),y.value=M.value.data.uidn;break;case 400:W.oR.info("Bad Request - La requête est mal formée.");break;case 401:W.oR.info("Unauthorized - Vous devez être authentifié.");break;case 403:W.oR.info("Forbidden - Vous n'avez pas la permission.");break;case 404:W.oR.info("L'utilisateur n'existe pas"),k.value=null;break;case 500:W.oR.info("Internal Server Error - Une erreur interne est survenue.");break;default:}})),(0,o.onBeforeMount)((async()=>{console.log("Host:",window.location.host),console.log("Path:",window.location.pathname),"/sign-in"!=window.location.pathname&&(r.value?await t(r.value):r.value="")})),(0,o.watch)((()=>u["company_slug"]),(async e=>{await t(localStorage.getItem("currentCompany")??e)}));const T=()=>{if(!V.value)return;const e=document.querySelectorAll(".visitor_button, .capture-button");e.forEach((e=>e.style.display="none")),ot()(V.value,{useCORS:!0,allowTaint:!0}).then((t=>{e.forEach((e=>e.style.display="flex"));const a=t.toDataURL("image/png");N.value=a;const o=document.createElement("a");o.href=a,o.download=`meeting-${O.value}.png`,document.body.appendChild(o),o.click(),document.body.removeChild(o)}))},S=(0,o.computed)((()=>a.value.filter((e=>e?.id===P.value))));return(e,t)=>{const n=(0,o.resolveComponent)("router-link");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createElementVNode)("section",Ja,[(0,o.createElementVNode)("div",ja,[(0,o.createElementVNode)("div",Ga,[(0,o.createElementVNode)("div",Ha,[(0,o.createElementVNode)("div",Xa,[(0,o.createVNode)(n,{to:{name:"Menu"}},{default:(0,o.withCtx)((()=>t[9]||(t[9]=[(0,o.createElementVNode)("img",{src:ce,alt:"back-arrow"},null,-1)]))),_:1})])])])])]),(0,o.createElementVNode)("section",Za,[(0,o.createElementVNode)("div",Ya,[(0,o.createElementVNode)("div",$a,[(0,o.createElementVNode)("div",eo,[_.value?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",to,[t[21]||(t[21]=(0,o.createElementVNode)("div",{class:"box12",style:{display:"flex"}},[(0,o.createElementVNode)("h3",{class:"text-center"},"Créer un QRCode")],-1)),(0,o.createElementVNode)("form",{onSubmit:(0,o.withModifiers)(U,["prevent"]),class:"mt-5"},[(0,o.createElementVNode)("div",null,[t[10]||(t[10]=(0,o.createElementVNode)("label",{for:"firstname"},"First Name ",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"firstname","onUpdate:modelValue":t[0]||(t[0]=e=>E.value=e),class:"input_style"},null,512),[[o.vModelText,E.value]])]),(0,o.createElementVNode)("div",null,[t[11]||(t[11]=(0,o.createElementVNode)("label",{for:"lastname"},"Last Name ",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"lastname","onUpdate:modelValue":t[1]||(t[1]=e=>A.value=e),class:"input_style"},null,512),[[o.vModelText,A.value]])]),(0,o.createElementVNode)("div",null,[t[12]||(t[12]=(0,o.createElementVNode)("label",{for:"contact"},"Contact",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"contact","onUpdate:modelValue":t[2]||(t[2]=e=>f.value=e),onInput:t[3]||(t[3]=e=>f.value=f.value.replace(/\D/g,"")),class:"input_style"},null,544),[[o.vModelText,f.value]])]),(0,o.createElementVNode)("div",null,[t[13]||(t[13]=(0,o.createElementVNode)("label",{for:"email"},"Email",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"email",id:"email","onUpdate:modelValue":t[4]||(t[4]=e=>v.value=e),class:"input_style"},null,512),[[o.vModelText,v.value]])]),(0,o.createElementVNode)("div",null,[t[14]||(t[14]=(0,o.createElementVNode)("label",{for:"title"},"Title",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"title","onUpdate:modelValue":t[5]||(t[5]=e=>g.value=e),class:"input_style"},null,512),[[o.vModelText,g.value]])]),(0,o.createElementVNode)("div",null,[t[16]||(t[16]=(0,o.createElementVNode)("label",{for:"type_qr"},"QR Type",-1)),(0,o.withDirectives)((0,o.createElementVNode)("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>p.value=e),id:"type_qr",class:"input_style"},t[15]||(t[15]=[(0,o.createElementVNode)("option",{value:"permanent"},"Permanent",-1)]),512),[[o.vModelSelect,p.value]])]),"ROLE_ADMIN"===B.value||"ROLE_SecureCheck"===B.value?((0,o.openBlock)(),(0,o.createElementBlock)("div",ao,[t[18]||(t[18]=(0,o.createElementVNode)("label",{for:""},"Entreprise",-1)),(0,o.withDirectives)((0,o.createElementVNode)("select",{id:"role","onUpdate:modelValue":t[7]||(t[7]=e=>C.value=e),class:"form-select","aria-label":"Default select example"},[t[17]||(t[17]=(0,o.createElementVNode)("option",{value:"",disabled:"",selected:""}," Sélectionner une Entreprise ",-1)),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(a),(e=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:e?.id,value:e?.id},(0,o.toDisplayString)(e?.name),9,oo)))),128))],512),[[o.vModelSelect,C.value]])])):((0,o.openBlock)(),(0,o.createElementBlock)("div",no,[t[19]||(t[19]=(0,o.createElementVNode)("label",{for:"role"},"Entreprise",-1)),(0,o.withDirectives)((0,o.createElementVNode)("select",{id:"role","onUpdate:modelValue":t[8]||(t[8]=e=>C.value=e),class:"form-select","aria-label":"Default select example",disabled:!0},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(S.value,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:e?.id,value:e?.id},(0,o.toDisplayString)(e?.name),9,lo)))),128))],512),[[o.vModelSelect,C.value]])])),(0,o.createElementVNode)("div",null,[t[20]||(t[20]=(0,o.createElementVNode)("label",{for:"user_document"},"User Document",-1)),(0,o.createElementVNode)("input",{type:"file",id:"user_document",onChange:L,accept:".pdf,.doc,.docx,image/*",class:"input_style",required:""},null,32),I.value?((0,o.openBlock)(),(0,o.createElementBlock)("small",io,"Selected file: "+(0,o.toDisplayString)(I.value),1)):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",ro,[(0,o.createElementVNode)("div",co,[(0,o.createElementVNode)("input",{type:"submit",value:"Soumettre",disabled:e.loading},null,8,so)])])],32)])),_.value?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:1,class:"text-center create-qr_section",ref_key:"capture",ref:V},[(0,o.createElementVNode)("div",uo,[(0,o.createElementVNode)("div",_o,[w.value?.logo?((0,o.openBlock)(),(0,o.createElementBlock)("img",{key:0,class:"card_logologo12333",src:`${(0,o.unref)(m)}/logo/${w.value.logo}`,alt:w.value.name,width:"50",height:"50"},null,8,mo)):(0,o.createCommentVNode)("",!0)]),t[22]||(t[22]=(0,o.createElementVNode)("div",{class:"scanner-right"},null,-1))]),(0,o.createElementVNode)("div",vo,[(0,o.createElementVNode)("p",null,[t[23]||(t[23]=(0,o.createElementVNode)("strong",null,"Name:",-1)),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(E.value)+" "+(0,o.toDisplayString)(A.value),1)]),(0,o.createElementVNode)("p",null,[t[24]||(t[24]=(0,o.createElementVNode)("strong",null,"Email:",-1)),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(v.value),1)]),(0,o.createElementVNode)("p",null,[t[25]||(t[25]=(0,o.createElementVNode)("strong",null,"Contact:",-1)),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(f.value),1)]),(0,o.createElementVNode)("p",null,[t[26]||(t[26]=(0,o.createElementVNode)("strong",null,"Title:",-1)),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(g.value),1)])]),(0,o.createElementVNode)("img",{src:`${(0,o.unref)(m)}/qrcode-user/qrcode-${y.value}.png`,alt:"QR Code"},null,8,po),(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(y.value),1)],512)):(0,o.createCommentVNode)("",!0),_.value?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:2,class:"user_Qr_code",onClick:T,role:"button"},t[27]||(t[27]=[(0,o.createElementVNode)("a",{href:"#"},"Capture",-1)]))):(0,o.createCommentVNode)("",!0)])])])])],64)}}};const Ao=(0,M.A)(Eo,[["__scopeId","data-v-0c113540"]]);var fo=Ao;const go=()=>{const e=(0,n.rd)(),t=(t,a)=>{e.push(`/${a}/${t}`)};return{goToRoute:t}};function ho(){const e=(0,o.ref)(null),t=(0,o.ref)(""),a=(0,o.ref)(!1),l=(0,o.ref)(null),i=(0,n.rd)(),r=async(o,n)=>{if(""==o||null==o||"undefined"==typeof o)return W.oR.info("Veuillez renseigner le UIDN champ svp"),!1;a.value=!0;try{const a=await S.A.get(`/get-qr-data/${o}`,{params:{type:n}});e.value=a.data.status,t.value=a.data.message,"success"===e.value?(console.log("Succès:",t.value),W.oR.success(t.value),console.log(i)):(e.value,W.oR.error(t.value))}catch(r){l.value="Erreur lors de la vérification du QR code",console.error("API Error:",r),W.oR.error(r.response.data.message)}finally{a.value=!1}};return{status:e,message:t,loading:a,error:l,getQrData:r}}const Co={class:"background-gradi request-meeting"},yo={class:"container"},Vo={class:"row align-items-center"},No={class:"col col-12 col-md-12 col-sm-12"},Do={class:"left-back"},ko={class:"container"},Mo={class:"row align-items-center"},bo={class:"col col-12 col-md-12 col-sm-12"},Bo={key:0,class:"popup-logo"},Po={key:1,class:"main_box-sec"},Oo={class:"input_box-ec"},wo={class:"button_devide"};var Ro={__name:"ManalCheckView",setup(e){const{showCompany:t}=(0,i.R)(),a=(0,o.ref)(localStorage.getItem("currentCompany")),l=(0,n.lq)(),r=(0,n.rd)(),c=(0,o.ref)(!1),{goToRoute:s}=go(),{getQrData:d,status:_}=ho(),m=(0,o.ref)(),v=async()=>{try{await d(m.value,1),c.value=200==_.value,console.log(l)}catch(e){console.error("Failed to update request:",e)}},p=(0,o.ref)(l.params.domain||"scb");return(0,o.onMounted)((()=>{p.value&&r.push({name:"ManalCheck",params:{domain:p.value}})})),(0,o.onBeforeMount)((async()=>{console.log("Host:",window.location.host),console.log("Path:",window.location.pathname),"/sign-in"!=window.location.pathname&&(a.value?await t(a.value):a.value="")})),(0,o.watch)((()=>u["company_slug"]),(async e=>{await t(localStorage.getItem("currentCompany")??e)})),(e,t)=>{const a=(0,o.resolveComponent)("router-link");return(0,o.openBlock)(),(0,o.createElementBlock)("section",Co,[(0,o.createElementVNode)("div",yo,[(0,o.createElementVNode)("div",Vo,[(0,o.createElementVNode)("div",No,[(0,o.createElementVNode)("div",Do,[(0,o.createVNode)(a,{to:{name:"Menu"}},{default:(0,o.withCtx)((()=>t[3]||(t[3]=[(0,o.createElementVNode)("img",{src:ce,alt:"back-arrow"},null,-1)]))),_:1})])])])]),(0,o.createElementVNode)("div",ko,[(0,o.createElementVNode)("div",Mo,[(0,o.createElementVNode)("div",bo,[c.value?((0,o.openBlock)(),(0,o.createElementBlock)("div",Bo,[t[5]||(t[5]=(0,o.createElementVNode)("div",{class:"text-center py-2"},[(0,o.createElementVNode)("h3",null,"Bien éffectué")],-1)),(0,o.createElementVNode)("div",{class:"request-btn",onClick:t[0]||(t[0]=e=>(0,o.unref)(s)("/"))},t[4]||(t[4]=[(0,o.createElementVNode)("a",null,"Accueil ",-1)]))])):(0,o.createCommentVNode)("",!0),c.value?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",Po,[t[7]||(t[7]=(0,o.createElementVNode)("div",{class:"d-flex justify-content-center align-items-center"},[(0,o.createElementVNode)("div",{class:"d-flex justify-content-start mb-4 gap-3 align-items-center"},[(0,o.createElementVNode)("h3",{class:"text-center py-3"},"Validation Manuelle UIDN")])],-1)),(0,o.createElementVNode)("div",Oo,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",name:"uidn",id:"uidn",class:"uidn","onUpdate:modelValue":t[1]||(t[1]=e=>m.value=e),placeholder:"ENTREZ UUID",required:""},null,512),[[o.vModelText,m.value]])]),(0,o.createElementVNode)("div",wo,[e.isLoading?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"request-btn",onClick:t[2]||(t[2]=(0,o.withModifiers)((e=>v()),["prevent"]))},t[6]||(t[6]=[(0,o.createElementVNode)("a",{role:"button"},"Valider ",-1)])))])]))])])])])}}};const Io=(0,M.A)(Ro,[["__scopeId","data-v-e0638f2e"]]);var Lo=Io,Uo="data:image/png;base64,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";function To(){const e=(0,o.ref)([]),t=(0,o.ref)(!1),a=(0,o.ref)(null),n=()=>{const e=localStorage.getItem("userInfo");return e?JSON.parse(e):null},l=n();console.log("Logged-in User from LocalStorage:",l.roles);const i=e=>e&&Array.isArray(e)?l&&l.roles.includes("ROLE_SUPERVISOR")?e.filter((e=>!e.role.includes("ROLE_ADMIN")&&e.id!==l.id)):e:(console.error("Invalid userList provided"),[]),r=async()=>{t.value=!0,a.value=null;try{const t=await S.A.get("/user/list");e.value=i(t.data)}catch(o){a.value="Erreur lors de la récupération des utilisateurs."}finally{t.value=!1}},c=async o=>{t.value=!0,a.value=null;try{const t=await S.A.get("/user/list/"+o);e.value=i(t.data)}catch(n){a.value="Erreur lors de la récupération des utilisateurs."}finally{t.value=!1}},s=async t=>{try{const a=await S.A.delete(`/user/${t}`);return 200===a.status&&(e.value=e.value.filter((e=>e.id!==t))),a}catch(a){throw console.error("Error deleting user:",a),a}};return{users:e,loading:t,error:a,fetchUsers:r,fetchUsersComp:c,deleteUser:s}}const So={class:"secure-datatable-heading-back"},Ko={class:"container"},Wo={class:"row align-items-center"},qo={class:"col col-12"},xo={class:"left-back"},Qo={class:"container"},Fo={key:0,class:"text-center"},zo={key:1,class:"text-center text-danger"},Jo={key:2,class:"table_compdata"},jo={class:"mdc-data-table__table"},Go={class:"mdc-data-table__header-row"},Ho={key:0,class:"mdc-data-table__header-cell"},Xo={class:"mdc-data-table__cell"},Zo={class:"mdc-data-table__cell"},Yo={class:"mdc-data-table__cell"},$o={key:0,class:"mdc-data-table__cell"},en={key:1,class:"mdc-data-table__cell"},tn=["onClick"];var an={__name:"ListUserView",setup(e){const{fetchUsers:t,fetchUsersComp:a,deleteUser:l,users:i,loading:r,error:c}=To(),u=e=>{const t=new Date(e);return t.toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})},d=(0,n.lq)(),_=(0,o.ref)(d.params.domain||"scb"),m=(0,o.ref)(JSON.parse(localStorage.getItem("userInfo"))||{}),v=(0,s.k)(),p=(0,o.ref)(m?.value?.roles?m.value.roles[0]:"");(0,o.onMounted)((async()=>{v.isAdmin(p.value)?await t():await a(_.value)}));const E=async(e,t)=>{const a=confirm(`Are you sure you want to delete ${t}?`);a&&await W.oR.promise(l(e),{pending:`Deleting ${t}...`,success:`User ${t} deleted successfully!`,error:`Failed to delete ${t}.`},{position:W.oR.POSITION.TOP_CENTER,autoClose:3e3,closeButton:!0})};return(e,t)=>{const a=(0,o.resolveComponent)("router-link");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createElementVNode)("section",So,[(0,o.createElementVNode)("div",Ko,[(0,o.createElementVNode)("div",Wo,[(0,o.createElementVNode)("div",qo,[(0,o.createElementVNode)("div",xo,[(0,o.createVNode)(a,{to:{name:"Menu"}},{default:(0,o.withCtx)((()=>t[0]||(t[0]=[(0,o.createElementVNode)("img",{src:ce,alt:"back-arrow"},null,-1)]))),_:1})])])])])]),(0,o.createElementVNode)("div",Qo,[t[7]||(t[7]=(0,o.createElementVNode)("div",{class:"d-flex justify-content-center align-items-center"},[(0,o.createElementVNode)("div",{class:"d-flex justify-content-start mb-4 gap-3 align-items-center"},[(0,o.createElementVNode)("h3",{class:"text-center"},"Liste des Utilisateurs")])],-1)),(0,o.unref)(r)?((0,o.openBlock)(),(0,o.createElementBlock)("div",Fo,"Chargement des utilisateurs...")):(0,o.createCommentVNode)("",!0),(0,o.unref)(c)?((0,o.openBlock)(),(0,o.createElementBlock)("div",zo,(0,o.toDisplayString)((0,o.unref)(c)),1)):(0,o.createCommentVNode)("",!0),(0,o.unref)(i).length?((0,o.openBlock)(),(0,o.createElementBlock)("div",Jo,[(0,o.createElementVNode)("table",jo,[(0,o.createElementVNode)("thead",null,[(0,o.createElementVNode)("tr",Go,[t[1]||(t[1]=(0,o.createElementVNode)("th",{class:"mdc-data-table__header-cell"},"ID",-1)),t[2]||(t[2]=(0,o.createElementVNode)("th",{class:"mdc-data-table__header-cell"},"Nom",-1)),t[3]||(t[3]=(0,o.createElementVNode)("th",{class:"mdc-data-table__header-cell"},"Email",-1)),t[4]||(t[4]=(0,o.createElementVNode)("th",{class:"mdc-data-table__header-cell"},"Date de Création",-1)),(0,o.unref)(v).isAdmin(p.value)?((0,o.openBlock)(),(0,o.createElementBlock)("th",Ho," Delete ")):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("tbody",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(i),((e,n)=>((0,o.openBlock)(),(0,o.createElementBlock)("tr",{key:e.id,class:"mdc-data-table__row"},[(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(n+1),1),(0,o.createElementVNode)("td",Xo,(0,o.toDisplayString)(e.name),1),(0,o.createElementVNode)("td",Zo,(0,o.toDisplayString)(e.email),1),(0,o.createElementVNode)("td",Yo,(0,o.toDisplayString)(u(e.create_at)),1),(0,o.unref)(v).isSuperAdmin(p.value)||(0,o.unref)(v).isSecureCheck(p.value)?((0,o.openBlock)(),(0,o.createElementBlock)("td",$o,[(0,o.createVNode)(a,{to:{name:"EditUser",params:{user_id:e.id}}},{default:(0,o.withCtx)((()=>t[5]||(t[5]=[(0,o.createTextVNode)("Edit")]))),_:2},1032,["to"])])):(0,o.createCommentVNode)("",!0),(0,o.unref)(v).isAdmin(p.value)?((0,o.openBlock)(),(0,o.createElementBlock)("td",en,[(0,o.createElementVNode)("button",{onClick:t=>E(e.id,e.name),class:"btn"},t[6]||(t[6]=[(0,o.createElementVNode)("img",{src:Uo,alt:"delete",width:"30",height:"30"},null,-1)]),8,tn)])):(0,o.createCommentVNode)("",!0)])))),128))])])])):(0,o.createCommentVNode)("",!0)])],64)}}};const on=(0,M.A)(an,[["__scopeId","data-v-3c3ded97"]]);var nn=on;const ln={class:"request-meeting"},rn={class:"container"},cn={class:"row align-items-center"},sn={class:"col col-12 col-md-12 col-sm-12"},un={class:"left-back"},dn={class:"background-gradi"},_n={class:"request-meeting meeting-form"},mn={class:"row align-items-center"},vn={class:"col col-12 col-md-12 col-sm-12"},pn={key:0,class:"d-flex justify-content-center"},En=["src"],An=["value"],fn={class:"event_button"},gn=["disabled"],hn={key:0,class:"error"};var Cn={__name:"EventView",setup(e){const{company:t}=c(),{showCompany:a,companies:l,fetchCompanies:r}=(0,i.R)(),{createEvent:u,statusCode:d}=(0,St._)(),{publicDir:_}=c(),m=(0,s.k)(),v=(0,o.ref)(""),p=(0,o.ref)(!1),E=(0,n.rd)(),A=(0,n.lq)(),f=m.isAuthenticated(),g=(0,o.ref)(A.params.domain||"scb-systems-africa"),h=JSON.parse(localStorage.getItem("userInfo")),C=(0,o.ref)(h?.roles?.[0]||""),y=(0,o.ref)(h?.company_id||""),V=(0,o.ref)(h?.company||""),N=(0,o.ref)({company_id:"ROLE_SUPERVISOR"===C.value?y.value:"",name:"",location:"",date_event:"",time_event:"",departement_id:1});(0,o.watch)(y,(e=>{"ROLE_SUPERVISOR"===C.value&&(N.value.company_id=e)})),(0,o.onMounted)((async()=>{await r()})),(0,o.onBeforeMount)((async()=>{try{let e=localStorage.getItem("currentCompany")??g?.value;e&&await a(e),f||(W.oR.info("L'utilisateur doit être connecté"),setTimeout((()=>{E.push({name:"RequestMeeting",params:{domain:g?.value}})}),1500))}catch(e){console.error("Error during onBeforeMount:",e),W.oR.error("Erreur lors du chargement des données.")}}));const D=async()=>{p.value=!0;try{await u(N.value)}catch(e){v.value=`Erreur: ${e.message}`}finally{p.value=!1}};return(0,o.watch)(d,(e=>{switch(e){case 200:case 201:W.oR.success("Événement ajouté"),setTimeout((()=>{E.push({name:"Menu",params:{domain:g.value}})}),1500);break;case 400:W.oR.info("La requête est mal formée.");break;case 401:W.oR.info("Vous devez être authentifié.");break;case 403:W.oR.info("Vous n'avez pas la permission.");break;case 404:W.oR.info("La ressource demandée n'existe pas.");break;case 500:W.oR.info("Une erreur interne est survenue.");break;default:W.oR.info(`Code : ${e}`)}})),(e,a)=>{const n=(0,o.resolveComponent)("router-link");return(0,o.openBlock)(),(0,o.createElementBlock)("section",ln,[(0,o.createElementVNode)("div",rn,[(0,o.createElementVNode)("div",cn,[(0,o.createElementVNode)("div",sn,[(0,o.createElementVNode)("div",un,[(0,o.createVNode)(n,{to:{name:"Menu"}},{default:(0,o.withCtx)((()=>a[20]||(a[20]=[(0,o.createElementVNode)("img",{src:ce,alt:"back-arrow"},null,-1)]))),_:1})])])])]),(0,o.createElementVNode)("div",dn,[(0,o.createElementVNode)("section",_n,[(0,o.createElementVNode)("div",mn,[(0,o.createElementVNode)("div",vn,[a[32]||(a[32]=(0,o.createElementVNode)("div",{class:"d-flex justify-content-center align-items-center"},[(0,o.createElementVNode)("div",{class:"d-flex justify-content-start mb-4 gap-3 align-items-center"},[(0,o.createElementVNode)("h3",{class:"mt-3"},"Création Événement")])],-1)),(0,o.unref)(t)?.logo?((0,o.openBlock)(),(0,o.createElementBlock)("div",pn,[(0,o.createElementVNode)("img",{src:`${(0,o.unref)(_)}/logo/${(0,o.unref)(t)?.logo}`,height:"100",width:"100"},null,8,En)])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("form",{onSubmit:(0,o.withModifiers)(D,["prevent"])},[(0,o.createElementVNode)("div",null,[a[21]||(a[21]=(0,o.createElementVNode)("label",{for:"company_id"},"Entreprise",-1)),"ROLE_SUPERVISOR"===C.value?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("input",{key:0,disabled:"",type:"text",id:"company_name","onUpdate:modelValue":a[0]||(a[0]=e=>V.value=e),required:""},null,512)),[[o.vModelText,V.value]]):(0,o.createCommentVNode)("",!0),"ROLE_SUPERVISOR"===C.value?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("input",{key:1,type:"hidden",id:"company_id",name:"company_id","onUpdate:modelValue":a[1]||(a[1]=e=>N.value.company_id=e)},null,512)),[[o.vModelText,N.value.company_id]]):(0,o.createCommentVNode)("",!0),"ROLE_SUPERVISOR"!==C.value?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("select",{key:2,id:"company_id","onUpdate:modelValue":a[2]||(a[2]=e=>N.value.company_id=e),class:"form-control"},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(l),(e=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:e.id,value:e.id},(0,o.toDisplayString)(e.name),9,An)))),128))],512)),[[o.vModelSelect,N.value.company_id]]):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",null,[a[22]||(a[22]=(0,o.createElementVNode)("label",{for:"name"},"Nom de l'événement",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"name","onUpdate:modelValue":a[3]||(a[3]=e=>N.value.name=e),required:""},null,512),[[o.vModelText,N.value.name]])]),(0,o.createElementVNode)("div",null,[a[23]||(a[23]=(0,o.createElementVNode)("label",{for:"location"},"Lieu de l'événement",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"location","onUpdate:modelValue":a[4]||(a[4]=e=>N.value.location=e),required:""},null,512),[[o.vModelText,N.value.location]])]),(0,o.createElementVNode)("div",null,[a[24]||(a[24]=(0,o.createElementVNode)("label",{for:"address_name"},"Adresse",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"address_name","onUpdate:modelValue":a[5]||(a[5]=e=>N.value.address_name=e),required:""},null,512),[[o.vModelText,N.value.address_name]])]),(0,o.createElementVNode)("div",null,[a[25]||(a[25]=(0,o.createElementVNode)("label",{for:""},"Ville ",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"city","onUpdate:modelValue":a[6]||(a[6]=e=>N.value.city=e),onFocus:a[7]||(a[7]=t=>e.inputFocused="city"),onBlur:a[8]||(a[8]=t=>e.inputFocused="")},null,544),[[o.vModelText,N.value.city]])]),(0,o.createElementVNode)("div",null,[a[27]||(a[27]=(0,o.createElementVNode)("label",{for:""},"Pays ",-1)),(0,o.withDirectives)((0,o.createElementVNode)("select",{id:"country","onUpdate:modelValue":a[9]||(a[9]=e=>N.value.country=e),class:"form-select","aria-label":"Default select example",onFocus:a[10]||(a[10]=t=>e.inputFocused="country"),onBlur:a[11]||(a[11]=t=>e.inputFocused="")},a[26]||(a[26]=[(0,o.createStaticVNode)('<option value="" disabled selected> Sélectionner un pays </option><option value="Côte d’ivoire">Côte d&#39;ivoire</option><option value="Afghanistan">Afghanistan</option><option value="Albania">Albania</option><option value="Algeria">Algeria</option><option value="Andorra">Andorra</option><option value="Angola">Angola</option><option value="Antigua and Barbuda"> Antigua and Barbuda </option><option value="Argentina">Argentina</option><option value="Armenia">Armenia</option><option value="Australia">Australia</option><option value="Austria">Austria</option><option value="Azerbaijan">Azerbaijan</option><option value="Bahamas">Bahamas</option><option value="Bahrain">Bahrain</option><option value="Bangladesh">Bangladesh</option><option value="Barbados">Barbados</option><option value="Belarus">Belarus</option><option value="Belgium">Belgium</option><option value="Belize">Belize</option><option value="Benin">Benin</option><option value="Bhutan">Bhutan</option><option value="Bolivia">Bolivia</option><option value="Bosnia and Herzegovina"> Bosnia and Herzegovina </option><option value="Botswana">Botswana</option><option value="Brazil">Brazil</option><option value="Brunei">Brunei</option><option value="Bulgaria">Bulgaria</option><option value="Burkina Faso">Burkina Faso</option><option value="Burundi">Burundi</option><option value="Cabo Verde">Cabo Verde</option><option value="Cambodia">Cambodia</option><option value="Cameroon">Cameroon</option><option value="Canada">Canada</option><option value="Central African Republic"> Central African Republic </option><option value="Chad">Chad</option><option value="Chile">Chile</option><option value="China">China</option><option value="Colombia">Colombia</option><option value="Comoros">Comoros</option><option value="Congo (Congo-Brazzaville)"> Congo (Congo-Brazzaville) </option><option value="Costa Rica">Costa Rica</option><option value="Croatia">Croatia</option><option value="Cuba">Cuba</option><option value="Cyprus">Cyprus</option><option value="Czechia (Czech Republic)"> Czechia (Czech Republic) </option><option value="Denmark">Denmark</option><option value="Djibouti">Djibouti</option><option value="Dominica">Dominica</option><option value="Dominican Republic"> Dominican Republic </option><option value="Ecuador">Ecuador</option><option value="Egypt">Egypt</option><option value="El Salvador">El Salvador</option><option value="Equatorial Guinea"> Equatorial Guinea </option><option value="Eritrea">Eritrea</option><option value="Estonia">Estonia</option><option value="Eswatini (fmr. Swaziland)"> Eswatini (fmr. Swaziland) </option><option value="Ethiopia">Ethiopia</option><option value="Fiji">Fiji</option><option value="Finland">Finland</option><option value="France">France</option><option value="Gabon">Gabon</option><option value="Gambia">Gambia</option><option value="Georgia">Georgia</option><option value="Germany">Germany</option><option value="Ghana">Ghana</option><option value="Greece">Greece</option><option value="Grenada">Grenada</option><option value="Guatemala">Guatemala</option><option value="Guinea">Guinea</option><option value="Guinea-Bissau">Guinea-Bissau</option><option value="Guyana">Guyana</option><option value="Haiti">Haiti</option><option value="Holy See">Holy See</option><option value="Honduras">Honduras</option><option value="Hungary">Hungary</option><option value="Iceland">Iceland</option><option value="India">India</option><option value="Indonesia">Indonesia</option><option value="Iran">Iran</option><option value="Iraq">Iraq</option><option value="Ireland">Ireland</option><option value="Israel">Israel</option><option value="Italy">Italy</option><option value="Jamaica">Jamaica</option><option value="Japan">Japan</option><option value="Jordan">Jordan</option><option value="Kazakhstan">Kazakhstan</option><option value="Kenya">Kenya</option><option value="Kiribati">Kiribati</option><option value="Korea (North)">Korea (North)</option><option value="Korea (South)">Korea (South)</option><option value="Kosovo">Kosovo</option><option value="Kuwait">Kuwait</option><option value="Kyrgyzstan">Kyrgyzstan</option><option value="Laos">Laos</option><option value="Latvia">Latvia</option><option value="Lebanon">Lebanon</option><option value="Lesotho">Lesotho</option><option value="Liberia">Liberia</option><option value="Libya">Libya</option><option value="Liechtenstein">Liechtenstein</option><option value="Lithuania">Lithuania</option><option value="Luxembourg">Luxembourg</option><option value="Madagascar">Madagascar</option><option value="Malawi">Malawi</option><option value="Malaysia">Malaysia</option><option value="Maldives">Maldives</option><option value="Mali">Mali</option><option value="Malta">Malta</option><option value="Marshall Islands">Marshall Islands</option><option value="Mauritania">Mauritania</option><option value="Mauritius">Mauritius</option><option value="Mexico">Mexico</option><option value="Micronesia">Micronesia</option><option value="Moldova">Moldova</option><option value="Monaco">Monaco</option><option value="Mongolia">Mongolia</option><option value="Montenegro">Montenegro</option><option value="Morocco">Morocco</option><option value="Mozambique">Mozambique</option><option value="Myanmar (Burma)">Myanmar (Burma)</option><option value="Namibia">Namibia</option><option value="Nauru">Nauru</option><option value="Nepal">Nepal</option><option value="Netherlands">Netherlands</option><option value="New Zealand">New Zealand</option><option value="Nicaragua">Nicaragua</option><option value="Niger">Niger</option><option value="Nigeria">Nigeria</option><option value="North Macedonia">North Macedonia</option><option value="Norway">Norway</option><option value="Oman">Oman</option><option value="Pakistan">Pakistan</option><option value="Palau">Palau</option><option value="Palestine State">Palestine State</option><option value="Panama">Panama</option><option value="Papua New Guinea">Papua New Guinea</option><option value="Paraguay">Paraguay</option><option value="Peru">Peru</option><option value="Philippines">Philippines</option><option value="Poland">Poland</option><option value="Portugal">Portugal</option><option value="Qatar">Qatar</option><option value="Romania">Romania</option><option value="Russia">Russia</option><option value="Rwanda">Rwanda</option><option value="Saint Kitts and Nevis"> Saint Kitts and Nevis </option><option value="Saint Lucia">Saint Lucia</option><option value="Saint Vincent and the Grenadines"> Saint Vincent and the Grenadines </option><option value="Samoa">Samoa</option><option value="San Marino">San Marino</option><option value="Sao Tome and Principe"> Sao Tome and Principe </option><option value="Saudi Arabia">Saudi Arabia</option><option value="Senegal">Senegal</option><option value="Serbia">Serbia</option><option value="Seychelles">Seychelles</option><option value="Sierra Leone">Sierra Leone</option><option value="Singapore">Singapore</option><option value="Slovakia">Slovakia</option><option value="Slovenia">Slovenia</option><option value="Solomon Islands">Solomon Islands</option><option value="Somalia">Somalia</option><option value="South Africa">South Africa</option><option value="South Sudan">South Sudan</option><option value="Spain">Spain</option><option value="Sri Lanka">Sri Lanka</option><option value="Sudan">Sudan</option><option value="Suriname">Suriname</option><option value="Sweden">Sweden</option><option value="Switzerland">Switzerland</option><option value="Syria">Syria</option><option value="Tajikistan">Tajikistan</option><option value="Tanzania">Tanzania</option><option value="Thailand">Thailand</option><option value="Timor-Leste">Timor-Leste</option><option value="Togo">Togo</option><option value="Tonga">Tonga</option><option value="Trinidad and Tobago"> Trinidad and Tobago </option><option value="Tunisia">Tunisia</option><option value="Turkey">Turkey</option><option value="Turkmenistan">Turkmenistan</option><option value="Tuvalu">Tuvalu</option><option value="Uganda">Uganda</option><option value="Ukraine">Ukraine</option><option value="United Arab Emirates"> United Arab Emirates </option><option value="United Kingdom">United Kingdom</option><option value="United States of America"> United States of America </option><option value="Uruguay">Uruguay</option><option value="Uzbekistan">Uzbekistan</option><option value="Vanuatu">Vanuatu</option><option value="Venezuela">Venezuela</option><option value="Vietnam">Vietnam</option><option value="Yemen">Yemen</option><option value="Zambia">Zambia</option><option value="Zimbabwe">Zimbabwe</option>',196)]),544),[[o.vModelSelect,N.value.country]])]),(0,o.createElementVNode)("div",null,[a[28]||(a[28]=(0,o.createElementVNode)("label",{for:""},"Region / Etat ",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"state","onUpdate:modelValue":a[12]||(a[12]=e=>N.value.state=e),onFocus:a[13]||(a[13]=t=>e.inputFocused="state"),onBlur:a[14]||(a[14]=t=>e.inputFocused="")},null,544),[[o.vModelText,N.value.state]])]),(0,o.createElementVNode)("div",null,[a[29]||(a[29]=(0,o.createElementVNode)("label",{for:""},"Code postale ",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"zipcode","onUpdate:modelValue":a[15]||(a[15]=e=>N.value.zipcode=e),onFocus:a[16]||(a[16]=t=>e.inputFocused="zipcode"),onBlur:a[17]||(a[17]=t=>e.inputFocused="")},null,544),[[o.vModelText,N.value.zipcode]])]),(0,o.createElementVNode)("div",null,[a[30]||(a[30]=(0,o.createElementVNode)("label",{for:"date_event"},"Date de l'événement",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"date",id:"date_event","onUpdate:modelValue":a[18]||(a[18]=e=>N.value.date_event=e),required:""},null,512),[[o.vModelText,N.value.date_event]])]),(0,o.createElementVNode)("div",null,[a[31]||(a[31]=(0,o.createElementVNode)("label",{for:"time_event"},"Heure de l'événement",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"time",id:"time_event","onUpdate:modelValue":a[19]||(a[19]=e=>N.value.time_event=e),required:""},null,512),[[o.vModelText,N.value.time_event]])]),(0,o.createElementVNode)("div",fn,[(0,o.createElementVNode)("input",{type:"submit",value:"Soumettre",disabled:p.value},null,8,gn)]),v.value?((0,o.openBlock)(),(0,o.createElementBlock)("p",hn,(0,o.toDisplayString)(v.value),1)):(0,o.createCommentVNode)("",!0)],32)])])])])])}}};const yn=Cn;var Vn=yn;const Nn=()=>{const e=e=>{const t=new Date(e);return t.toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})},t=e=>{const t=new Date(e);return t.toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})},a=e=>{const t=new Date(e),a=t.getHours().toString().padStart(2,"0"),o=t.getMinutes().toString().padStart(2,"0");return`${a}:${o}`};return{formatDate:t,formatDateHour:e,formatTime:a}};function Dn(){const e=(0,o.ref)([]),t=(0,o.ref)(!1),a=(0,o.ref)(null),n=async()=>{t.value=!0,a.value=null;try{const t=await S.A.get("/evenement/list");e.value=t.data,console.log()}catch(o){a.value="Erreur lors de la récupération des events."}finally{t.value=!1}},l=async o=>{t.value=!0,a.value=null;try{const t=await S.A.get("/evenement/list/"+o);e.value=t.data,console.log()}catch(n){a.value="Erreur lors de la récupération des utilisateurs."}finally{t.value=!1}},i=async t=>{try{const a=await S.A.delete(`/evenement/delete/${t}`);return 200===a.status?(e.value=e.value.filter((e=>e.id!==t)),{success:!0,message:"Event deleted successfully"}):a}catch(a){return console.error("Error deleting event:",a),{success:!1,message:a.response?.data?.message||"Error deleting event"}}};return{events:e,loading:t,error:a,fetchEvents:n,fetchEventsByComp:l,deleteEvent:i}}const kn={class:"secure-datatable-heading-back"},Mn={class:"container"},bn={class:"row align-items-center"},Bn={class:"col col-12 col-md-12 col-sm-12"},Pn={class:"left-back"},On={class:"container"},wn={key:0},Rn={class:"d-flex justify-content-center"},In={class:"d-flex justify-content-center"},Ln={key:1,class:"d-flex justify-content-center py-3"},Un=["onClick","src","alt"],Tn={key:1},Sn={key:2,class:"d-flex justify-content-center"},Kn={key:3,class:"d-flex justify-content-center"};var Wn={__name:"EventListView",setup(e){const{events:t,loading:a,error:l,fetchEventsByComp:i,fetchEvents:r}=Dn(),{formatDate:u,formatTime:d}=Nn(),{publicDir:_}=c(),m=(0,o.ref)(JSON.parse(localStorage.getItem("userInfo"))||{}),v=(0,s.k)(),p=(0,o.ref)(m?.value?.roles?m.value.roles[0]:""),E=(0,o.ref)(["ID","Entreprise","Nom","Lieu","Date","Heure","Date de Création","Lien","Participants","QRCode"]),A=(0,o.ref)(["id",{slot:"company"},"name","location",{slot:"date_event"},{slot:"time_event"},{slot:"created_at"},{slot:"link"},{slot:"participants"},{slot:"QRCode"}]),f=(0,o.ref)([]),g=(0,o.ref)(!1),h=(0,n.rd)(),C=(0,n.lq)(),y=(0,o.ref)(C.params.domain||"scb"),V=e=>{h.push({name:"ListQrcodeEvents",params:{domain:y.value,slug:e}})},N=e=>{console.log({domain:y.value,slug:e}),h.push({name:"ShowEventQRcode",params:{domain:y.value,slug:e}})},D=e=>{const t=(0,o.ref)(!1);let a={NODE_ENV:"production",VUE_APP_API_URL:"https://www.securecheck.info/api/public/index.php/api",BASE_URL:"/"}.FRONT_URL??window.location.host,n=`https://${a}/company/${e.company.slug}/event/${e.slug}`;navigator.clipboard.writeText(n).then((()=>{t.value=!0,W.oR.info("Texte Copié"),setTimeout((()=>{t.value=!1}),2e3)})).catch((e=>{console.error("Échec de la copie : ",e)}))};return(0,o.onMounted)((()=>{v.isAdmin(p.value)||v.isSecureCheck(p.value)?r():i(y.value),y.value&&h.push({name:"EventList",params:{domain:y.value}})})),(e,n)=>{const i=(0,o.resolveComponent)("router-link"),r=(0,o.resolveComponent)("ui-item-text-content"),c=(0,o.resolveComponent)("ui-item"),s=(0,o.resolveComponent)("ui-list"),m=(0,o.resolveComponent)("ui-icon"),v=(0,o.resolveComponent)("ui-table");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createElementVNode)("section",kn,[(0,o.createElementVNode)("div",Mn,[(0,o.createElementVNode)("div",bn,[(0,o.createElementVNode)("div",Bn,[(0,o.createElementVNode)("div",Pn,[(0,o.createVNode)(i,{to:{name:"Menu"}},{default:(0,o.withCtx)((()=>n[1]||(n[1]=[(0,o.createElementVNode)("img",{src:ce,alt:"back-arrow"},null,-1)]))),_:1})])])])])]),(0,o.createElementVNode)("div",On,[n[4]||(n[4]=(0,o.createElementVNode)("div",{class:"d-flex justify-content-center align-items-center"},[(0,o.createElementVNode)("div",{class:"d-flex justify-content-start mb-4 gap-3 align-items-center"},[(0,o.createElementVNode)("h3",{class:"text-center"},"Liste des Evenements")])],-1)),g.value?((0,o.openBlock)(),(0,o.createElementBlock)("div",wn,[(0,o.createElementVNode)("div",Rn,[(0,o.createVNode)(s,null,{default:(0,o.withCtx)((()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(f.value,(e=>((0,o.openBlock)(),(0,o.createBlock)(c,{key:e},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(r,null,{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.email),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})]),(0,o.createElementVNode)("div",In,[(0,o.createElementVNode)("a",{class:"request-btn",onClick:n[0]||(n[0]=(...t)=>e.retour&&e.retour(...t)),role:"button"}," Retour ")])])):(0,o.createCommentVNode)("",!0),g.value?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",Ln,[(0,o.createVNode)(v,{data:(0,o.unref)(t),thead:E.value,tbody:A.value},{date_event:(0,o.withCtx)((({data:e})=>[(0,o.createTextVNode)((0,o.toDisplayString)((0,o.unref)(u)(e.date_event)),1)])),time_event:(0,o.withCtx)((({data:e})=>[(0,o.createTextVNode)((0,o.toDisplayString)((0,o.unref)(d)(e.time_event)),1)])),company:(0,o.withCtx)((({data:e})=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.company.name),1)])),created_at:(0,o.withCtx)((({data:e})=>[(0,o.createTextVNode)((0,o.toDisplayString)((0,o.unref)(u)(e.created_at)),1)])),link:(0,o.withCtx)((({data:e})=>[(0,o.createVNode)(m,{role:"button",onClick:t=>D(e)},{default:(0,o.withCtx)((()=>n[2]||(n[2]=[(0,o.createTextVNode)(" content_copy ")]))),_:2},1032,["onClick"])])),participants:(0,o.withCtx)((({data:e})=>[(0,o.createVNode)(m,{role:"button",onClick:t=>V(e.slug)},{default:(0,o.withCtx)((()=>n[3]||(n[3]=[(0,o.createTextVNode)(" groups ")]))),_:2},1032,["onClick"])])),QRCode:(0,o.withCtx)((({data:e})=>[e?.slug?((0,o.openBlock)(),(0,o.createElementBlock)("img",{key:0,role:"button",onClick:t=>N(e?.slug),src:`${(0,o.unref)(_)}/qrcode-link/qrcode-${e?.slug}.png`,class:"",height:"50",width:"50",style:{"margin-top":"20px","margin-bottom":"20px"},alt:e.slug},null,8,Un)):((0,o.openBlock)(),(0,o.createElementBlock)("p",Tn,"Pas de QRcode"))])),_:1},8,["data","thead","tbody"])])),(0,o.unref)(a)?((0,o.openBlock)(),(0,o.createElementBlock)("div",Sn," Chargement des évènements... ")):(0,o.createCommentVNode)("",!0),(0,o.unref)(l)?((0,o.openBlock)(),(0,o.createElementBlock)("div",Kn,(0,o.toDisplayString)((0,o.unref)(l)),1)):(0,o.createCommentVNode)("",!0)])],64)}}};const qn=(0,M.A)(Wn,[["__scopeId","data-v-98b760d4"]]);var xn=qn,Qn=a.p+"img/success-svgrepo-com.e963a910.svg",Fn={async fetchData(){try{const e=await S.A.get("/visitorlog");return e.data}catch(e){throw console.error("Error fetching visitor code data:",e),new Error("Failed to fetch visitor code data.")}},async fetchVisitorLogCom(e){try{const t=await S.A.get(`/visitorLog/${e}`);return console.log("hello",t),console.log({response:t.data}),t.data}catch(t){throw console.error("Error fetching requests by company:",t),new Error(t.response?t.response.data:"Error fetching data")}},async fetchUserLog(){try{const e=await S.A.get("/userCheckInList");return e.data}catch(e){throw console.error("Error fetching visitor code data:",e),new Error("Failed to fetch visitor code data.")}},async fetchVisitorCheckInData(e){try{const t=await S.A.get(`/visitorLog-checkIn/${e}`);return console.log("hello"),console.log({response:t.data}),t.data}catch(t){throw console.error("Error fetching requests by company:",t),new Error(t.response?t.response.data:"Error fetching data")}},async fetchUserCheckInData(e){try{const t=await S.A.get(`/userLog-checkIn/${e}`);return console.log("hello"),console.log({response:t.data}),t.data}catch(t){throw console.error("Error fetching requests by company:",t),new Error(t.response?t.response.data:"Error fetching data")}},anotherServiceMethod(e){return`Processed ${e}`}};const zn={class:"background-gradi request-meeting qr_thanks"},Jn={class:"container"},jn={class:"row align-items-center"},Gn={class:"col col-12 col-md-12 col-sm-12"},Hn={class:"popup-logo text-center"},Xn={class:"text-center py-3"},Zn=["src"];var Yn={__name:"SuccessCheckoutView",setup(e){const{publicDir:t}=c(),a=(0,n.lq)(),l=(0,o.ref)(""),i=(0,o.ref)(null),r=(0,o.ref)([]),u=(0,n.rd)(),d=(0,s.k)(),_=(0,o.ref)(a.params.domain||"scb"),m=()=>{u.push({name:"Menu",params:{domain:_.value,id:a.params.id}})},v=d.isAuthenticated(),p=a.params.uidn;console.log("dfddfgdfg",p);const E=async()=>{try{let e;e=await Fn.fetchVisitorCheckInData(p),console.log("Fetched All Visitor Logs:",e.image),r.value=e,l.value="Data fetched successfully!"}catch(e){i.value="Failed to fetch data.",console.error(e)}};return(0,o.onMounted)((()=>{E()})),(e,a)=>{const n=(0,o.resolveComponent)("router-link");return(0,o.openBlock)(),(0,o.createElementBlock)("section",zn,[(0,o.createElementVNode)("div",Jn,[(0,o.createElementVNode)("div",jn,[(0,o.createElementVNode)("div",Gn,[(0,o.createElementVNode)("div",Hn,[(0,o.createVNode)(n,{to:"/"},{default:(0,o.withCtx)((()=>a[0]||(a[0]=[(0,o.createElementVNode)("img",{src:Qn,class:"success-icon",alt:"Success Icon"},null,-1)]))),_:1}),(0,o.createElementVNode)("div",Xn,[r.value.image?((0,o.openBlock)(),(0,o.createElementBlock)("img",{key:0,src:`${(0,o.unref)(t)}/request_image/${r.value.image}`,class:"visitor-image",alt:"Visitor Check-in Image"},null,8,Zn)):(0,o.createCommentVNode)("",!0),a[1]||(a[1]=(0,o.createElementVNode)("h2",null,"🎉 Thank you for your visit!",-1)),a[2]||(a[2]=(0,o.createElementVNode)("p",{class:"thank-you-message"}," Your check-out has been successfully recorded ",-1)),(0,o.unref)(v)?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:1,class:"btn-back",onClick:m}," Return to Home ")):(0,o.createCommentVNode)("",!0)])])])])])])}}};const $n=(0,M.A)(Yn,[["__scopeId","data-v-b206640c"]]);var el=$n;const tl={class:"background-gradi request-meeting qr_thanks"},al={class:"container"},ol={class:"row align-items-center"},nl={class:"col col-12 col-md-12 col-sm-12"},ll={class:"popup-logo text-center"},il=["alt"],rl={class:"text-center py-3"},cl=["src"];var sl={__name:"SuccessCheckinView",setup(e){const{publicDir:t}=c(),a=(0,n.lq)(),l=(0,o.ref)(""),i=(0,o.ref)(null),r=(0,o.ref)([]),u=(0,n.rd)(),d=(0,s.k)(),_=(0,o.ref)(a.params.domain||"scb"),m=()=>{u.push({name:"Menu",params:{domain:_.value,id:a.params.id}})},v=d.isAuthenticated(),p=a.params.uidn;console.log("dfddfgdfg",p);const E=async()=>{try{let e;e=await Fn.fetchVisitorCheckInData(p),console.log("Fetched All Visitor Logs:",e.image),r.value=e,l.value="Data fetched successfully!"}catch(e){i.value="Failed to fetch data.",console.error(e)}};return(0,o.onMounted)((()=>{E()})),(e,a)=>{const n=(0,o.resolveComponent)("router-link");return(0,o.openBlock)(),(0,o.createElementBlock)("section",tl,[(0,o.createElementVNode)("div",al,[(0,o.createElementVNode)("div",ol,[(0,o.createElementVNode)("div",nl,[(0,o.createElementVNode)("div",ll,[(0,o.createVNode)(n,{to:"/"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("img",{src:Qn,class:"success-icon",alt:`${(0,o.unref)(t)}/qrcode/qrcode-${(0,o.unref)(p)}.png`},null,8,il)])),_:1}),(0,o.createElementVNode)("div",rl,[r.value.image?((0,o.openBlock)(),(0,o.createElementBlock)("img",{key:0,src:`${(0,o.unref)(t)}/request_image/${r.value.image}`,class:"visitor-image",alt:"Visitor Check-in Image"},null,8,cl)):(0,o.createCommentVNode)("",!0),a[0]||(a[0]=(0,o.createElementVNode)("h2",null,"🎉Thank you for your visit!",-1)),a[1]||(a[1]=(0,o.createElementVNode)("p",{class:"thank-you-message"}," Your check-in has been successfully recorded. Enjoy your experience! ",-1)),(0,o.unref)(v)?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:1,class:"btn-back",onClick:m}," Return to Home ")):(0,o.createCommentVNode)("",!0)])])])])])])}}};const ul=(0,M.A)(sl,[["__scopeId","data-v-2741db79"]]);var dl=ul,_l=a(8328);const ml={class:"request-meeting"},vl={class:"container"},pl={class:"row align-items-center"},El={class:"col col-12 col-md-12 col-sm-12"},Al={class:"left-back"},fl={class:"background-gradi"},gl={class:"request-meeting meeting-form"},hl={class:"row align-items-center"},Cl={class:"col col-12 col-md-12 col-sm-12"},yl={key:0,class:"event_button submit-button"},Vl=["disabled"],Nl={key:1,class:"error"};var Dl={__name:"CreateCompanyView",setup(e){const t=(0,o.ref)(),a=(0,o.ref)();a.value=JSON.parse(localStorage.getItem("userInfo")),t.value=a.value?.roles[0];const{userInfo:l,fetchUserInfo:r}=(0,_l.P)(),{postCompany:c,showCompany:u,company:d,statusCode:_}=(0,i.R)(),m=(0,s.k)(),v=m.isAuthenticated(),p=(0,n.rd)(),E=(0,o.ref)(),A=(0,o.ref)(""),f=(0,o.ref)({name:"",number_of_employee:"",email:"",phone_number:"",id_number:"",point_contact:"",company_field:"",country:"",city:"",state:"",title:"",address:"",zipcode:""}),g=e=>{const t=e.target.files[0];t?(f.value.logo=t,E.value=t.name):A.value="Veuillez selectionnez un fichier valide"},h=(0,o.ref)(!1),C=async()=>{try{await c(f.value),console.log(d)}catch(e){A.value=`Erreur: ${e.message}`}finally{h.value=!1}};(0,o.watch)(_,(e=>{switch(e){case 201:W.oR.success("Entreprise créé avec succès."),setTimeout((()=>{p.push({name:"Menu",params:{domain:V.value}})}),1500);break;case 200:W.oR.success("Entreprise créé avec succès."),setTimeout((()=>{p.push({name:"Menu",params:{domain:V.value}})}),1500);break;case 400:W.oR.info("La requête est mal formée.");break;case 401:W.oR.info("Vous devez être authentifié."),setTimeout((()=>{p.push("/")}),1500);break;case 403:W.oR.info("Vous n'avez pas la permission.");break;case 404:W.oR.info("La ressource demandée n'existe pas.");break;case 500:W.oR.info("Une erreur interne est survenue.");break;default:W.oR.info(`Code : ${e}`)}}));const y=(0,n.lq)(),V=(0,o.ref)(y.params.domain||"scb");return(0,o.onBeforeMount)((async()=>{y?.params?.company_edit&&u(y.params.slug),await r(),console.log({userInfo:l})})),(e,t)=>{const a=(0,o.resolveComponent)("router-link");return(0,o.openBlock)(),(0,o.createElementBlock)("section",ml,[(0,o.createElementVNode)("div",vl,[(0,o.createElementVNode)("div",pl,[(0,o.createElementVNode)("div",El,[(0,o.createElementVNode)("div",Al,[(0,o.createVNode)(a,{to:{name:"Menu"}},{default:(0,o.withCtx)((()=>t[13]||(t[13]=[(0,o.createElementVNode)("img",{src:ce,alt:"back-arrow"},null,-1)]))),_:1})])])])]),(0,o.createElementVNode)("div",fl,[(0,o.createElementVNode)("section",gl,[(0,o.createElementVNode)("div",hl,[(0,o.createElementVNode)("div",Cl,[t[30]||(t[30]=(0,o.createElementVNode)("div",{class:"d-flex justify-content-start mb-4 gap-3 align-items-center"},[(0,o.createElementVNode)("h3",null,"Créer une Entreprise")],-1)),(0,o.createElementVNode)("form",{onSubmit:(0,o.withModifiers)(C,["prevent"]),enctype:"multipart/form-data"},[(0,o.createElementVNode)("div",null,[t[14]||(t[14]=(0,o.createElementVNode)("label",{for:"logo"},"Logo",-1)),(0,o.createElementVNode)("input",{type:"file",id:"logo",onChange:g,required:"",class:(0,o.normalizeClass)({error:A.value})},null,34)]),(0,o.createElementVNode)("div",null,[t[15]||(t[15]=(0,o.createElementVNode)("label",{for:"name"},"Nom",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>f.value.name=e),required:""},null,512),[[o.vModelText,f.value.name]])]),(0,o.createElementVNode)("div",null,[t[16]||(t[16]=(0,o.createElementVNode)("label",{for:"id_number"},"Numéro d’identification",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"id_number","onUpdate:modelValue":t[1]||(t[1]=e=>f.value.id_number=e),required:""},null,512),[[o.vModelText,f.value.id_number]])]),(0,o.createElementVNode)("div",null,[t[18]||(t[18]=(0,o.createElementVNode)("label",{for:"number_of_employee"},"Nombre d’employés",-1)),(0,o.withDirectives)((0,o.createElementVNode)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>f.value.number_of_employee=e),id:"number_of_employee",name:"number_of_employee",class:"input_style"},t[17]||(t[17]=[(0,o.createStaticVNode)('<option value="0-5" data-v-eb0ff6d2>0-5</option><option value="6-10" data-v-eb0ff6d2>6-10</option><option value="11-50" data-v-eb0ff6d2>11-50</option><option value="51-100" data-v-eb0ff6d2>51-100</option><option value="101-1000" data-v-eb0ff6d2>101-1000</option><option value="+1000" data-v-eb0ff6d2>+1000</option>',6)]),512),[[o.vModelSelect,f.value.number_of_employee]])]),(0,o.createElementVNode)("div",null,[t[19]||(t[19]=(0,o.createElementVNode)("label",{for:"address"},"Adresse",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"address","onUpdate:modelValue":t[3]||(t[3]=e=>f.value.address=e),required:""},null,512),[[o.vModelText,f.value.address]])]),(0,o.createElementVNode)("div",null,[t[20]||(t[20]=(0,o.createElementVNode)("label",{for:"city"},"City",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"city","onUpdate:modelValue":t[4]||(t[4]=e=>f.value.city=e),required:""},null,512),[[o.vModelText,f.value.city]])]),(0,o.createElementVNode)("div",null,[t[21]||(t[21]=(0,o.createElementVNode)("label",{for:"state"},"Région/État",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"state","onUpdate:modelValue":t[5]||(t[5]=e=>f.value.state=e),required:""},null,512),[[o.vModelText,f.value.state]])]),(0,o.createElementVNode)("div",null,[t[23]||(t[23]=(0,o.createElementVNode)("label",{for:"country"},"Country",-1)),(0,o.withDirectives)((0,o.createElementVNode)("select",{id:"country","onUpdate:modelValue":t[6]||(t[6]=e=>f.value.country=e),class:"input_style",required:""},t[22]||(t[22]=[(0,o.createStaticVNode)('<option value="" disabled data-v-eb0ff6d2>Select a country</option><option value="Côte d’ivoire" data-v-eb0ff6d2>Côte d’ivoire</option><option value="Afghanistan" data-v-eb0ff6d2>Afghanistan</option><option value="Albania" data-v-eb0ff6d2>Albania</option><option value="Algeria" data-v-eb0ff6d2>Algeria</option><option value="Andorra" data-v-eb0ff6d2>Andorra</option><option value="Angola" data-v-eb0ff6d2>Angola</option><option value="Antigua and Barbuda" data-v-eb0ff6d2>Antigua and Barbuda</option><option value="Argentina" data-v-eb0ff6d2>Argentina</option><option value="Armenia" data-v-eb0ff6d2>Armenia</option><option value="Australia" data-v-eb0ff6d2>Australia</option><option value="Austria" data-v-eb0ff6d2>Austria</option><option value="Azerbaijan" data-v-eb0ff6d2>Azerbaijan</option><option value="Bahamas" data-v-eb0ff6d2>Bahamas</option><option value="Bahrain" data-v-eb0ff6d2>Bahrain</option><option value="Bangladesh" data-v-eb0ff6d2>Bangladesh</option><option value="Barbados" data-v-eb0ff6d2>Barbados</option><option value="Belarus" data-v-eb0ff6d2>Belarus</option><option value="Belgium" data-v-eb0ff6d2>Belgium</option><option value="Belize" data-v-eb0ff6d2>Belize</option><option value="Benin" data-v-eb0ff6d2>Benin</option><option value="Bhutan" data-v-eb0ff6d2>Bhutan</option><option value="Bolivia" data-v-eb0ff6d2>Bolivia</option><option value="Bosnia and Herzegovina" data-v-eb0ff6d2>Bosnia and Herzegovina</option><option value="Botswana" data-v-eb0ff6d2>Botswana</option><option value="Brazil" data-v-eb0ff6d2>Brazil</option><option value="Brunei" data-v-eb0ff6d2>Brunei</option><option value="Bulgaria" data-v-eb0ff6d2>Bulgaria</option><option value="Burkina Faso" data-v-eb0ff6d2>Burkina Faso</option><option value="Burundi" data-v-eb0ff6d2>Burundi</option><option value="Cabo Verde" data-v-eb0ff6d2>Cabo Verde</option><option value="Cambodia" data-v-eb0ff6d2>Cambodia</option><option value="Cameroon" data-v-eb0ff6d2>Cameroon</option><option value="Canada" data-v-eb0ff6d2>Canada</option><option value="Central African Republic" data-v-eb0ff6d2>Central African Republic</option><option value="Chad" data-v-eb0ff6d2>Chad</option><option value="Chile" data-v-eb0ff6d2>Chile</option><option value="China" data-v-eb0ff6d2>China</option><option value="Colombia" data-v-eb0ff6d2>Colombia</option><option value="Comoros" data-v-eb0ff6d2>Comoros</option><option value="Congo (Congo-Brazzaville)" data-v-eb0ff6d2>Congo (Congo-Brazzaville)</option><option value="Costa Rica" data-v-eb0ff6d2>Costa Rica</option><option value="Croatia" data-v-eb0ff6d2>Croatia</option><option value="Cuba" data-v-eb0ff6d2>Cuba</option><option value="Cyprus" data-v-eb0ff6d2>Cyprus</option><option value="Czechia (Czech Republic)" data-v-eb0ff6d2>Czechia (Czech Republic)</option><option value="Denmark" data-v-eb0ff6d2>Denmark</option><option value="Djibouti" data-v-eb0ff6d2>Djibouti</option><option value="Dominica" data-v-eb0ff6d2>Dominica</option><option value="Dominican Republic" data-v-eb0ff6d2>Dominican Republic</option><option value="Ecuador" data-v-eb0ff6d2>Ecuador</option><option value="Egypt" data-v-eb0ff6d2>Egypt</option><option value="El Salvador" data-v-eb0ff6d2>El Salvador</option><option value="Equatorial Guinea" data-v-eb0ff6d2>Equatorial Guinea</option><option value="Eritrea" data-v-eb0ff6d2>Eritrea</option><option value="Estonia" data-v-eb0ff6d2>Estonia</option><option value="Eswatini (fmr. Swaziland)" data-v-eb0ff6d2>Eswatini (fmr. Swaziland)</option><option value="Ethiopia" data-v-eb0ff6d2>Ethiopia</option><option value="Fiji" data-v-eb0ff6d2>Fiji</option><option value="Finland" data-v-eb0ff6d2>Finland</option><option value="France" data-v-eb0ff6d2>France</option><option value="Gabon" data-v-eb0ff6d2>Gabon</option><option value="Gambia" data-v-eb0ff6d2>Gambia</option><option value="Georgia" data-v-eb0ff6d2>Georgia</option><option value="Germany" data-v-eb0ff6d2>Germany</option><option value="Ghana" data-v-eb0ff6d2>Ghana</option><option value="Greece" data-v-eb0ff6d2>Greece</option><option value="Grenada" data-v-eb0ff6d2>Grenada</option><option value="Guatemala" data-v-eb0ff6d2>Guatemala</option><option value="Guinea" data-v-eb0ff6d2>Guinea</option><option value="Guinea-Bissau" data-v-eb0ff6d2>Guinea-Bissau</option><option value="Guyana" data-v-eb0ff6d2>Guyana</option><option value="Haiti" data-v-eb0ff6d2>Haiti</option><option value="Holy See" data-v-eb0ff6d2>Holy See</option><option value="Honduras" data-v-eb0ff6d2>Honduras</option><option value="Hungary" data-v-eb0ff6d2>Hungary</option><option value="Iceland" data-v-eb0ff6d2>Iceland</option><option value="India" data-v-eb0ff6d2>India</option><option value="Indonesia" data-v-eb0ff6d2>Indonesia</option><option value="Iran" data-v-eb0ff6d2>Iran</option><option value="Iraq" data-v-eb0ff6d2>Iraq</option><option value="Ireland" data-v-eb0ff6d2>Ireland</option><option value="Israel" data-v-eb0ff6d2>Israel</option><option value="Italy" data-v-eb0ff6d2>Italy</option><option value="Jamaica" data-v-eb0ff6d2>Jamaica</option><option value="Japan" data-v-eb0ff6d2>Japan</option><option value="Jordan" data-v-eb0ff6d2>Jordan</option><option value="Kazakhstan" data-v-eb0ff6d2>Kazakhstan</option><option value="Kenya" data-v-eb0ff6d2>Kenya</option><option value="Kiribati" data-v-eb0ff6d2>Kiribati</option><option value="Korea (North)" data-v-eb0ff6d2>Korea (North)</option><option value="Korea (South)" data-v-eb0ff6d2>Korea (South)</option><option value="Kosovo" data-v-eb0ff6d2>Kosovo</option><option value="Kuwait" data-v-eb0ff6d2>Kuwait</option><option value="Kyrgyzstan" data-v-eb0ff6d2>Kyrgyzstan</option><option value="Laos" data-v-eb0ff6d2>Laos</option><option value="Latvia" data-v-eb0ff6d2>Latvia</option><option value="Lebanon" data-v-eb0ff6d2>Lebanon</option><option value="Lesotho" data-v-eb0ff6d2>Lesotho</option><option value="Liberia" data-v-eb0ff6d2>Liberia</option><option value="Libya" data-v-eb0ff6d2>Libya</option><option value="Liechtenstein" data-v-eb0ff6d2>Liechtenstein</option><option value="Lithuania" data-v-eb0ff6d2>Lithuania</option><option value="Luxembourg" data-v-eb0ff6d2>Luxembourg</option><option value="Madagascar" data-v-eb0ff6d2>Madagascar</option><option value="Malawi" data-v-eb0ff6d2>Malawi</option><option value="Malaysia" data-v-eb0ff6d2>Malaysia</option><option value="Maldives" data-v-eb0ff6d2>Maldives</option><option value="Mali" data-v-eb0ff6d2>Mali</option><option value="Malta" data-v-eb0ff6d2>Malta</option><option value="Marshall Islands" data-v-eb0ff6d2>Marshall Islands</option><option value="Mauritania" data-v-eb0ff6d2>Mauritania</option><option value="Mauritius" data-v-eb0ff6d2>Mauritius</option><option value="Mexico" data-v-eb0ff6d2>Mexico</option><option value="Micronesia" data-v-eb0ff6d2>Micronesia</option><option value="Moldova" data-v-eb0ff6d2>Moldova</option><option value="Monaco" data-v-eb0ff6d2>Monaco</option><option value="Mongolia" data-v-eb0ff6d2>Mongolia</option><option value="Montenegro" data-v-eb0ff6d2>Montenegro</option><option value="Morocco" data-v-eb0ff6d2>Morocco</option><option value="Mozambique" data-v-eb0ff6d2>Mozambique</option><option value="Myanmar (Burma)" data-v-eb0ff6d2>Myanmar (Burma)</option><option value="Namibia" data-v-eb0ff6d2>Namibia</option><option value="Nauru" data-v-eb0ff6d2>Nauru</option><option value="Nepal" data-v-eb0ff6d2>Nepal</option><option value="Netherlands" data-v-eb0ff6d2>Netherlands</option><option value="New Zealand" data-v-eb0ff6d2>New Zealand</option><option value="Nicaragua" data-v-eb0ff6d2>Nicaragua</option><option value="Niger" data-v-eb0ff6d2>Niger</option><option value="Nigeria" data-v-eb0ff6d2>Nigeria</option><option value="North Macedonia" data-v-eb0ff6d2>North Macedonia</option><option value="Norway" data-v-eb0ff6d2>Norway</option><option value="Oman" data-v-eb0ff6d2>Oman</option><option value="Pakistan" data-v-eb0ff6d2>Pakistan</option><option value="Palau" data-v-eb0ff6d2>Palau</option><option value="Palestine State" data-v-eb0ff6d2>Palestine State</option><option value="Panama" data-v-eb0ff6d2>Panama</option><option value="Papua New Guinea" data-v-eb0ff6d2>Papua New Guinea</option><option value="Paraguay" data-v-eb0ff6d2>Paraguay</option><option value="Peru" data-v-eb0ff6d2>Peru</option><option value="Philippines" data-v-eb0ff6d2>Philippines</option><option value="Poland" data-v-eb0ff6d2>Poland</option><option value="Portugal" data-v-eb0ff6d2>Portugal</option><option value="Qatar" data-v-eb0ff6d2>Qatar</option><option value="Romania" data-v-eb0ff6d2>Romania</option><option value="Russia" data-v-eb0ff6d2>Russia</option><option value="Rwanda" data-v-eb0ff6d2>Rwanda</option><option value="Saint Kitts and Nevis" data-v-eb0ff6d2>Saint Kitts and Nevis</option><option value="Saint Lucia" data-v-eb0ff6d2>Saint Lucia</option><option value="Saint Vincent and the Grenadines" data-v-eb0ff6d2>Saint Vincent and the Grenadines</option><option value="Samoa" data-v-eb0ff6d2>Samoa</option><option value="San Marino" data-v-eb0ff6d2>San Marino</option><option value="Sao Tome and Principe" data-v-eb0ff6d2>Sao Tome and Principe</option><option value="Saudi Arabia" data-v-eb0ff6d2>Saudi Arabia</option><option value="Senegal" data-v-eb0ff6d2>Senegal</option><option value="Serbia" data-v-eb0ff6d2>Serbia</option><option value="Seychelles" data-v-eb0ff6d2>Seychelles</option><option value="Sierra Leone" data-v-eb0ff6d2>Sierra Leone</option><option value="Singapore" data-v-eb0ff6d2>Singapore</option><option value="Slovakia" data-v-eb0ff6d2>Slovakia</option><option value="Slovenia" data-v-eb0ff6d2>Slovenia</option><option value="Solomon Islands" data-v-eb0ff6d2>Solomon Islands</option><option value="Somalia" data-v-eb0ff6d2>Somalia</option><option value="South Africa" data-v-eb0ff6d2>South Africa</option><option value="South Sudan" data-v-eb0ff6d2>South Sudan</option><option value="Spain" data-v-eb0ff6d2>Spain</option><option value="Sri Lanka" data-v-eb0ff6d2>Sri Lanka</option><option value="Sudan" data-v-eb0ff6d2>Sudan</option><option value="Suriname" data-v-eb0ff6d2>Suriname</option><option value="Sweden" data-v-eb0ff6d2>Sweden</option><option value="Switzerland" data-v-eb0ff6d2>Switzerland</option><option value="Syria" data-v-eb0ff6d2>Syria</option><option value="Tajikistan" data-v-eb0ff6d2>Tajikistan</option><option value="Tanzania" data-v-eb0ff6d2>Tanzania</option><option value="Thailand" data-v-eb0ff6d2>Thailand</option><option value="Timor-Leste" data-v-eb0ff6d2>Timor-Leste</option><option value="Togo" data-v-eb0ff6d2>Togo</option><option value="Tonga" data-v-eb0ff6d2>Tonga</option><option value="Trinidad and Tobago" data-v-eb0ff6d2>Trinidad and Tobago</option><option value="Tunisia" data-v-eb0ff6d2>Tunisia</option><option value="Turkey" data-v-eb0ff6d2>Turkey</option><option value="Turkmenistan" data-v-eb0ff6d2>Turkmenistan</option><option value="Tuvalu" data-v-eb0ff6d2>Tuvalu</option><option value="Uganda" data-v-eb0ff6d2>Uganda</option><option value="Ukraine" data-v-eb0ff6d2>Ukraine</option><option value="United Arab Emirates" data-v-eb0ff6d2>United Arab Emirates</option><option value="United Kingdom" data-v-eb0ff6d2>United Kingdom</option><option value="United States of America" data-v-eb0ff6d2>United States of America</option><option value="Uruguay" data-v-eb0ff6d2>Uruguay</option><option value="Uzbekistan" data-v-eb0ff6d2>Uzbekistan</option><option value="Vanuatu" data-v-eb0ff6d2>Vanuatu</option><option value="Venezuela" data-v-eb0ff6d2>Venezuela</option><option value="Vietnam" data-v-eb0ff6d2>Vietnam</option><option value="Yemen" data-v-eb0ff6d2>Yemen</option><option value="Zambia" data-v-eb0ff6d2>Zambia</option><option value="Zimbabwe" data-v-eb0ff6d2>Zimbabwe</option>',196)]),512),[[o.vModelSelect,f.value.country]])]),(0,o.createElementVNode)("div",null,[t[24]||(t[24]=(0,o.createElementVNode)("label",{for:"zipcode"},"Zip Code ",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"zipcode",id:"zipcode","onUpdate:modelValue":t[7]||(t[7]=e=>f.value.zipcode=e),required:""},null,512),[[o.vModelText,f.value.zipcode]])]),(0,o.createElementVNode)("div",null,[t[25]||(t[25]=(0,o.createElementVNode)("label",{for:"company_field"},"Company Field or Industry",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"company_field","onUpdate:modelValue":t[8]||(t[8]=e=>f.value.company_field=e),required:""},null,512),[[o.vModelText,f.value.company_field]])]),(0,o.createElementVNode)("div",null,[t[26]||(t[26]=(0,o.createElementVNode)("label",{for:"point_contact"},"Point of Contact",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"point_contact","onUpdate:modelValue":t[9]||(t[9]=e=>f.value.point_contact=e),required:""},null,512),[[o.vModelText,f.value.point_contact]])]),(0,o.createElementVNode)("div",null,[t[27]||(t[27]=(0,o.createElementVNode)("label",{for:"title"},"Titre",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"title","onUpdate:modelValue":t[10]||(t[10]=e=>f.value.title=e),required:""},null,512),[[o.vModelText,f.value.title]])]),(0,o.createElementVNode)("div",null,[t[28]||(t[28]=(0,o.createElementVNode)("label",{for:"email"},"Email",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"email",id:"email","onUpdate:modelValue":t[11]||(t[11]=e=>f.value.email=e),required:""},null,512),[[o.vModelText,f.value.email]])]),(0,o.createElementVNode)("div",null,[t[29]||(t[29]=(0,o.createElementVNode)("label",{for:"phone_number"},"Phone number",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"phone_number","onUpdate:modelValue":t[12]||(t[12]=e=>f.value.phone_number=e),required:""},null,512),[[o.vModelText,f.value.phone_number]])]),(0,o.unref)(v)?((0,o.openBlock)(),(0,o.createElementBlock)("div",yl,[(0,o.createElementVNode)("input",{type:"submit",value:"Soumettre",disabled:h.value},null,8,Vl)])):(0,o.createCommentVNode)("",!0),A.value?((0,o.openBlock)(),(0,o.createElementBlock)("p",Nl,(0,o.toDisplayString)(A.value),1)):(0,o.createCommentVNode)("",!0)],32)])])])])])}}};const kl=(0,M.A)(Dl,[["__scopeId","data-v-eb0ff6d2"]]);var Ml=kl;const bl={class:"request-meeting"},Bl={class:"container"},Pl={class:"row align-items-center"},Ol={class:"col col-12 col-md-12 col-sm-12"},wl={class:"left-back"},Rl={class:"background-gradi"},Il={class:"request-meeting meeting-form"},Ll={class:"row align-items-center"},Ul={class:"col col-12 col-md-12 col-sm-12"},Tl={key:0},Sl={key:0,class:"error"};var Kl={__name:"EditCompanyView",setup(e){const t=(0,o.ref)({id:"",name:"",number_of_employee:"",email:"",phone_number:"",id_number:"",point_contact:"",company_field:"",country:"",city:"",address:"",zipcode:"",state:"",title:""}),a=(0,o.ref)(),l=(0,o.ref)(""),{showCompany:r,company:c,statusCode:s,updateCompany:u}=(0,i.R)(),d=(0,n.rd)(),_=(0,n.lq)(),m=e=>{const o=e.target.files[0];o?(t.value.logo=o,a.value=o.name):l.value="Veuillez selectionnez un fichier valide"};(0,o.watch)(s,(e=>{switch(e){case 200:W.oR.success("Entreprise mise à jour avec succès."),setTimeout((()=>{d.push("/")}),1500);break;case 400:W.oR.info("La requête est mal formée.");break;case 401:W.oR.info("Vous devez être authentifié."),setTimeout((()=>{d.push("/")}),1500);break;case 403:W.oR.info("Vous n'avez pas la permission.");break;case 404:W.oR.info("La ressource demandée n'existe pas.");break;case 500:W.oR.info("Une erreur interne est survenue.");break;default:W.oR.info(`Code : ${e}`)}})),(0,o.onBeforeMount)((async()=>{_?.params?.company_edit&&(await r(_.params.company_edit),t.value=c.value)}));const v=async()=>{try{_?.params?.company_edit&&await u(t.value,t.value.id)}catch(e){l.value=`Erreur: ${e.message}`}};return(e,n)=>{const i=(0,o.resolveComponent)("router-link");return(0,o.openBlock)(),(0,o.createElementBlock)("section",bl,[(0,o.createElementVNode)("div",Bl,[(0,o.createElementVNode)("div",Pl,[(0,o.createElementVNode)("div",Ol,[(0,o.createElementVNode)("div",wl,[(0,o.createVNode)(i,{to:{name:"Menu"}},{default:(0,o.withCtx)((()=>n[13]||(n[13]=[(0,o.createElementVNode)("img",{src:ce,alt:"back-arrow"},null,-1)]))),_:1})])])])]),(0,o.createElementVNode)("div",Rl,[(0,o.createElementVNode)("section",Il,[(0,o.createElementVNode)("div",Ll,[(0,o.createElementVNode)("div",Ul,[n[31]||(n[31]=(0,o.createElementVNode)("div",{class:"d-flex justify-content-start mb-4 gap-3 align-items-center"},[(0,o.createElementVNode)("h3",null,"Editer l'Entreprise")],-1)),(0,o.createElementVNode)("form",{onSubmit:(0,o.withModifiers)(v,["prevent"]),enctype:"multipart/form-data"},[(0,o.createElementVNode)("div",null,[n[14]||(n[14]=(0,o.createElementVNode)("label",{for:"logo"},"Logo",-1)),(0,o.createElementVNode)("input",{type:"file",id:"logo",onChange:m,class:(0,o.normalizeClass)({error:l.value})},null,34),a.value?((0,o.openBlock)(),(0,o.createElementBlock)("p",Tl,(0,o.toDisplayString)(a.value),1)):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",null,[n[15]||(n[15]=(0,o.createElementVNode)("label",{for:"name"},"Nom",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"name","onUpdate:modelValue":n[0]||(n[0]=e=>t.value.name=e),required:"",readonly:"",disabled:""},null,512),[[o.vModelText,t.value.name]])]),(0,o.createElementVNode)("div",null,[n[16]||(n[16]=(0,o.createElementVNode)("label",{for:"id_number"},"Identification number",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"id_number","onUpdate:modelValue":n[1]||(n[1]=e=>t.value.id_number=e),required:""},null,512),[[o.vModelText,t.value.id_number]])]),(0,o.createElementVNode)("div",null,[n[18]||(n[18]=(0,o.createElementVNode)("label",{for:"number_of_employee"},"Number of employee",-1)),(0,o.withDirectives)((0,o.createElementVNode)("select",{"onUpdate:modelValue":n[2]||(n[2]=e=>t.value.number_of_employee=e),id:"number_of_employee",name:"number_of_employee",class:"input_style"},n[17]||(n[17]=[(0,o.createStaticVNode)('<option value="0-5" data-v-307c017e>0-5</option><option value="6-10" data-v-307c017e>6-10</option><option value="11-50" data-v-307c017e>11-50</option><option value="51-100" data-v-307c017e>51-100</option><option value="101-1000" data-v-307c017e>101-1000</option><option value="+1000" data-v-307c017e>+1000</option>',6)]),512),[[o.vModelSelect,t.value.number_of_employee]])]),(0,o.createElementVNode)("div",null,[n[19]||(n[19]=(0,o.createElementVNode)("label",{for:"address"},"Address",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"address","onUpdate:modelValue":n[3]||(n[3]=e=>t.value.address=e),required:""},null,512),[[o.vModelText,t.value.address]])]),(0,o.createElementVNode)("div",null,[n[20]||(n[20]=(0,o.createElementVNode)("label",{for:"city"},"City",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"city","onUpdate:modelValue":n[4]||(n[4]=e=>t.value.city=e),required:""},null,512),[[o.vModelText,t.value.city]])]),(0,o.createElementVNode)("div",null,[n[21]||(n[21]=(0,o.createElementVNode)("label",{for:"state"},"Region/State",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"state","onUpdate:modelValue":n[5]||(n[5]=e=>t.value.state=e),required:""},null,512),[[o.vModelText,t.value.state]])]),(0,o.createElementVNode)("div",null,[n[23]||(n[23]=(0,o.createElementVNode)("label",{for:"country"},"Country",-1)),(0,o.withDirectives)((0,o.createElementVNode)("select",{id:"country","onUpdate:modelValue":n[6]||(n[6]=e=>t.value.country=e),class:"input_style",required:""},n[22]||(n[22]=[(0,o.createStaticVNode)('<option value="" disabled data-v-307c017e>Select a country</option><option value="Côte d’ivoire" data-v-307c017e>Côte d’ivoire</option><option value="Afghanistan" data-v-307c017e>Afghanistan</option><option value="Albania" data-v-307c017e>Albania</option><option value="Algeria" data-v-307c017e>Algeria</option><option value="Andorra" data-v-307c017e>Andorra</option><option value="Angola" data-v-307c017e>Angola</option><option value="Antigua and Barbuda" data-v-307c017e>Antigua and Barbuda</option><option value="Argentina" data-v-307c017e>Argentina</option><option value="Armenia" data-v-307c017e>Armenia</option><option value="Australia" data-v-307c017e>Australia</option><option value="Austria" data-v-307c017e>Austria</option><option value="Azerbaijan" data-v-307c017e>Azerbaijan</option><option value="Bahamas" data-v-307c017e>Bahamas</option><option value="Bahrain" data-v-307c017e>Bahrain</option><option value="Bangladesh" data-v-307c017e>Bangladesh</option><option value="Barbados" data-v-307c017e>Barbados</option><option value="Belarus" data-v-307c017e>Belarus</option><option value="Belgium" data-v-307c017e>Belgium</option><option value="Belize" data-v-307c017e>Belize</option><option value="Benin" data-v-307c017e>Benin</option><option value="Bhutan" data-v-307c017e>Bhutan</option><option value="Bolivia" data-v-307c017e>Bolivia</option><option value="Bosnia and Herzegovina" data-v-307c017e>Bosnia and Herzegovina</option><option value="Botswana" data-v-307c017e>Botswana</option><option value="Brazil" data-v-307c017e>Brazil</option><option value="Brunei" data-v-307c017e>Brunei</option><option value="Bulgaria" data-v-307c017e>Bulgaria</option><option value="Burkina Faso" data-v-307c017e>Burkina Faso</option><option value="Burundi" data-v-307c017e>Burundi</option><option value="Cabo Verde" data-v-307c017e>Cabo Verde</option><option value="Cambodia" data-v-307c017e>Cambodia</option><option value="Cameroon" data-v-307c017e>Cameroon</option><option value="Canada" data-v-307c017e>Canada</option><option value="Central African Republic" data-v-307c017e>Central African Republic</option><option value="Chad" data-v-307c017e>Chad</option><option value="Chile" data-v-307c017e>Chile</option><option value="China" data-v-307c017e>China</option><option value="Colombia" data-v-307c017e>Colombia</option><option value="Comoros" data-v-307c017e>Comoros</option><option value="Congo (Congo-Brazzaville)" data-v-307c017e>Congo (Congo-Brazzaville)</option><option value="Costa Rica" data-v-307c017e>Costa Rica</option><option value="Croatia" data-v-307c017e>Croatia</option><option value="Cuba" data-v-307c017e>Cuba</option><option value="Cyprus" data-v-307c017e>Cyprus</option><option value="Czechia (Czech Republic)" data-v-307c017e>Czechia (Czech Republic)</option><option value="Denmark" data-v-307c017e>Denmark</option><option value="Djibouti" data-v-307c017e>Djibouti</option><option value="Dominica" data-v-307c017e>Dominica</option><option value="Dominican Republic" data-v-307c017e>Dominican Republic</option><option value="Ecuador" data-v-307c017e>Ecuador</option><option value="Egypt" data-v-307c017e>Egypt</option><option value="El Salvador" data-v-307c017e>El Salvador</option><option value="Equatorial Guinea" data-v-307c017e>Equatorial Guinea</option><option value="Eritrea" data-v-307c017e>Eritrea</option><option value="Estonia" data-v-307c017e>Estonia</option><option value="Eswatini (fmr. Swaziland)" data-v-307c017e>Eswatini (fmr. Swaziland)</option><option value="Ethiopia" data-v-307c017e>Ethiopia</option><option value="Fiji" data-v-307c017e>Fiji</option><option value="Finland" data-v-307c017e>Finland</option><option value="France" data-v-307c017e>France</option><option value="Gabon" data-v-307c017e>Gabon</option><option value="Gambia" data-v-307c017e>Gambia</option><option value="Georgia" data-v-307c017e>Georgia</option><option value="Germany" data-v-307c017e>Germany</option><option value="Ghana" data-v-307c017e>Ghana</option><option value="Greece" data-v-307c017e>Greece</option><option value="Grenada" data-v-307c017e>Grenada</option><option value="Guatemala" data-v-307c017e>Guatemala</option><option value="Guinea" data-v-307c017e>Guinea</option><option value="Guinea-Bissau" data-v-307c017e>Guinea-Bissau</option><option value="Guyana" data-v-307c017e>Guyana</option><option value="Haiti" data-v-307c017e>Haiti</option><option value="Holy See" data-v-307c017e>Holy See</option><option value="Honduras" data-v-307c017e>Honduras</option><option value="Hungary" data-v-307c017e>Hungary</option><option value="Iceland" data-v-307c017e>Iceland</option><option value="India" data-v-307c017e>India</option><option value="Indonesia" data-v-307c017e>Indonesia</option><option value="Iran" data-v-307c017e>Iran</option><option value="Iraq" data-v-307c017e>Iraq</option><option value="Ireland" data-v-307c017e>Ireland</option><option value="Israel" data-v-307c017e>Israel</option><option value="Italy" data-v-307c017e>Italy</option><option value="Jamaica" data-v-307c017e>Jamaica</option><option value="Japan" data-v-307c017e>Japan</option><option value="Jordan" data-v-307c017e>Jordan</option><option value="Kazakhstan" data-v-307c017e>Kazakhstan</option><option value="Kenya" data-v-307c017e>Kenya</option><option value="Kiribati" data-v-307c017e>Kiribati</option><option value="Korea (North)" data-v-307c017e>Korea (North)</option><option value="Korea (South)" data-v-307c017e>Korea (South)</option><option value="Kosovo" data-v-307c017e>Kosovo</option><option value="Kuwait" data-v-307c017e>Kuwait</option><option value="Kyrgyzstan" data-v-307c017e>Kyrgyzstan</option><option value="Laos" data-v-307c017e>Laos</option><option value="Latvia" data-v-307c017e>Latvia</option><option value="Lebanon" data-v-307c017e>Lebanon</option><option value="Lesotho" data-v-307c017e>Lesotho</option><option value="Liberia" data-v-307c017e>Liberia</option><option value="Libya" data-v-307c017e>Libya</option><option value="Liechtenstein" data-v-307c017e>Liechtenstein</option><option value="Lithuania" data-v-307c017e>Lithuania</option><option value="Luxembourg" data-v-307c017e>Luxembourg</option><option value="Madagascar" data-v-307c017e>Madagascar</option><option value="Malawi" data-v-307c017e>Malawi</option><option value="Malaysia" data-v-307c017e>Malaysia</option><option value="Maldives" data-v-307c017e>Maldives</option><option value="Mali" data-v-307c017e>Mali</option><option value="Malta" data-v-307c017e>Malta</option><option value="Marshall Islands" data-v-307c017e>Marshall Islands</option><option value="Mauritania" data-v-307c017e>Mauritania</option><option value="Mauritius" data-v-307c017e>Mauritius</option><option value="Mexico" data-v-307c017e>Mexico</option><option value="Micronesia" data-v-307c017e>Micronesia</option><option value="Moldova" data-v-307c017e>Moldova</option><option value="Monaco" data-v-307c017e>Monaco</option><option value="Mongolia" data-v-307c017e>Mongolia</option><option value="Montenegro" data-v-307c017e>Montenegro</option><option value="Morocco" data-v-307c017e>Morocco</option><option value="Mozambique" data-v-307c017e>Mozambique</option><option value="Myanmar (Burma)" data-v-307c017e>Myanmar (Burma)</option><option value="Namibia" data-v-307c017e>Namibia</option><option value="Nauru" data-v-307c017e>Nauru</option><option value="Nepal" data-v-307c017e>Nepal</option><option value="Netherlands" data-v-307c017e>Netherlands</option><option value="New Zealand" data-v-307c017e>New Zealand</option><option value="Nicaragua" data-v-307c017e>Nicaragua</option><option value="Niger" data-v-307c017e>Niger</option><option value="Nigeria" data-v-307c017e>Nigeria</option><option value="North Macedonia" data-v-307c017e>North Macedonia</option><option value="Norway" data-v-307c017e>Norway</option><option value="Oman" data-v-307c017e>Oman</option><option value="Pakistan" data-v-307c017e>Pakistan</option><option value="Palau" data-v-307c017e>Palau</option><option value="Palestine State" data-v-307c017e>Palestine State</option><option value="Panama" data-v-307c017e>Panama</option><option value="Papua New Guinea" data-v-307c017e>Papua New Guinea</option><option value="Paraguay" data-v-307c017e>Paraguay</option><option value="Peru" data-v-307c017e>Peru</option><option value="Philippines" data-v-307c017e>Philippines</option><option value="Poland" data-v-307c017e>Poland</option><option value="Portugal" data-v-307c017e>Portugal</option><option value="Qatar" data-v-307c017e>Qatar</option><option value="Romania" data-v-307c017e>Romania</option><option value="Russia" data-v-307c017e>Russia</option><option value="Rwanda" data-v-307c017e>Rwanda</option><option value="Saint Kitts and Nevis" data-v-307c017e>Saint Kitts and Nevis</option><option value="Saint Lucia" data-v-307c017e>Saint Lucia</option><option value="Saint Vincent and the Grenadines" data-v-307c017e>Saint Vincent and the Grenadines</option><option value="Samoa" data-v-307c017e>Samoa</option><option value="San Marino" data-v-307c017e>San Marino</option><option value="Sao Tome and Principe" data-v-307c017e>Sao Tome and Principe</option><option value="Saudi Arabia" data-v-307c017e>Saudi Arabia</option><option value="Senegal" data-v-307c017e>Senegal</option><option value="Serbia" data-v-307c017e>Serbia</option><option value="Seychelles" data-v-307c017e>Seychelles</option><option value="Sierra Leone" data-v-307c017e>Sierra Leone</option><option value="Singapore" data-v-307c017e>Singapore</option><option value="Slovakia" data-v-307c017e>Slovakia</option><option value="Slovenia" data-v-307c017e>Slovenia</option><option value="Solomon Islands" data-v-307c017e>Solomon Islands</option><option value="Somalia" data-v-307c017e>Somalia</option><option value="South Africa" data-v-307c017e>South Africa</option><option value="South Sudan" data-v-307c017e>South Sudan</option><option value="Spain" data-v-307c017e>Spain</option><option value="Sri Lanka" data-v-307c017e>Sri Lanka</option><option value="Sudan" data-v-307c017e>Sudan</option><option value="Suriname" data-v-307c017e>Suriname</option><option value="Sweden" data-v-307c017e>Sweden</option><option value="Switzerland" data-v-307c017e>Switzerland</option><option value="Syria" data-v-307c017e>Syria</option><option value="Tajikistan" data-v-307c017e>Tajikistan</option><option value="Tanzania" data-v-307c017e>Tanzania</option><option value="Thailand" data-v-307c017e>Thailand</option><option value="Timor-Leste" data-v-307c017e>Timor-Leste</option><option value="Togo" data-v-307c017e>Togo</option><option value="Tonga" data-v-307c017e>Tonga</option><option value="Trinidad and Tobago" data-v-307c017e>Trinidad and Tobago</option><option value="Tunisia" data-v-307c017e>Tunisia</option><option value="Turkey" data-v-307c017e>Turkey</option><option value="Turkmenistan" data-v-307c017e>Turkmenistan</option><option value="Tuvalu" data-v-307c017e>Tuvalu</option><option value="Uganda" data-v-307c017e>Uganda</option><option value="Ukraine" data-v-307c017e>Ukraine</option><option value="United Arab Emirates" data-v-307c017e>United Arab Emirates</option><option value="United Kingdom" data-v-307c017e>United Kingdom</option><option value="United States of America" data-v-307c017e>United States of America</option><option value="Uruguay" data-v-307c017e>Uruguay</option><option value="Uzbekistan" data-v-307c017e>Uzbekistan</option><option value="Vanuatu" data-v-307c017e>Vanuatu</option><option value="Venezuela" data-v-307c017e>Venezuela</option><option value="Vietnam" data-v-307c017e>Vietnam</option><option value="Yemen" data-v-307c017e>Yemen</option><option value="Zambia" data-v-307c017e>Zambia</option><option value="Zimbabwe" data-v-307c017e>Zimbabwe</option>',196)]),512),[[o.vModelSelect,t.value.country]])]),(0,o.createElementVNode)("div",null,[n[24]||(n[24]=(0,o.createElementVNode)("label",{for:"zipcode"},"Zip Code ",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"zipcode",id:"zipcode","onUpdate:modelValue":n[7]||(n[7]=e=>t.value.zipcode=e),required:""},null,512),[[o.vModelText,t.value.zipcode]])]),(0,o.createElementVNode)("div",null,[n[25]||(n[25]=(0,o.createElementVNode)("label",{for:"company_field"},"Company Field or Industry",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"company_field","onUpdate:modelValue":n[8]||(n[8]=e=>t.value.company_field=e),required:""},null,512),[[o.vModelText,t.value.company_field]])]),(0,o.createElementVNode)("div",null,[n[26]||(n[26]=(0,o.createElementVNode)("label",{for:"point_contact"},"Point of Contact",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"point_contact","onUpdate:modelValue":n[9]||(n[9]=e=>t.value.point_contact=e),required:""},null,512),[[o.vModelText,t.value.point_contact]])]),(0,o.createElementVNode)("div",null,[n[27]||(n[27]=(0,o.createElementVNode)("label",{for:"title"},"Titre",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"title","onUpdate:modelValue":n[10]||(n[10]=e=>t.value.title=e),required:""},null,512),[[o.vModelText,t.value.title]])]),(0,o.createElementVNode)("div",null,[n[28]||(n[28]=(0,o.createElementVNode)("label",{for:"email"},"Email",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"email",id:"email","onUpdate:modelValue":n[11]||(n[11]=e=>t.value.email=e),required:""},null,512),[[o.vModelText,t.value.email]])]),(0,o.createElementVNode)("div",null,[n[29]||(n[29]=(0,o.createElementVNode)("label",{for:"phone_number"},"Phone number",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"phone_number","onUpdate:modelValue":n[12]||(n[12]=e=>t.value.phone_number=e),required:""},null,512),[[o.vModelText,t.value.phone_number]])]),n[30]||(n[30]=(0,o.createElementVNode)("div",{class:"event_button submit-button"},[(0,o.createElementVNode)("input",{type:"submit",value:"Soumettre"})],-1)),l.value?((0,o.openBlock)(),(0,o.createElementBlock)("p",Sl,(0,o.toDisplayString)(l.value),1)):(0,o.createCommentVNode)("",!0)],32)])])])])])}}};const Wl=(0,M.A)(Kl,[["__scopeId","data-v-307c017e"]]);var ql=Wl;a(1454);const xl={class:"scanner-area scanner-area-new"},Ql={class:"container"},Fl={class:"row align-items-center"},zl={class:"scanner-logo-image"},Jl={class:"scanner-left"},jl=["src","alt"],Gl={class:"scanner-right"},Hl={class:"scanner-texts"},Xl={class:"scanner-image"},Zl=["src","alt"],Yl={class:"event_qrcode_button"};var $l={__name:"ShowEventQRcodeView",setup(e){const t=(0,s.k)(),a=(0,n.lq)(),{showEvent:l,event:r}=(0,St._)(),{showCompany:u,company:d}=(0,i.R)(),{publicDir:_}=c(),m=(0,n.rd)(),v=()=>{m.push({name:"Menu",params:{domain:C.value,id:a.params.id}})},p=(0,o.ref)(null),E=(0,o.ref)(null),A=()=>{if(p.value){const e=p.value.querySelectorAll("img"),t=Array.from(e).map((e=>new Promise((t=>{e.complete?t():(e.onload=t,e.onerror=t)}))));Promise.all(t).then((()=>{ot()(p.value,{useCORS:!0,allowTaint:!0,ignoreElements:e=>e.classList.contains("capture-button")||e.classList.contains("menu-button")}).then((e=>{const t=e.toDataURL("image/png");E.value=t;const a=document.createElement("a");a.href=t,a.download=`event-${C.value}.png`,document.body.appendChild(a),a.click(),document.body.removeChild(a)}))}))}},{formatDate:f,formatTime:g}=Nn(),h=t.isAuthenticated(),C=(0,o.ref)(a.params.domain||"scb");return(0,o.onMounted)((()=>{l(a.params.slug),u(C.value),C.value&&m.push({name:"ShowEventQRcode",params:{domain:C.value,slug:a.params.slug}})})),console.log("event---data",r),(e,t)=>{const n=(0,o.resolveComponent)("router-link");return(0,o.openBlock)(),(0,o.createElementBlock)("section",xl,[(0,o.createElementVNode)("div",Ql,[(0,o.createElementVNode)("div",Fl,[(0,o.createElementVNode)("div",{class:"col col-12 col-md-12 col-sm-12 scanner-bg-black",ref_key:"capture",ref:p},[(0,o.createElementVNode)("div",zl,[(0,o.createElementVNode)("div",Jl,[(0,o.createVNode)(n,{to:{name:"RequestMeeting",params:{domain:C.value}}},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("img",{class:"logo logo12333",src:`${(0,o.unref)(_)}/logo/${(0,o.unref)(d)?.logo}`,alt:(0,o.unref)(d)?.logo},null,8,jl)])),_:1},8,["to"])]),(0,o.createElementVNode)("div",Gl,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)((0,o.unref)(g)((0,o.unref)(r)?.time_event)),1),t[1]||(t[1]=(0,o.createTextVNode)()),t[2]||(t[2]=(0,o.createElementVNode)("br",null,null,-1)),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)((0,o.unref)(f)((0,o.unref)(r)?.date_event)),1)])]),(0,o.createElementVNode)("div",Hl,[t[3]||(t[3]=(0,o.createElementVNode)("h5",null,"EVENT",-1)),(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)((0,o.unref)(r)?.name),1),t[4]||(t[4]=(0,o.createElementVNode)("h5",null,"WHERE",-1)),(0,o.createElementVNode)("p",null,(0,o.toDisplayString)((0,o.unref)(r)?.location),1),t[5]||(t[5]=(0,o.createElementVNode)("h5",null,"Address",-1)),(0,o.createElementVNode)("p",null,(0,o.toDisplayString)((0,o.unref)(r)?.addressName)+","+(0,o.toDisplayString)((0,o.unref)(r)?.city)+", "+(0,o.toDisplayString)((0,o.unref)(r)?.state)+(0,o.toDisplayString)((0,o.unref)(r)?.zipcode)+","+(0,o.toDisplayString)((0,o.unref)(r)?.country),1)]),(0,o.createElementVNode)("div",Xl,[(0,o.createVNode)(n,{to:`/${(0,o.unref)(a).params.slug}`},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("img",{src:`${(0,o.unref)(_)}/qrcode-link/qrcode-${(0,o.unref)(a).params.slug}.png`,alt:(0,o.unref)(a).params.slug,style:{"border-radius":"12px","margin-top":"50px"}},null,8,Zl)])),_:1},8,["to"])])],512),(0,o.createElementVNode)("div",Yl,[(0,o.createElementVNode)("div",{class:"capture-button",style:{background:"#000",color:"#fff","border-radius":"10px",padding:"20px 100px","font-weight":"600","font-size":"20px",display:"inline-block",cursor:"pointer","margin-right":"5px"},onClick:A}," Capture "),(0,o.unref)(h)?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"menu-button",style:{background:"#000",color:"#fff","border-radius":"10px",padding:"20px 100px","font-weight":"600","font-size":"20px",display:"inline-block",cursor:"pointer","margin-top":"10px"},onClick:t[0]||(t[0]=e=>v())}," Menu ")):(0,o.createCommentVNode)("",!0)])])])])}}};const ei=$l;var ti=ei;const ai={class:"secure-datatable-heading-back"},oi={class:"container"},ni={class:"row align-items-center"},li={class:"col col-12 col-md-12 col-sm-12"},ii={class:"left-back"},ri={class:"scanner_camera"},ci={ref:"video",width:"640",height:"480",autoplay:""},si={ref:"canvas",width:"640",height:"480",style:{display:"none"}};function ui(e,t,a,n,l,i){const r=(0,o.resolveComponent)("router-link");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createElementVNode)("section",ai,[(0,o.createElementVNode)("div",oi,[(0,o.createElementVNode)("div",ni,[(0,o.createElementVNode)("div",li,[(0,o.createElementVNode)("div",ii,[(0,o.createVNode)(r,{to:{name:"Menu"}},{default:(0,o.withCtx)((()=>t[0]||(t[0]=[(0,o.createElementVNode)("img",{src:ce,alt:"back-arrow"},null,-1)]))),_:1})])])])])]),(0,o.createElementVNode)("div",ri,[t[1]||(t[1]=(0,o.createElementVNode)("h1",null,"Login with QR Code",-1)),(0,o.createElementVNode)("video",ci,null,512),(0,o.createElementVNode)("canvas",si,null,512),(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(l.qrResult),1),(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(l.status),1)])],64)}a(4603),a(7566),a(8721);var di=a(8703),_i=a.n(di),mi={data(){return{qrResult:"Waiting for QR code...",status:"Status: Logged Out",stream:null,loggedIn:!1,currentUser:"",scanInProgress:!1}},mounted(){this.startCamera()},methods:{startCamera(){const e=this.$refs.video;navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then((t=>{this.stream=t,e.srcObject=t,e.play(),this.scanQRCode()})).catch((e=>{console.error("Error accessing camera: ",e)}))},scanQRCode(){const e=this.$refs.video,t=this.$refs.canvas,a=t.getContext("2d"),o=()=>{if(!this.scanInProgress){this.scanInProgress=!0,a.drawImage(e,0,0,t.width,t.height);const o=a.getImageData(0,0,t.width,t.height),n=_i()(o.data,t.width,t.height);if(n){const e=n.data;console.log(e),this.isValidURL(e)?window.location.href=e:this.isValidEmail(e)?this.handleLoginLogout(e):this.qrResult=`Invalid QR Code: ${e}`}else this.qrResult="No QR code detected.";setTimeout((()=>{this.scanInProgress=!1}),1e3)}setTimeout((()=>requestAnimationFrame(o)),500)};requestAnimationFrame(o)},handleLoginLogout(e){this.loggedIn?this.loggedIn&&this.currentUser===e?(this.loggedIn=!1,this.currentUser="",this.status="Status: Logged Out",this.qrResult="Logout successful!"):this.qrResult=`Already logged in as ${this.currentUser}. Please log out first.`:(this.loggedIn=!0,this.currentUser=e,this.status=`Status: Logged In as ${e}`,this.qrResult=`Login successful for ${e}`),this.scanInProgress=!0,setTimeout((()=>{this.scanInProgress=!1}),2e3)},isValidEmail(e){const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.test(e)},isValidURL(e){try{return new URL(e),!0}catch(t){return!1}}},beforeUnmount(){this.stream&&this.stream.getTracks().forEach((e=>e.stop()))}};const vi=(0,M.A)(mi,[["render",ui],["__scopeId","data-v-13da8d6a"]]);var pi=vi;const Ei={class:"secure-datatable-heading-back"},Ai={class:"container"},fi={class:"row align-items-center"},gi={class:"col col-12 col-md-12 col-sm-12"},hi={class:"left-back"},Ci={class:"event_container"},yi={class:"container"},Vi={class:"d-flex justify-content-center py-3"},Ni={key:0,class:"table table-striped"},Di=["src","onClick"],ki=["src"];function Mi(e,t,a,n,l,i){const r=(0,o.resolveComponent)("router-link");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createElementVNode)("section",Ei,[(0,o.createElementVNode)("div",Ai,[(0,o.createElementVNode)("div",fi,[(0,o.createElementVNode)("div",gi,[(0,o.createElementVNode)("div",hi,[(0,o.createVNode)(r,{to:{name:"Menu"}},{default:(0,o.withCtx)((()=>t[3]||(t[3]=[(0,o.createElementVNode)("img",{src:ce,alt:"back-arrow"},null,-1)]))),_:1})])])])])]),(0,o.createElementVNode)("div",Ci,[(0,o.createElementVNode)("div",yi,[t[5]||(t[5]=(0,o.createElementVNode)("div",{class:"d-flex justify-content-center align-items-center"},[(0,o.createElementVNode)("h3",{class:"mt-3"},"Liste Check in")],-1)),(0,o.createElementVNode)("div",Vi,[n.visitorLogs.length?((0,o.openBlock)(),(0,o.createElementBlock)("table",Ni,[t[4]||(t[4]=(0,o.createElementVNode)("thead",null,[(0,o.createElementVNode)("tr",null,[(0,o.createElementVNode)("th",null,"#"),(0,o.createElementVNode)("th",null,"Visitor Name"),(0,o.createElementVNode)("th",null,"Visitor Email"),(0,o.createElementVNode)("th",null,"Image"),(0,o.createElementVNode)("th",null,"Created At"),(0,o.createElementVNode)("th",null,"Check In"),(0,o.createElementVNode)("th",null,"Check Out")])],-1)),(0,o.createElementVNode)("tbody",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(n.visitorLogs,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("tr",{key:e.id},[(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(t+1),1),(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(e.visitor_name)+" "+(0,o.toDisplayString)(e.visitor_lastname),1),(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(e.visitor_email),1),(0,o.createElementVNode)("td",null,[(0,o.createElementVNode)("img",{src:`${n.publicDir}/request_image/${e.image}`,height:"75",width:"75",class:"clickable-image",onClick:t=>n.openImageModal(`${n.publicDir}/request_image/${e.image}`),alt:"No img"},null,8,Di)]),(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(e.created_at),1),(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(e.check_in_time),1),(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(e.check_out_time),1)])))),128))])])):(0,o.createCommentVNode)("",!0)]),n.selectedImage?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"modal-overlay",onClick:t[2]||(t[2]=(...e)=>n.closeImageModal&&n.closeImageModal(...e))},[(0,o.createElementVNode)("button",{class:"close-button",onClick:t[0]||(t[0]=(...e)=>n.closeImageModal&&n.closeImageModal(...e))},"×"),(0,o.createElementVNode)("div",{class:"modal-content",onClick:t[1]||(t[1]=(0,o.withModifiers)((()=>{}),["stop"]))},[(0,o.createElementVNode)("img",{src:n.selectedImage,alt:"Full Image",class:"full-image"},null,8,ki)])])):(0,o.createCommentVNode)("",!0)])])],64)}var bi={name:"DisplayCodeView",setup(){const{publicDir:e}=c(),t=(0,n.lq)(),a=(0,o.ref)(t?.params?.domain||"scb"),l=(0,o.ref)([]),i=(0,o.ref)(""),r=(0,o.ref)(null),s=(0,o.ref)(null),u=e=>{s.value=e},d=()=>{s.value=null},_=(0,o.ref)(JSON.parse(localStorage.getItem("userInfo"))||{}),m=(0,o.ref)(_.value?.roles||[]),v=(0,o.ref)(m.value.includes("ROLE_ADMIN")),p=async()=>{try{let e;e=v.value?await Fn.fetchData():await Fn.fetchVisitorLogCom(a.value),l.value=e,i.value="Data fetched successfully!"}catch(e){r.value="Failed to fetch data.",console.error(e)}};return(0,o.onMounted)((()=>{p()})),{domain:a,visitorLogs:l,message:i,error:r,publicDir:e,isAdmin:v,selectedImage:s,openImageModal:u,closeImageModal:d}}};const Bi=(0,M.A)(bi,[["render",Mi],["__scopeId","data-v-220434a1"]]);var Pi=Bi;const Oi={class:"secure-datatable-heading-back"},wi={class:"container"},Ri={class:"row align-items-center"},Ii={class:"col col-12 col-md-12 col-sm-12"},Li={class:"left-back"},Ui={class:"container"},Ti={class:"d-flex justify-content-center align-items-center"},Si={class:"d-flex justify-content-start mb-4 gap-3 align-items-center"},Ki={key:0,class:"mt-3"},Wi={key:1,class:"mt-3"},qi={key:0},xi={key:0},Qi={class:"request-meeting"},Fi={class:"background-gradi"},zi={class:"request-meeting meeting-form"},Ji={class:"row align-items-center"},ji={class:"col col-12 col-md-12 col-sm-12"},Gi={key:1},Hi={class:"company-details"},Xi={class:"mdc-data-table__table"},Zi={class:"mdc-data-table__header-row"},Yi={key:0,class:"mdc-data-table__header-cell"},$i={class:"mdc-data-table__cell"},er={class:"mdc-data-table__cell"},tr={class:"mdc-data-table__cell"},ar={class:"mdc-data-table__cell"},or={class:"mdc-data-table__cell"},nr=["src"],lr=["src","alt"],ir={key:0,class:"mdc-data-table__cell"},rr={key:2,class:"d-flex justify-content-center py-3 table_compdata"},cr={key:0,class:"mdc-data-table__table"},sr={class:"mdc-data-table__cell"},ur={class:"mdc-data-table__cell"},dr={class:"mdc-data-table__cell"},_r={class:"mdc-data-table__cell"},mr=["onClick"],vr={class:"mdc-data-table__cell"},pr=["onClick","src"],Er=["src","alt"],Ar={key:0,class:"mdc-data-table__cell"},fr={key:1,class:"mdc-data-table__cell"},gr=["onClick"];function hr(e,t,a,n,l,i){const r=(0,o.resolveComponent)("router-link");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createElementVNode)("section",Oi,[(0,o.createElementVNode)("div",wi,[(0,o.createElementVNode)("div",Ri,[(0,o.createElementVNode)("div",Ii,[(0,o.createElementVNode)("div",Li,[(0,o.createVNode)(r,{to:{name:"Menu"}},{default:(0,o.withCtx)((()=>t[6]||(t[6]=[(0,o.createElementVNode)("img",{src:ce,alt:"back-arrow"},null,-1)]))),_:1})])])])])]),(0,o.createElementVNode)("div",Ui,[(0,o.createElementVNode)("div",Ti,[(0,o.createElementVNode)("div",Si,[e.route?.params?.slug?((0,o.openBlock)(),(0,o.createElementBlock)("h3",Ki,"Liste Participants")):((0,o.openBlock)(),(0,o.createElementBlock)("h3",Wi,"Lista de Entreprise "))])]),n.urlParamsval?((0,o.openBlock)(),(0,o.createElementBlock)("div",qi,[n.filteredCompanyList.length?((0,o.openBlock)(),(0,o.createElementBlock)("div",xi,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(n.filteredCompanyList,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:e.id},[(0,o.createElementVNode)("section",Qi,[(0,o.createElementVNode)("div",Fi,[(0,o.createElementVNode)("section",zi,[(0,o.createElementVNode)("div",Ji,[(0,o.createElementVNode)("div",ji,[(0,o.createElementVNode)("form",{onSubmit:t[3]||(t[3]=(0,o.withModifiers)((e=>n.submitForm()),["prevent"])),enctype:"multipart/form-data"},[(0,o.createElementVNode)("div",null,[t[7]||(t[7]=(0,o.createElementVNode)("label",{for:"logo"},"Logo",-1)),t[8]||(t[8]=(0,o.createElementVNode)("br",null,null,-1)),(0,o.createElementVNode)("input",{type:"file",id:"logo",onChange:t[0]||(t[0]=(...e)=>n.handleFileUpload&&n.handleFileUpload(...e))},null,32),t[9]||(t[9]=(0,o.createElementVNode)("br",null,null,-1))]),(0,o.createElementVNode)("div",null,[t[10]||(t[10]=(0,o.createElementVNode)("label",{for:"name"},"Nom",-1)),t[11]||(t[11]=(0,o.createElementVNode)("br",null,null,-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"name","onUpdate:modelValue":t[1]||(t[1]=e=>n.formData.name=e),required:""},null,512),[[o.vModelText,n.formData.name]]),t[12]||(t[12]=(0,o.createElementVNode)("br",null,null,-1))]),(0,o.createElementVNode)("div",null,[t[13]||(t[13]=(0,o.createElementVNode)("label",{for:"description"},"Description",-1)),t[14]||(t[14]=(0,o.createElementVNode)("br",null,null,-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"description","onUpdate:modelValue":t[2]||(t[2]=e=>n.formData.description=e),required:""},null,512),[[o.vModelText,n.formData.description]]),t[15]||(t[15]=(0,o.createElementVNode)("br",null,null,-1))]),t[16]||(t[16]=(0,o.createElementVNode)("div",{class:"submit-button"},[(0,o.createElementVNode)("input",{type:"submit",value:"Soumettre"})],-1))],32)])])])])])])))),128))])):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0),n.company?((0,o.openBlock)(),(0,o.createElementBlock)("div",Gi,[(0,o.createElementVNode)("div",Hi,[(0,o.createElementVNode)("table",Xi,[(0,o.createElementVNode)("thead",null,[(0,o.createElementVNode)("tr",Zi,[t[17]||(t[17]=(0,o.createElementVNode)("th",{class:"mdc-data-table__header-cell"},"ID",-1)),t[18]||(t[18]=(0,o.createElementVNode)("th",{class:"mdc-data-table__header-cell"},"Nom de l'entreprise",-1)),t[19]||(t[19]=(0,o.createElementVNode)("th",{class:"mdc-data-table__header-cell"},"Limace",-1)),t[20]||(t[20]=(0,o.createElementVNode)("th",{class:"mdc-data-table__header-cell"},"Lien",-1)),t[21]||(t[21]=(0,o.createElementVNode)("th",{class:"mdc-data-table__header-cell"},"QRCode",-1)),t[22]||(t[22]=(0,o.createElementVNode)("th",{class:"mdc-data-table__header-cell"},"Logo",-1)),t[23]||(t[23]=(0,o.createElementVNode)("th",{class:"mdc-data-table__header-cell"},"Employees",-1)),n.userStore.isSuperAdmin(n.currentRole)||n.userStore.isSecureCheck(n.currentRole)?((0,o.openBlock)(),(0,o.createElementBlock)("th",Yi," Edit ")):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("tbody",null,[((0,o.openBlock)(),(0,o.createElementBlock)("tr",{key:n.company.id,class:"mdc-data-table__row"},[(0,o.createElementVNode)("td",$i,(0,o.toDisplayString)(n.company.id),1),(0,o.createElementVNode)("td",er,(0,o.toDisplayString)(n.company.name),1),(0,o.createElementVNode)("td",tr,(0,o.toDisplayString)(n.company.slug),1),(0,o.createElementVNode)("td",ar,[(0,o.createElementVNode)("i",{class:"material-icons",onClick:t[4]||(t[4]=e=>n.copyContent(n.company.slug)),role:"button"}," content_copy ")]),(0,o.createElementVNode)("td",or,[(0,o.createElementVNode)("img",{role:"button",onClick:t[5]||(t[5]=e=>n.showCompanyQR(n.company?.slug)),width:"100px",height:"100px",src:`${n.publicDir}/qrcode-company/qrcode-${n.company?.slug}.png`,alt:"No img"},null,8,nr)]),(0,o.createElementVNode)("td",null,[(0,o.createElementVNode)("img",{src:`${n.publicDir}/logo/${n.company?.logo}`,height:"75",width:"75",style:{"margin-top":"20px","margin-bottom":"20px"},alt:n.company.logo},null,8,lr)]),(0,o.createElementVNode)("td",null,[(0,o.createVNode)(r,{to:{name:"EmployeeListView",params:{slug:n.company.slug}}},{default:(0,o.withCtx)((()=>t[24]||(t[24]=[(0,o.createTextVNode)("View")]))),_:1},8,["to"])]),n.userStore.isSuperAdmin(n.currentRole)||n.userStore.isSecureCheck(n.currentRole)?((0,o.openBlock)(),(0,o.createElementBlock)("td",ir,[(0,o.createVNode)(r,{to:{name:"EditCreateCompany",params:{company_edit:n.company.id}}},{default:(0,o.withCtx)((()=>t[25]||(t[25]=[(0,o.createTextVNode)("Edit")]))),_:1},8,["to"])])):(0,o.createCommentVNode)("",!0)]))])])])])):((0,o.openBlock)(),(0,o.createElementBlock)("div",rr,[n.companyList.length?((0,o.openBlock)(),(0,o.createElementBlock)("table",cr,[t[29]||(t[29]=(0,o.createElementVNode)("thead",null,[(0,o.createElementVNode)("tr",{class:"mdc-data-table__header-row"},[(0,o.createElementVNode)("th",{class:"mdc-data-table__header-cell"},"ID"),(0,o.createElementVNode)("th",{class:"mdc-data-table__header-cell"},"Nom de l'entreprise"),(0,o.createElementVNode)("th",{class:"mdc-data-table__header-cell"},"Limace"),(0,o.createElementVNode)("th",{class:"mdc-data-table__header-cell"},"Lien"),(0,o.createElementVNode)("th",{class:"mdc-data-table__header-cell"},"QRCode"),(0,o.createElementVNode)("th",{class:"mdc-data-table__header-cell"},"Logo"),(0,o.createElementVNode)("th",{class:"mdc-data-table__header-cell"},"Employees"),(0,o.createElementVNode)("th",{class:"mdc-data-table__header-cell"},"Edit"),(0,o.createElementVNode)("th",{class:"mdc-data-table__header-cell"},"Delete")])],-1)),(0,o.createElementVNode)("tbody",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(n.companyList,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("tr",{key:e.id,class:"mdc-data-table__row"},[(0,o.createElementVNode)("td",sr,(0,o.toDisplayString)(e.id),1),(0,o.createElementVNode)("td",ur,(0,o.toDisplayString)(e.name),1),(0,o.createElementVNode)("td",dr,(0,o.toDisplayString)(e.slug),1),(0,o.createElementVNode)("td",_r,[(0,o.createElementVNode)("i",{class:"material-icons",onClick:t=>n.copyContent(e.slug),role:"button"}," content_copy ",8,mr)]),(0,o.createElementVNode)("td",vr,[(0,o.createElementVNode)("img",{role:"button",onClick:t=>n.showCompanyQR(e?.slug),width:"100px",height:"100px",src:`${n.publicDir}/qrcode-company/qrcode-${e.slug}.png`,alt:"No img"},null,8,pr)]),(0,o.createElementVNode)("td",null,[(0,o.createElementVNode)("img",{src:`${n.publicDir}/logo/${e?.logo}`,height:"75",width:"75",style:{"margin-top":"20px","margin-bottom":"20px"},alt:e.logo},null,8,Er)]),(0,o.createElementVNode)("td",null,[(0,o.createVNode)(r,{to:{name:"EmployeeListView",params:{slug:e.slug}}},{default:(0,o.withCtx)((()=>t[26]||(t[26]=[(0,o.createTextVNode)("View")]))),_:2},1032,["to"])]),n.userStore.isSuperAdmin(n.currentRole)||n.userStore.isAdmin(n.currentRole)||n.userStore.isSecureCheck(n.currentRole)?((0,o.openBlock)(),(0,o.createElementBlock)("td",Ar,[(0,o.createVNode)(r,{to:{name:"EditCreateCompany",params:{company_edit:e.id}}},{default:(0,o.withCtx)((()=>t[27]||(t[27]=[(0,o.createTextVNode)("Edit")]))),_:2},1032,["to"])])):(0,o.createCommentVNode)("",!0),n.userStore.isAdmin(n.currentRole)?((0,o.openBlock)(),(0,o.createElementBlock)("td",fr,[(0,o.createElementVNode)("button",{onClick:t=>n.handleDelete(e.id,e.name),class:"btn"},t[28]||(t[28]=[(0,o.createElementVNode)("img",{src:Uo,alt:"delete",width:"30",height:"30"},null,-1)]),8,gr)])):(0,o.createCommentVNode)("",!0)])))),128))])])):(0,o.createCommentVNode)("",!0)]))])],64)}var Cr={async fetchData(){try{const e=await S.A.get("/companylist");return console.log("i am here",e.data),e.data}catch(e){throw console.error("Error fetching visitor code data:",e),new Error("Failed to fetch visitor code data.")}},anotherServiceMethod(e){return`Processed ${e}`}},yr={name:"CompanyListView",setup(){const e=(0,n.rd)(),t=(0,n.lq)(),a=(0,o.ref)(t?.params?.domain||"scb"),l=(0,o.ref)([]),r=(0,o.ref)(""),u=(0,o.ref)(""),d=(0,o.ref)(null),{publicDir:_}=c(),m=(0,s.k)(),v=(0,o.ref)(JSON.parse(localStorage.getItem("userInfo"))||{}),p=(0,o.ref)(v?.value?.roles?v.value.roles[0]:""),{showCompany:E,company:A,deleteCompany:f}=(0,i.R)();console.log("roles",v),console.log("currentRole",p);const g=(0,o.ref)({id:"",name:"",description:""}),h=(0,o.ref)(null),C=async()=>{try{const e=await Cr.fetchData();console.log("Fetched Response:",e),l.value=e.data,r.value="Data fetched successfully!";const t=window.location.href,a=new URLSearchParams(new URL(t).search);a.has("compid")&&(u.value=a.get("compid"))}catch(e){d.value="Failed to fetch data.",console.error(e)}},y=(0,o.computed)((()=>l.value.filter((e=>e.id==u.value)))),V=t=>{e.push({name:"ShowCompanyQRcode",params:{domain:a.value,slug:t}})},N=e=>{const t=(0,o.ref)(!1),a={NODE_ENV:"production",VUE_APP_API_URL:"https://www.securecheck.info/api/public/index.php/api",BASE_URL:"/"}.FRONT_URL??window.location.host,n=`https://${a}/${e}`;navigator.clipboard.writeText(n).then((()=>{t.value=!0,W.oR.info("Texte Copié"),setTimeout((()=>{t.value=!1}),2e3)})).catch((e=>{console.error("Échec de la copie : ",e)}))},D=()=>{e.push({name:"Menu",params:{domain:a.value}})},k=e=>{h.value=e.target.files[0],console.log("Selected file:",h.value)},M=(0,o.computed)({get:()=>g.value.name,set:e=>{g.value.name=e;const t=y.value[0];t&&(t.name=e)}}),b=(0,o.computed)({get:()=>g.value.description,set:e=>{g.value.description=e;const t=y.value[0];t&&(t.description=e)}}),B=async()=>{try{if(!u.value)return void console.error("ID is required for updating the record.");console.log("Form data being sent:",g.value),console.log("File being sent:",h.value);const e=new FormData;e.append("name",g.value.name),e.append("description",g.value.description),e.append("slug",y.value[0]?.slug||"default-slug"),h.value&&e.append("logo",h.value);for(const a of e.entries())console.log(`${a[0]}: ${a[1]}`);const t=await S.A.put(`/company/${u.value}`,e,{headers:{}});console.log("Form submitted successfully:",t.data),r.value="Form submitted successfully!"}catch(e){d.value="Failed to submit form.",console.error("Error submitting form:",e.response?e.response.data:e)}},P=async(e,t)=>{const a=confirm(`Are you sure you want to delete ${t}?`);a&&(await W.oR.promise(f(e),{pending:`Deleting ${t}...`,success:`User ${t} deleted successfully!`,error:`Failed to delete ${t}.`},{position:W.oR.POSITION.TOP_CENTER,autoClose:3e3,closeButton:!0}),await C())};return(0,o.onMounted)((async()=>{C()})),(0,o.onBeforeMount)((async()=>{m.isSupervisor(p?.value)&&await E(v?.value?.company)})),{domain:a,companyList:l,urlParamsval:u,message:r,error:d,goToMenu:D,publicDir:_,copyContent:N,showCompanyQR:V,filteredCompanyList:y,formData:g,file:h,handleFileUpload:k,submitForm:B,syncedName:M,syncedDescription:b,userStore:m,currentRole:p,showCompany:E,company:A,handleDelete:P}}};const Vr=(0,M.A)(yr,[["render",hr]]);var Nr=Vr;const Dr={class:"secure-datatable-heading-back"},kr={class:"container"},Mr={class:"row align-items-center"},br={class:"col col-12 col-md-12 col-sm-12"},Br={class:"left-back"},Pr={class:"event_container"},Or={class:"container"},wr={class:"d-flex justify-content-center align-items-center"},Rr={class:"d-flex justify-content-start mb-4 gap-3 align-items-center"},Ir={key:0,class:"mt-3"},Lr={key:1,class:"mt-3"},Ur={class:"text-center"},Tr={key:0},Sr={class:"d-flex justify-content-center py-3"},Kr={key:0,class:"table table-striped"},Wr=["src","alt","onClick"],qr={key:1},xr=["src"];function Qr(e,t,a,n,l,i){const r=(0,o.resolveComponent)("router-link");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createElementVNode)("section",Dr,[(0,o.createElementVNode)("div",kr,[(0,o.createElementVNode)("div",Mr,[(0,o.createElementVNode)("div",br,[(0,o.createElementVNode)("div",Br,[(0,o.createVNode)(r,{to:{name:"Menu"}},{default:(0,o.withCtx)((()=>t[3]||(t[3]=[(0,o.createElementVNode)("img",{src:ce,alt:"back-arrow"},null,-1)]))),_:1})])])])])]),(0,o.createElementVNode)("div",Pr,[(0,o.createElementVNode)("div",Or,[(0,o.createElementVNode)("div",wr,[(0,o.createElementVNode)("div",Rr,[e.route?.params?.slug?((0,o.openBlock)(),(0,o.createElementBlock)("h3",Ir,"Liste Participants")):((0,o.openBlock)(),(0,o.createElementBlock)("h3",Lr,"Lista de event attendence"))])]),(0,o.createElementVNode)("div",Ur,[e.route?.params?.slug?((0,o.openBlock)(),(0,o.createElementBlock)("h4",Tr,"Evenements : "+(0,o.toDisplayString)(e.event?.name),1)):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",Sr,[n.eventAttendence.length?((0,o.openBlock)(),(0,o.createElementBlock)("table",Kr,[t[4]||(t[4]=(0,o.createElementVNode)("thead",null,[(0,o.createElementVNode)("tr",null,[(0,o.createElementVNode)("th",null,"Visitor Id"),(0,o.createElementVNode)("th",null,"Visitor Name"),(0,o.createElementVNode)("th",null,"Email"),(0,o.createElementVNode)("th",null,"Image"),(0,o.createElementVNode)("th",null,"Visitor Address"),(0,o.createElementVNode)("th",null,"Event Name"),(0,o.createElementVNode)("th",null,"Event Location"),(0,o.createElementVNode)("th",null,"Event Created At")])],-1)),(0,o.createElementVNode)("tbody",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(n.eventAttendence,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("tr",{key:e.id},[(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(t+1),1),(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(e.firstname),1),(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(e.email),1),(0,o.createElementVNode)("td",null,[(0,o.createElementVNode)("img",{src:`${n.publicDir}/request_image/${e.request_image||"default.png"}`,alt:e.request_image?"Visitor Image":"No Image",height:"75",width:"75",class:"clickable-image",onClick:t=>n.openImageModal(`${n.publicDir}/request_image/${e.request_image}`)},null,8,Wr)]),(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(e.address),1),(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(e.eventName),1),(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(e.eventLocation),1),(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(e.eventCreatedAt),1)])))),128))])])):((0,o.openBlock)(),(0,o.createElementBlock)("p",qr,"No data available."))])]),n.selectedImage?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"modal-overlay",onClick:t[2]||(t[2]=(...e)=>n.closeImageModal&&n.closeImageModal(...e))},[(0,o.createElementVNode)("button",{class:"close-button",onClick:t[0]||(t[0]=(...e)=>n.closeImageModal&&n.closeImageModal(...e))},"×"),(0,o.createElementVNode)("div",{class:"modal-content",onClick:t[1]||(t[1]=(0,o.withModifiers)((()=>{}),["stop"]))},[(0,o.createElementVNode)("img",{src:n.selectedImage,alt:"Full Image",class:"full-image"},null,8,xr)])])):(0,o.createCommentVNode)("",!0)])],64)}a(670);var Fr={async fetchData(){try{const e=await S.A.get("/eventattendencelist");return e.data}catch(e){throw console.error("Error fetching visitor code data:",e),new Error("Failed to fetch visitor code data.")}},async fetchVisitorLogCompanyEvent(e){try{const t=await S.A.get(`/event/visitorLog/${e}`);return console.log("hello"),console.log({response:t.data}),t.data}catch(t){throw console.error("Error fetching requests by company:",t),new Error(t.response?t.response.data:"Error fetching data")}},anotherServiceMethod(e){return`Processed ${e}`}},zr={name:"DisplayEventAttendence",setup(){const e=(0,n.rd)(),t=(0,n.lq)(),a=(0,o.ref)(t?.params?.domain||"scb"),l=(0,o.ref)([]),i=(0,o.ref)(""),r=(0,o.ref)(null),s=(0,o.ref)(JSON.parse(localStorage.getItem("userInfo"))||{}),u=(0,o.ref)(s.value?.roles||[]),d=(0,o.ref)(u.value.includes("ROLE_ADMIN"));console.log("Current User Role:",u.value),console.log("Is Admin:",d.value);const{publicDir:_}=c(),m=async()=>{try{let e=await Fr.fetchData();console.log("Fetched Response:",e);const t=e.flatMap((e=>e.visitors.map((t=>({...t,eventName:e.event.name,eventLocation:e.event.location,eventCreatedAt:e.event.created_at})))));d.value?l.value=t:(e=await Fr.fetchVisitorLogCompanyEvent(a.value),console.log("Fetched Company Event Data:",e),l.value=e.flatMap((e=>e.visitors.map((t=>({...t,eventName:e.event.name,eventLocation:e.event.location,eventCreatedAt:e.event.created_at})))))),i.value="Data fetched successfully!"}catch(e){r.value="Failed to fetch data.",console.error(e)}},v=()=>{e.push({name:"Menu",params:{domain:a.value}})};(0,o.onMounted)((()=>{m()}));const p=(0,o.ref)(null),E=e=>{p.value=e},A=()=>{p.value=null};return{domain:a,eventAttendence:l,message:i,error:r,goToMenu:v,isAdmin:d,publicDir:_,openImageModal:E,closeImageModal:A,selectedImage:p}}};const Jr=(0,M.A)(zr,[["render",Qr],["__scopeId","data-v-3a75c570"]]);var jr=Jr;const Gr={class:"scanner-area scanner-area-new"},Hr={class:"container"},Xr={class:"row align-items-center"},Zr={class:"col col-12 col-md-12 col-sm-12"},Yr={class:"left-back"},$r={class:"container"},ec={"data-v-3f0f1f51":"",class:"row align-items-center"},tc={"data-v-3f0f1f51":"",class:"col col-12 col-md-12 col-sm-12 scanner-bg-black"},ac={"data-v-3f0f1f51":"",class:"popup-logo"},oc={class:"scanner-left mb-4"},nc=["src","alt"],lc={"data-v-3f0f1f51":""},ic={"data-v-3f0f1f51":"",class:"event-title"},rc={"data-v-3f0f1f51":""},cc={"data-v-3f0f1f51":"",class:"event-title"},sc={"data-v-3f0f1f51":""},uc={"data-v-3f0f1f51":"",class:"event-title"},dc={"data-v-3f0f1f51":"",href:"/diner-aka",class:""},_c=["src"];function mc(e,t,a,n,l,i){const r=(0,o.resolveComponent)("router-link");return(0,o.openBlock)(),(0,o.createElementBlock)("section",Gr,[(0,o.createElementVNode)("div",Hr,[(0,o.createElementVNode)("div",Xr,[(0,o.createElementVNode)("div",Zr,[(0,o.createElementVNode)("div",Yr,[(0,o.createVNode)(r,{to:{name:"Menu"}},{default:(0,o.withCtx)((()=>t[1]||(t[1]=[(0,o.createElementVNode)("img",{src:ce,alt:"back-arrow"},null,-1)]))),_:1})])])])]),(0,o.createElementVNode)("div",$r,[(0,o.createElementVNode)("div",ec,[(0,o.createElementVNode)("div",tc,[(0,o.createElementVNode)("div",ac,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(n.companyList,((e,a)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"scanner-texts",key:a},[(0,o.createElementVNode)("div",oc,[(0,o.createVNode)(r,{to:{name:"RequestMeeting",params:{domain:n.domain}}},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("img",{class:"logo logo12333",src:`${n.publicDir}/logo/${e?.logo}`,alt:e?.logo},null,8,nc)])),_:2},1032,["to"])]),(0,o.createElementVNode)("div",lc,[t[2]||(t[2]=(0,o.createElementVNode)("b",{"data-v-3f0f1f51":""}," Nom de l'entreprise",-1)),(0,o.createElementVNode)("h3",ic,(0,o.toDisplayString)(e.name),1)]),(0,o.createElementVNode)("div",rc,[t[3]||(t[3]=(0,o.createElementVNode)("b",{"data-v-3f0f1f51":""}," Limace ",-1)),(0,o.createElementVNode)("h3",cc,(0,o.toDisplayString)(e.slug),1)]),(0,o.createElementVNode)("div",sc,[t[4]||(t[4]=(0,o.createElementVNode)("b",{"data-v-3f0f1f51":""}," Lien ",-1)),(0,o.createElementVNode)("h3",uc," https://www.securecheck.info/"+(0,o.toDisplayString)(e.slug),1)])])))),128)),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(n.companyList,((a,l)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"scanner-image",key:l},[(0,o.createElementVNode)("a",dc,[(0,o.createElementVNode)("img",{role:"button",onClick:t[0]||(t[0]=t=>n.showCompanyQR(e.log?.slug)),src:`${n.publicDir}/qrcode-company/qrcode-${a.slug}.png`,alt:"No img"},null,8,_c)])])))),128))])])])])])}var vc={async fetchData(){try{const e=window.location.href,t=e.split("/").pop(),a=await S.A.get("/singlecompanylist?url="+t);return console.log("i am here",a.data),a.data}catch(e){throw console.error("Error fetching visitor code data:",e),new Error("Failed to fetch visitor code data.")}},anotherServiceMethod(e){return`Processed ${e}`}},pc={name:"ShowCompanyQRcode",setup(){const e=(0,n.rd)(),t=(0,n.lq)(),a=(0,o.ref)(t?.params?.domain||"scb"),l=(0,o.ref)([]),i=(0,o.ref)(""),r=(0,o.ref)(null),{publicDir:s}=c(),u=async()=>{try{const e=await vc.fetchData();if(console.log("Fetched Response:",e.data),!e.data||!e.data.id)throw new Error("Expected data not found");l.value=[e.data],console.log("companyList:",l.value),i.value="Data fetched successfully!"}catch(e){r.value="Failed to fetch data.",console.error(e)}},d=t=>{console.log({domain:a.value,slug:t}),e.push({name:"ShowCompanyQRcode",params:{domain:a.value,slug:t}})},_=e=>{const t=(0,o.ref)(!1),a={NODE_ENV:"production",VUE_APP_API_URL:"https://www.securecheck.info/api/public/index.php/api",BASE_URL:"/"}.FRONT_URL??window.location.host,n=`${a}/${e}`;navigator.clipboard.writeText(n).then((()=>{t.value=!0,W.oR.info("Texte Copié"),setTimeout((()=>{t.value=!1}),2e3)})).catch((e=>{console.error("Échec de la copie : ",e)}))},m=()=>{e.push({name:"Menu",params:{domain:a.value}})};return(0,o.onMounted)((()=>{u()})),{domain:a,companyList:l,message:i,error:r,goToMenu:m,publicDir:s,copyContent:_,showCompanyQR:d}}};const Ec=(0,M.A)(pc,[["render",mc]]);var Ac=Ec;const fc={class:"secure-datatable-heading-back"},gc={class:"container"},hc={class:"row align-items-center"},Cc={class:"col col-12 col-md-12 col-sm-12"},yc={class:"left-back"},Vc={class:"container"},Nc={class:"d-flex justify-content-center align-items-center mb-4"},Dc={class:"mt-3"},kc={key:0},Mc={class:"mdc-data-table__table"},bc={class:"mdc-data-table__cell"},Bc={class:"mdc-data-table__cell"},Pc={class:"mdc-data-table__cell"},Oc={class:"mdc-data-table__cell"},wc={key:1};function Rc(e,t,a,n,l,i){return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createElementVNode)("section",fc,[(0,o.createElementVNode)("div",gc,[(0,o.createElementVNode)("div",hc,[(0,o.createElementVNode)("div",Cc,[(0,o.createElementVNode)("div",yc,[(0,o.createElementVNode)("button",{class:"employee_back",onClick:t[0]||(t[0]=e=>n.goBack())},t[1]||(t[1]=[(0,o.createElementVNode)("img",{src:ce,alt:"back-arrow"},null,-1)]))])])])])]),(0,o.createElementVNode)("div",Vc,[(0,o.createElementVNode)("div",Nc,[(0,o.createElementVNode)("h3",Dc,(0,o.toDisplayString)(n.company.name)+" Employee List",1)]),n.employeeList.length?((0,o.openBlock)(),(0,o.createElementBlock)("div",kc,[(0,o.createElementVNode)("table",Mc,[t[2]||(t[2]=(0,o.createElementVNode)("thead",null,[(0,o.createElementVNode)("tr",{class:"mdc-data-table__header-row"},[(0,o.createElementVNode)("th",{class:"mdc-data-table__header-cell"},"ID"),(0,o.createElementVNode)("th",{class:"mdc-data-table__header-cell"},"Name"),(0,o.createElementVNode)("th",{class:"mdc-data-table__header-cell"},"Role"),(0,o.createElementVNode)("th",{class:"mdc-data-table__header-cell"},"Email")])],-1)),(0,o.createElementVNode)("tbody",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(n.employeeList,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("tr",{key:e.id,class:"mdc-data-table__row"},[(0,o.createElementVNode)("td",bc,(0,o.toDisplayString)(e.id),1),(0,o.createElementVNode)("td",Bc,(0,o.toDisplayString)(e.name),1),(0,o.createElementVNode)("td",Pc,(0,o.toDisplayString)(n.formatRole(e.role)),1),(0,o.createElementVNode)("td",Oc,(0,o.toDisplayString)(e.email),1)])))),128))])])])):((0,o.openBlock)(),(0,o.createElementBlock)("div",wc,t[3]||(t[3]=[(0,o.createElementVNode)("p",null,"No employees found for this company.",-1)])))])],64)}var Ic={name:"EmployeeListView",setup(){const e=(0,n.lq)(),t=(0,n.rd)(),a=e.params.slug,l=(0,o.ref)({}),i=(0,o.ref)([]),r=e=>Array.isArray(e)&&e.length?e[0].replace("ROLE_","").toLowerCase().replace(/\b\w/g,(e=>e.toUpperCase())):"No Role Assigned",c=async()=>{try{const e=await S.A.get(`/company/${a}`);l.value=e.data;const t=await S.A.get(`/user/list/${a}`);i.value=t.data,console.log("employeeList",i)}catch(e){console.error("Error fetching employees:",e)}},s=()=>{t.go(-1)};return(0,o.onMounted)((()=>{c()})),{company:l,employeeList:i,formatRole:r,goBack:s}}};const Lc=(0,M.A)(Ic,[["render",Rc],["__scopeId","data-v-fc2fa73e"]]);var Uc=Lc;const Tc={class:"background-gradi request-meeting qr_thanks"},Sc={class:"container"},Kc={class:"row align-items-center"},Wc={class:"col col-12 col-md-12 col-sm-12"},qc={class:"popup-logo text-center"},xc=["alt"],Qc={class:"text-center py-3"},Fc=["src"];var zc={__name:"SuccessUserCheckinView",setup(e){const{publicDir:t}=c(),a=(0,n.lq)(),l=(0,o.ref)(""),i=(0,o.ref)(null),r=(0,o.ref)([]),u=a.params.uidn,d=(0,s.k)(),_=(0,o.ref)(a.params.domain||"scb"),m=(0,n.rd)(),v=()=>{m.push({name:"Menu",params:{domain:_.value,id:a.params.id}})},p=d.isAuthenticated(),E=async()=>{try{let e;e=await Fn.fetchUserCheckInData(u),console.log("Fetched All Visitor Logs:",e.image),r.value=e,l.value="Data fetched successfully!"}catch(e){i.value="Failed to fetch data.",console.error(e)}};return(0,o.onMounted)((()=>{E()})),(e,a)=>{const n=(0,o.resolveComponent)("router-link");return(0,o.openBlock)(),(0,o.createElementBlock)("section",Tc,[(0,o.createElementVNode)("div",Sc,[(0,o.createElementVNode)("div",Kc,[(0,o.createElementVNode)("div",Wc,[(0,o.createElementVNode)("div",qc,[(0,o.createVNode)(n,{to:"/"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("img",{src:Qn,class:"success-icon",alt:`${(0,o.unref)(t)}/qrcode-user/qrcode-${(0,o.unref)(u)}.png`},null,8,xc)])),_:1}),(0,o.createElementVNode)("div",Qc,[r.value.image?((0,o.openBlock)(),(0,o.createElementBlock)("img",{key:0,src:`${(0,o.unref)(t)}/user_document/${r.value.image}`,class:"visitor-image",alt:"user Check-in Image"},null,8,Fc)):(0,o.createCommentVNode)("",!0),a[0]||(a[0]=(0,o.createElementVNode)("h2",null,"🎉 Thank you for your visit!",-1)),a[1]||(a[1]=(0,o.createElementVNode)("p",{class:"thank-you-message"}," Your check-in has been successfully recorded ",-1)),(0,o.unref)(p)?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:1,class:"btn-back",onClick:v}," Return to Home ")):(0,o.createCommentVNode)("",!0)])])])])])])}}};const Jc=(0,M.A)(zc,[["__scopeId","data-v-d379c10c"]]);var jc=Jc;const Gc={class:"background-gradi request-meeting qr_thanks"},Hc={class:"container"},Xc={class:"row align-items-center"},Zc={class:"col col-12 col-md-12 col-sm-12"},Yc={class:"popup-logo text-center"},$c=["alt"],es={class:"text-center py-3"},ts=["src"];var as={__name:"SuccessUserCheckoutView",setup(e){const{publicDir:t}=c(),a=(0,n.lq)(),l=(0,o.ref)(""),i=(0,o.ref)(null),r=(0,o.ref)([]),u=a.params.uidn,d=(0,s.k)(),_=(0,o.ref)(a.params.domain||"scb"),m=(0,n.rd)(),v=()=>{m.push({name:"Menu",params:{domain:_.value,id:a.params.id}})},p=d.isAuthenticated(),E=async()=>{try{let e;e=await Fn.fetchUserCheckInData(u),console.log("Fetched All Visitor Logs:",e.image),r.value=e,l.value="Data fetched successfully!"}catch(e){i.value="Failed to fetch data.",console.error(e)}};return(0,o.onMounted)((()=>{E()})),(e,a)=>{const n=(0,o.resolveComponent)("router-link");return(0,o.openBlock)(),(0,o.createElementBlock)("section",Gc,[(0,o.createElementVNode)("div",Hc,[(0,o.createElementVNode)("div",Xc,[(0,o.createElementVNode)("div",Zc,[(0,o.createElementVNode)("div",Yc,[(0,o.createVNode)(n,{to:"/"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("img",{src:Qn,class:"success-icon",alt:`${(0,o.unref)(t)}/qrcode-user/qrcode-${(0,o.unref)(u)}.png`},null,8,$c)])),_:1}),(0,o.createElementVNode)("div",es,[r.value.image?((0,o.openBlock)(),(0,o.createElementBlock)("img",{key:0,src:`${(0,o.unref)(t)}/user_document/${r.value.image}`,class:"visitor-image",alt:"user Check-in Image"},null,8,ts)):(0,o.createCommentVNode)("",!0),a[0]||(a[0]=(0,o.createElementVNode)("h2",null,"🎉 Thank you for your visit!",-1)),a[1]||(a[1]=(0,o.createElementVNode)("p",{class:"thank-you-message"}," Your check-out has been successfully recorded. ",-1)),(0,o.unref)(p)?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:1,class:"btn-back",onClick:v}," Return to Home ")):(0,o.createCommentVNode)("",!0)])])])])])])}}};const os=(0,M.A)(as,[["__scopeId","data-v-30a6bae6"]]);var ns=os,ls="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAABP5SURBVHic7d1NqGR3mcfx379NbFAbEsi7GzNJaMedybixEybdiiGDGGWCioxhEJfiRnBlFJPoyKAbyehGBB0dSFAcgxgSmLyQZDaZ7uxiGpMxG/PSCURoFTph+j+Lqu7cvn373qpbL6eqn88HLtjJvVWPBbnPt8+pOqf13sP8tNZW+gXtvbehZwBWk99ftewZegAAYPkEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKar33oWeYWWttb5Lrkuzf8HV5kn1bfL1zoDEBWG1vJjm+xderSY5u+Pp97/3EUEPOy1oGQGvt/UkOJjmU5Pok74ujGQAsx8kkLyY5kuTRJI/03p8bdKJdWIsAaK1dkuS2jBb+wSRXDjsRAJzh5YxjIMmve++vDzzPjlY2AMaH9T+e5I4ktya5cNiJAGAibyV5MMlPk/xmVU8XrFwAtNZuSPLFJJ9JcvHA4wDALN5Icl+SH/XeDw89zEYrEwCttRuTfC3JLUPPAgAL8FCSe3rvTw49SLICAdBa+0iSO5P8/aCDAMByPJ7k7t77fw05xGAB0Fq7Psn3kxwYZAAAGNZTSb7cez8yxJMv/aNzrbWLWmv3Jnk6lj8AdR1I8nRr7d7W2kXLfvKlHQForbWM3tH/r0kuW8qTAsB6OJbkq0l+2pe0mJcSAK219yb5WZKbF/5kALC+HkvyT733Py76iRZ+CqC1dkuSZ2L5A8BObk7yzHh3LtTCAqC19o7W2rcyuhjCpYt6HgA4z1ya5MHW2rdba+9Y1JMs5BRAa+2KJPcnuWnuDw4AdTyR5NO991fm/cBzD4DW2rVJHk5y9VwfGABq+kOSj/Xen5/ng871FMD4s/1PxfIHgHm5OslT4x07N3MLgNbaoYzevegjfgAwX5cleWy8a+diLgHQWvtkkt8m2TePxwMAzrIvyW/HO3dmM78HYFwjv02ydx4DAQDbOpHkH3rvj8zyIDMFwPh8xGPxN38AWKbjSW6e5T4Cuw6A8bv9n4pz/gAwhGNJDuz20wG7eg/A+HP+D8fyB4ChXJbk4fFOntrUATC+KtH98VE/ABja1Unu380VA3dzBODuuMIfAKyKmzLazVOZ6j0A45sTPJikTftEAMDC9CS39t4fmvQHJg6A8S19n4kb+wDAKnotyQcnvZXwRKcAWmstyc9i+QPAqro0yc/GO3tHk74H4I6M7lEMAKyumzPa2Tva8RRAa+2iJEfjI38AsA6OJdnfe//Tdt80yRGAe2L5A8C6uCyj3b2tbY8AjC/1+3TmfNtgAGChTib50HaXCt5psX9/gu8BAFbLnox2+LbfsKXW2keSHJj3RADAUhwY7/Itbfe3+zsXMAwAsDzn3OVbvgegtXZjkicWOREAsBQ39d6f3PwPz3UE4GsLHgYAWI4td/pZRwBaazck+Z9lTAQALMXf9d4Pb/wHWx0B+OKShgEAluOs3X7GEYDW2t4kLye5eIlDAQCL9UaSK3vvJ079g81HAD4eyx8AzjcXZ7TjT7tg0zdMdAOBNfF8kgeSHE7y0qmv3vufF/mkrbXJ7q88kN77RHeJAuqp/vurtfaeJFdt+LohySeSXLvI512iO5L88tQfTp8CaK1dktGSvHCYuebilST3JvlV7/3ZIQao/h8QsL78/tpaa+0DST6V5EtJrhhihjl5K8lVvffXkzNPAdyW9V3+x5N8I8m1vfdvDbX8ATj/9N6f7b1/K6MjAd/IaOesowsz2vVJzgyAQ8ufZS5+keSa3vtdvfe/DD0MAOen3vtfeu93Jbkmo92zjk7v+o0BcHCAQWZ1d5JP995fG3oQAGoY75xPZ7SD1s3pXd9672mtvT/J7wYcaFonknyh9/4fQw+ymXNowLry+2t6rbXPJflxkr1DzzKFv+29P3fqCMC6Hf5fyeUPQC3jXfSFoeeY0qHk7VMA63T4/27LH4BVMd5J63Q64GDy9imAF5L8zcADTeIXGZ3zX9nDVA6hAevK76/da621JPcnuX3oWSbwv733a1pG5y3+mnPfGXBVHM/o3f4r/YY//wEB68rvr9m01i5N8kKSfUPPsoOTSd61J8l1Wf3lnyTfXfXlD0Bd4x313aHnmMCeJNftSbJ/6Ekm8EqS7w09BADs4HsZ7axVt39dAuBeF/kBYNWNd9W9Q88xgbUJgF8NPQAATGgddtb+PUkuH3qKHTzv2v4ArIvxznp+6Dl2cPmerP67FR8YegAAmNKq76596xAAh4ceAACmtOq7ay0C4KWhBwCAKa367hIAALAAq767BAAALMCq7659LYlLP86RS2kC68rvr/la9ddzHS4BDADMmQAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFHTB0AOcb3rvbegZAHbD769aHAEAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoKCWpA89BACwXI4AAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABV0w9AA76b23oWcAgGm11vrQM2zHEQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAACjogqEHWDettT70DNvpvbehZ9iO1282Xr/ZeP1m4/U7vzgCAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFNSS9KGH2E7vvQ09AwBMq7W20vvVEQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKCgC4YeYN201vrQM2yn996GnmE7Xr/ZeP1m4/Wbjdfv/OIIAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUFBL0oceYju99zb0DAAwrdbaSu9XRwAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCLhh6gHXTWutDz7Cd3nsbeobteP1m4/WbjdcP3uYIAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUFBL0oceYju99zb0DAAwrdbaSu9XRwAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAArak+TNoYfYTmvtPUPPAADTWIPd9eaeJMeHnmIHVw09AABMadV313EBAADzt+q7SwAAwAKs+u5aiwC4YegBAGBKq7671iIAPjH0AAAwpVXfXcf3JHl16Cl2cG1r7QNDDwEAkxjvrGuHnmMHr+5JcnToKSbwqaEHAIAJrcPOOrouAfCl1tq7hx4CALYz3lVfGnqOCaxNAFyR5CtDDwEAO/hKRjtr1R1tSfYm+WtW/7LAx5Nc03t/behBAGCz1tqlSV5Ism/oWXZwMsm79vTeTyR5ceBhJrEvyQ9aa23oQQBgo/Fu+kFWf/knyYu99xOn/tZ/ZNBRJnd7km8OPQQAbPLNjHbUOjiSvH3Y/9EBB5nWna21zw09BAAkyXgn3Tn0HFN4NHk7AB4ZcJDd+LEIAGBo413046HnmNIjyTgAeu/PJXl50HGmszfJz1trd3lPAADL1kbuSvLzjHbSunh5vPPPeOf/Op0GOOXOJPeP33kJAAs33jn3Z70O+59yetdvDIB1Ow1wyu1JXmitfd3FggBYlNbau1trX8/oo37r8oa/zU7v+tZ7H/2P1i5J8lKSCwcaah5eSXJvkl/13p8dehgA1t/42v6fyugKf+twkZ9zeSvJVb3315MNAZAkrbVfZ/XvYDSp55M8kORwRmHzUpKXeu9/HnQqAFZSa+09Sa7a8HVDRjtx1W/sM6kHeu+3nfrD5gD4xyS/GGIqAGChbu+9//LUHzYHwN6MPg1w8QCDAQCL8UaSK8dX/02y6fr/439x37KnAgAW6r6Nyz/Z+gZAP1rSMADAcpy1288KgN774SQPLWUcAGDRHhrv9jOc6xbA9yx4GABgObbc6VsGQO/9ySSPL3QcAGDRHh/v9LOc6whAkty9oGEAgOU45y4/42OAZ/3L1p5McmAREwEAC/VU7/3Gc/3LnQLg+iRPZ/sjBQDAajmZ5EO99yPn+oZtF/v4B38476kAgIX64XbLP9nhCECStNYuSnI0yWVzHAwAWIxjSfb33v+03TfteGh//ABfnddUAMBCfXWn5Z9McAQgSVprLaN7CN88+1wAwII8luRQn2C5TxQASdJae2+SZ5JcOtNoAMAivJbkg733P07yzRO/u3/8gJ9PMlkxAADL0pN8ftLln0z58b7e+0NJvjPtVADAQn1nvKMnNvEpgNM/0No7kjya5KapfhAAWIQnkhzsvf/fND80dQAkSWvtiiT/neTqqX8YAJiXPyT5cO/9lWl/cFdX+Bs/0ccy+qwhALB8x5J8bDfLP5nhEr+99+eT3Jrk+G4fAwDYleNJbh3v4l2Z6Rr/48sMfjLJiVkeBwCY2Ikkn9zpUr87mfkmP733R5J8NiIAABbtRJLPjnfvTHb1JsAtH6i1Q0n+M8m+uTwgALDR8Yz+5j/z8k/mGADJ6dsHPxg3DgKAeTqW0Tn/mQ77bzTXAEiS1tq1SR6OjwgCwDz8IaN3++/6DX9bmfk9AJuNB/xwRhcmAAB274mMPuc/1+WfLCAAktPXCTiY5Ntx7wAAmFZP8i8ZXeFvV5/z38ncTwGc9QSt3ZLk3+MuggAwidcyurHPVNf2n9ZCjgBsNP4/8MGM7lEMAJzbYxnd0nehyz9ZQgAkp28lfCjJP8flgwFgs2MZ7chD09zSdxZLCYAk6SM/SbI/yb8lObms5waAFXUyo524v/f+k77o8/IbLPw9AOd84tE1A76f5MAgAwDAsJ5K8uV5frZ/Gks7ArBZ7/1I7/3GJB9N8vhQcwDAkj2e5KO99xuHWv7JgEcANmut3Zjka0luGXoWAFiAh5Lc03t/cuhBkhUKgFNaazck+WKSzyS5eOBxAGAWbyS5L8mPeu+Hhx5mo5ULgFNaa3uTfDzJHUluTXLhsBMBwETeyui+OD9N8pve+0reLXdlA2Cj1tolSW7L6KOEB5NcOexEAHCGl5M8muSRJL/uvb8+8Dw7WosA2Ky19v6MQuBQkuuTvC8DvqERgFJOJnkxyZGMl37v/blBJ9qFtQyAzcanC67L6BoDp74uT7Jvi693DjQmAKvtzSTHt/h6NcnRDV+/X9XD+tP4f5WvF0KejEIQAAAAAElFTkSuQmCC";const is={class:"secure-datatable-heading-back"},rs={class:"container"},cs={class:"row align-items-center"},ss={class:"col-12"},us={class:"left-back"},ds={class:"container user_attendence"},_s={class:"table table-striped"},ms={key:0},vs=["src","onClick"],ps=["onClick"],Es=["onClick"],As=["src"],fs={class:"table table-striped mt-3"};function gs(e,t,a,n,l,i){const r=(0,o.resolveComponent)("router-link");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createElementVNode)("section",is,[(0,o.createElementVNode)("div",rs,[(0,o.createElementVNode)("div",cs,[(0,o.createElementVNode)("div",ss,[(0,o.createElementVNode)("div",us,[(0,o.createVNode)(r,{to:{name:"Menu"}},{default:(0,o.withCtx)((()=>t[6]||(t[6]=[(0,o.createElementVNode)("img",{src:ce,alt:"back-arrow"},null,-1)]))),_:1})])])])])]),(0,o.createElementVNode)("div",ds,[t[10]||(t[10]=(0,o.createElementVNode)("h3",{class:"mt-3 mb-4 text-center"},"Liste Check in / Check out Participants",-1)),(0,o.createElementVNode)("table",_s,[t[9]||(t[9]=(0,o.createElementVNode)("thead",null,[(0,o.createElementVNode)("tr",null,[(0,o.createElementVNode)("th",null,"#"),(0,o.createElementVNode)("th",null,"User Name"),(0,o.createElementVNode)("th",null,"User Email"),(0,o.createElementVNode)("th",null,"Contact"),(0,o.createElementVNode)("th",null,"Image"),(0,o.createElementVNode)("th",null,"Date"),(0,o.createElementVNode)("th",null,"Check In/Out"),(0,o.createElementVNode)("th",null,"Actions")])],-1)),(0,o.createElementVNode)("tbody",null,[0===Object.keys(n.groupedLogs).length?((0,o.openBlock)(),(0,o.createElementBlock)("tr",ms,t[7]||(t[7]=[(0,o.createElementVNode)("td",{colspan:"8",class:"text-center"},"No data found",-1)]))):(0,o.createCommentVNode)("",!0),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(Object.values(n.groupedLogs),((e,a)=>((0,o.openBlock)(),(0,o.createElementBlock)("tr",{key:e.user_id},[(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(a+1),1),(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(e.user_name),1),(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(e.user_email),1),(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(e.user_phone),1),(0,o.createElementVNode)("td",null,[(0,o.createElementVNode)("img",{src:`${n.publicDir}/user_document/${e.image}`,height:"75",width:"75",class:"clickable-image",onClick:t=>n.openImageModal(`${n.publicDir}/user_document/${e.image}`),alt:"No img"},null,8,vs)]),(0,o.createElementVNode)("td",null,[(0,o.createElementVNode)("img",{src:ls,alt:"Open Calendar",width:"24",style:{cursor:"pointer"},onClick:t=>n.openCalendar(e.user_id)},null,8,ps),(0,o.createElementVNode)("input",{type:"text",class:"calendar-hidden-input",ref_for:!0,ref:t=>n.calendarRefs[e.user_id]=t,readonly:""},null,512)]),(0,o.createElementVNode)("td",null,[(0,o.createElementVNode)("a",{style:{cursor:"pointer"},onClick:(0,o.withModifiers)((t=>n.openUserLogModal(e)),["prevent"])},"View",8,Es)]),(0,o.createElementVNode)("td",null,[(0,o.createVNode)(r,{to:{name:"UserQrCodeDisable",params:{id:e.user_id}}},{default:(0,o.withCtx)((()=>t[8]||(t[8]=[(0,o.createTextVNode)("Edit")]))),_:2},1032,["to"])])])))),128))])]),n.selectedImage?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"modal-overlay",onClick:t[2]||(t[2]=(...e)=>n.closeImageModal&&n.closeImageModal(...e))},[(0,o.createElementVNode)("button",{class:"close-button",onClick:t[0]||(t[0]=(...e)=>n.closeImageModal&&n.closeImageModal(...e))},"×"),(0,o.createElementVNode)("div",{class:"modal-content",onClick:t[1]||(t[1]=(0,o.withModifiers)((()=>{}),["stop"]))},[(0,o.createElementVNode)("img",{src:n.selectedImage,alt:"Full Image",class:"full-image"},null,8,As)])])):(0,o.createCommentVNode)("",!0)]),n.showModal&&n.modalUser?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"modal-overlay check-in-modal",onClick:t[5]||(t[5]=(0,o.withModifiers)((e=>n.showModal=!1),["self"]))},[(0,o.createElementVNode)("div",{class:"modal-content check-in-content",onClick:t[4]||(t[4]=(0,o.withModifiers)((()=>{}),["stop"]))},[(0,o.createElementVNode)("button",{class:"close-button",onClick:t[3]||(t[3]=e=>n.showModal=!1)},"×"),(0,o.createElementVNode)("h4",null,(0,o.toDisplayString)(n.modalUser.user_name)+"'s Check-In/Out Times",1),(0,o.createElementVNode)("table",fs,[t[11]||(t[11]=(0,o.createElementVNode)("thead",null,[(0,o.createElementVNode)("tr",null,[(0,o.createElementVNode)("th",null,"#"),(0,o.createElementVNode)("th",null,"Check In Time"),(0,o.createElementVNode)("th",null,"Check Out Time")])],-1)),(0,o.createElementVNode)("tbody",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(n.modalUser.check_logs,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("tr",{key:t},[(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(t+1),1),(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(n.formatDate(e.check_in)),1),(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(e.check_out||""),1)])))),128))])])])])):(0,o.createCommentVNode)("",!0)],64)}a(8872);var hs=a(2689),Cs={name:"UserAttendenceView",setup(){const e=(0,n.rd)(),t=(0,n.lq)(),a=(0,o.ref)(t?.params?.domain||"scb"),l=(0,s.k)(),{publicDir:i}=c(),r=(0,o.ref)(JSON.parse(localStorage.getItem("userInfo"))||{}),u=(0,o.ref)(r.value?.company_id||null),d=(0,o.ref)(r.value?.roles||[]),_=(0,o.ref)(d.value.length>0?d.value[0]:null),m=(0,o.ref)("ROLE_ADMIN"===_.value),v=(0,o.ref)([]),p=(0,o.ref)({}),E=(0,o.ref)({}),A=(0,o.ref)({}),f=(0,o.ref)(null),g=(0,o.ref)(!1),h=(0,o.ref)(null),C=e=>{f.value=e},y=()=>{f.value=null},V=e=>{h.value=e,g.value=!0},N=()=>{const e={},t=m.value?v.value:v.value.filter((e=>e.company_id===u.value));t.forEach((t=>{e[t.user_id]||(e[t.user_id]={user_id:t.user_id,user_name:t.user_name,user_email:t.user_email,user_phone:t.user_phone,image:t.image,check_logs:[]});let a=[];try{a="string"===typeof t.check_logs?JSON.parse(t.check_logs):t.check_logs}catch(o){console.error("Invalid JSON in check_logs",o)}a.forEach((a=>{const o=new Date(a.check_in);if(!isNaN(o)){const n=o.toISOString().split("T")[0];e[t.user_id].check_logs.push({check_in:a.check_in??"N/A",check_out:a.check_out??"",date:n??"N/A"})}}))})),p.value=e},D=async()=>{await(0,o.nextTick)(),Object.keys(p.value).forEach((e=>{const t=p.value[e],a=t.check_logs.reduce(((e,t)=>(e[t.date]||(e[t.date]=[]),e[t.date].push({check_in:t.check_in?new Date(t.check_in):null,check_out:t.check_out?new Date(t.check_out):null}),e)),{}),o=[];Object.keys(a).forEach((e=>{a[e].forEach((e=>{o.push([e.check_in,e.check_out])}))})),A.value[e]=(0,hs.A)(E.value[e],{mode:"range",enableTime:!0,dateFormat:"Y-m-d H:i",defaultDate:o.flat(),defaultViewDate:o.length?o[0][0]:void 0})}))},k=e=>{A.value[e]?.open()},M=async()=>{try{const e=await Fn.fetchUserLog();v.value=e,N(),D()}catch(e){console.error("Failed to fetch data",e)}},b=e=>e?new Date(e).toLocaleString([],{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"N/A",B=()=>{e.push({name:"Menu",params:{domain:a.value}})};return(0,o.onMounted)((()=>{M()})),{groupedLogs:p,calendarRefs:E,openCalendar:k,formatDate:b,goToMenu:B,publicDir:i,openImageModal:C,closeImageModal:y,selectedImage:f,openUserLogModal:V,showModal:g,modalUser:h,userStore:l}}};const ys=(0,M.A)(Cs,[["render",gs],["__scopeId","data-v-7de8e859"]]);var Vs=ys;const Ns={class:"scanner-area scanner-area-new"},Ds={class:"container"},ks={class:"row align-items-center"},Ms={class:"scanner-logo-image"},bs={class:"scanner-left"},Bs=["src","alt"],Ps={class:"scanner-right"},Os={class:"scanner-texts"},ws={class:"scanner-image"},Rs=["src"],Is={class:"text-center py-2"};var Ls={__name:"RequestQrCodeView",setup(e){const t=(0,n.lq)(),{publicDir:a}=c(),l=(0,o.ref)(t.params.domain||"scb"),r=(0,o.ref)(t.params.uidn||""),s=(0,o.ref)(null),u=(0,o.ref)(null),{showCompany:d,company:_}=(0,i.R)(),m=(0,o.ref)({eventName:"",location:"",address:"",date:"",time:"",city:"",state:"",country:"",zipcode:""}),{formatDate:v,formatTime:p}=Nn();(0,o.watchEffect)((()=>{r.value=t.params.uidn||""})),(0,o.onMounted)((()=>{d(l.value);const e=sessionStorage.getItem("visitorData");e&&(m.value=JSON.parse(e))}));const E=()=>{if(!s.value)return;const e=document.querySelectorAll(".visitor_button, .capture-button");e.forEach((e=>e.style.display="none")),ot()(s.value,{useCORS:!0,allowTaint:!0}).then((t=>{e.forEach((e=>e.style.display="flex"));const a=t.toDataURL("image/png");u.value=a;const o=document.createElement("a");o.href=a,o.download=`meeting-${l.value}.png`,document.body.appendChild(o),o.click(),document.body.removeChild(o)}))};return(e,t)=>{const n=(0,o.resolveComponent)("router-link");return(0,o.openBlock)(),(0,o.createElementBlock)("section",Ns,[(0,o.createElementVNode)("div",Ds,[(0,o.createElementVNode)("div",ks,[(0,o.createElementVNode)("div",{class:"col col-12 col-md-12 col-sm-12 scanner-bg-black",ref_key:"capture",ref:s},[(0,o.createElementVNode)("div",Ms,[(0,o.createElementVNode)("div",bs,[(0,o.createVNode)(n,{to:{name:"RequestMeeting",params:{domain:l.value}}},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("img",{class:"card_logologo12333",src:`${(0,o.unref)(a)}/logo/${(0,o.unref)(_)?.logo}`,alt:(0,o.unref)(_)?.logo},null,8,Bs)])),_:1},8,["to"])]),(0,o.createElementVNode)("div",Ps,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)((0,o.unref)(p)(m.value.time_event)),1),t[0]||(t[0]=(0,o.createTextVNode)()),t[1]||(t[1]=(0,o.createElementVNode)("br",null,null,-1)),(0,o.createElementVNode)("span",null,(0,o.toDisplayString)((0,o.unref)(v)(m.value.date_event)),1)])]),(0,o.createElementVNode)("div",Os,[t[2]||(t[2]=(0,o.createElementVNode)("h5",null,"Name",-1)),(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(m.value.firstname)+" "+(0,o.toDisplayString)(m.value.lastname),1),t[3]||(t[3]=(0,o.createElementVNode)("h5",null,"EVENT",-1)),(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(m.value.title),1),t[4]||(t[4]=(0,o.createElementVNode)("h5",null,"WHERE",-1)),(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(m.value.location),1),t[5]||(t[5]=(0,o.createElementVNode)("h5",null,"Address",-1)),(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(m.value.address)+" "+(0,o.toDisplayString)(m.value.city)+" ,"+(0,o.toDisplayString)(m.value.state)+(0,o.toDisplayString)(m.value.zipcode)+","+(0,o.toDisplayString)(m.value.country),1)]),(0,o.createElementVNode)("div",ws,[(0,o.createVNode)(n,{to:"/"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("img",{src:`${(0,o.unref)(a)}/qrcode/qrcode-${r.value}.png`,class:"",alt:"QR Code"},null,8,Rs)])),_:1}),(0,o.createElementVNode)("div",Is,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(r.value),1)])])],512),(0,o.createElementVNode)("div",{class:"request-btn capture-button",onClick:E,role:"button"},t[6]||(t[6]=[(0,o.createElementVNode)("a",null,"Capture",-1)]))])])])}}};const Us=(0,M.A)(Ls,[["__scopeId","data-v-1f89fc5b"]]);var Ts=Us;const Ss={class:"request-meeting"},Ks={class:"container"},Ws={class:"row align-items-center"},qs={class:"col col-12 col-md-12 col-sm-12"},xs={class:"left-back"},Qs={class:"background-gradi"},Fs={class:"request-meeting meeting-form"},zs={class:"row align-items-center"},Js={class:"col col-12 col-md-12 col-sm-12"},js={key:0,class:"error"};var Gs={__name:"UserQrCodeDisableView",setup(e){const t=(0,o.ref)({id:"",firstname:"",lastname:"",email:"",contact:"",dateExp:""}),a=(0,o.ref)(""),{statusCode:l,getUserQrById:i,updateUserQr:r}=fa(),c=(0,n.rd)(),s=(0,n.lq)();(0,o.onBeforeMount)((async()=>{if(s.params.id){const e=await i(s.params.id);console.log("dfkjsdfnjkdsfndjkgnfdjgfdgfdg",e),e?t.value=e:a.value="QR User not found."}})),(0,o.watch)(l,(e=>{switch(e){case 200:W.oR.success("QR User updated successfully."),setTimeout((()=>{c.push("/")}),1500);break;case 400:W.oR.info("Bad request.");break;case 401:W.oR.info("Unauthorized. Please log in."),setTimeout((()=>{c.push("/")}),1500);break;case 403:W.oR.info("You do not have permission.");break;case 404:W.oR.info("User not found.");break;case 500:W.oR.info("Internal server error.");break;default:W.oR.info(`Error: ${e}`)}}));const u=async()=>{try{await r({dateExp:t.value.dateExp},t.value.id)}catch(e){a.value=`Error: ${e.message}`}};return(e,n)=>{const l=(0,o.resolveComponent)("router-link");return(0,o.openBlock)(),(0,o.createElementBlock)("section",Ss,[(0,o.createElementVNode)("div",Ks,[(0,o.createElementVNode)("div",Ws,[(0,o.createElementVNode)("div",qs,[(0,o.createElementVNode)("div",xs,[(0,o.createVNode)(l,{to:{name:"Menu"}},{default:(0,o.withCtx)((()=>n[4]||(n[4]=[(0,o.createElementVNode)("img",{src:ce,alt:"back-arrow"},null,-1)]))),_:1})])])])]),(0,o.createElementVNode)("div",Qs,[(0,o.createElementVNode)("section",Fs,[(0,o.createElementVNode)("div",zs,[(0,o.createElementVNode)("div",Js,[n[10]||(n[10]=(0,o.createElementVNode)("div",{class:"d-flex justify-content-start mb-4 gap-3 align-items-center"},[(0,o.createElementVNode)("h3",null,"Update Expiration Date")],-1)),(0,o.createElementVNode)("form",{onSubmit:(0,o.withModifiers)(u,["prevent"])},[(0,o.createElementVNode)("div",null,[n[5]||(n[5]=(0,o.createElementVNode)("label",{for:"firstname"},"First Name",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"firstname","onUpdate:modelValue":n[0]||(n[0]=e=>t.value.firstname=e),readonly:""},null,512),[[o.vModelText,t.value.firstname]])]),(0,o.createElementVNode)("div",null,[n[6]||(n[6]=(0,o.createElementVNode)("label",{for:"lastname"},"Last Name",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",id:"lastname","onUpdate:modelValue":n[1]||(n[1]=e=>t.value.lastname=e),readonly:""},null,512),[[o.vModelText,t.value.lastname]])]),(0,o.createElementVNode)("div",null,[n[7]||(n[7]=(0,o.createElementVNode)("label",{for:"email"},"Email",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"email",id:"email","onUpdate:modelValue":n[2]||(n[2]=e=>t.value.email=e),readonly:""},null,512),[[o.vModelText,t.value.email]])]),(0,o.createElementVNode)("div",null,[n[8]||(n[8]=(0,o.createElementVNode)("label",{for:"dateExp"},"Expiration Date",-1)),(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"date",id:"dateExp","onUpdate:modelValue":n[3]||(n[3]=e=>t.value.dateExp=e),class:"input_style",required:""},null,512),[[o.vModelText,t.value.dateExp]])]),n[9]||(n[9]=(0,o.createElementVNode)("div",{class:"event_button submit-button"},[(0,o.createElementVNode)("input",{type:"submit",value:"Update"})],-1)),a.value?((0,o.openBlock)(),(0,o.createElementBlock)("p",js,(0,o.toDisplayString)(a.value),1)):(0,o.createCommentVNode)("",!0)],32)])])])])])}}};const Hs=(0,M.A)(Gs,[["__scopeId","data-v-6f29e84f"]]);var Xs=Hs;const Zs={key:0},Ys={key:1},$s={key:2,style:{color:"red"}};var eu={__name:"ScanQR",setup(e){const t=(0,n.lq)(),a=(0,n.rd)(),l=t.params.uidn,i=(0,o.ref)(localStorage.getItem("token")||""),r=(0,o.ref)(""),c=(0,o.ref)(null);console.log("tokenscanner",i.value),i.value||(alert("You must be logged in to continue."),a.push("/login"));const s=async()=>{try{const e=await S.A.get(`/get-qr-data/${l}`,{headers:{Authorization:`Bearer ${i.value}`},withCredentials:!0});"success"===e.data?.status?e.data.redirectUrl?window.location.href=e.data.redirectUrl:(r.value=e.data.message,alert(`✅ ${e.data.message}`)):(c.value=e.data.message||"QR Invalid",alert(`❌ ${c.value}`))}catch(e){console.error("QR Request Error:",e);let t="Request failed";e?.response?.data?.error?t=e.response.data.error:e?.response?.data?.message?t=e.response.data.message:e?.message&&(t=e.message),c.value=t,alert(`❌ ${t}`)}};return(0,o.onMounted)((()=>{s()})),(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",null,[r.value||c.value?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("p",Zs,"🔄 Checking QR code...")),r.value?((0,o.openBlock)(),(0,o.createElementBlock)("h2",Ys,"✅ "+(0,o.toDisplayString)(r.value),1)):(0,o.createCommentVNode)("",!0),c.value?((0,o.openBlock)(),(0,o.createElementBlock)("h2",$s,"❌ "+(0,o.toDisplayString)(c.value),1)):(0,o.createCommentVNode)("",!0)]))}};const tu=eu;var au=tu;const ou={key:0},nu={key:1},lu={key:2,style:{color:"red"}};var iu={__name:"ScanUserQRCode",setup(e){const t=(0,n.lq)(),a=(0,n.rd)(),l=t.params.uidn,i=(0,o.ref)(localStorage.getItem("token")||""),r=(0,o.ref)(""),c=(0,o.ref)(null);console.log("tokenscanner",i.value),i.value||(alert("You must be logged in to continue."),a.push("/login"));const s=async()=>{try{const e=await S.A.get(`/get-qr-user-data/${l}`,{headers:{Authorization:`Bearer ${i.value}`},withCredentials:!0});"success"===e.data?.status?e.data.redirectUrl?window.location.href=e.data.redirectUrl:(r.value=e.data.message,alert(`✅ ${e.data.message}`)):(c.value=e.data.message||"QR Invalid",alert(`❌ ${c.value}`))}catch(e){console.error("QR Request Error:",e);let t="Request failed";e?.response?.data?.error?t=e.response.data.error:e?.response?.data?.message?t=e.response.data.message:e?.message&&(t=e.message),c.value=t,alert(`❌ ${t}`)}};return(0,o.onMounted)((()=>{s()})),(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",null,[r.value||c.value?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("p",ou,"🔄 Checking QR code...")),r.value?((0,o.openBlock)(),(0,o.createElementBlock)("h2",nu,"✅ "+(0,o.toDisplayString)(r.value),1)):(0,o.createCommentVNode)("",!0),c.value?((0,o.openBlock)(),(0,o.createElementBlock)("h2",lu,"❌ "+(0,o.toDisplayString)(c.value),1)):(0,o.createCommentVNode)("",!0)]))}};const ru=iu;var cu=ru;const su={class:"secure-datatable-heading-back"},uu={class:"container"},du={class:"row align-items-center"},_u={class:"col-12"},mu={class:"left-back"},vu={class:"container"},pu={class:"table"},Eu=["src"],Au=["src","onClick"],fu={style:{"text-align":"center"}},gu=["src"],hu={style:{color:"#fff"}};var Cu={__name:"QrCodeListView",setup(e){const{fetchQrCodeList:t,qrCodes:a}=fa(),{publicDir:l}=c(),i=(0,n.rd)(),r=(0,n.lq)(),s=(0,o.ref)(r.params.domain||"scb"),u=(0,o.ref)({src:null,name:null,uidn:null,email:null,contact:null,title:null}),d=(e,t,a,o,n,r,c,u)=>{i.push({name:"QrDetails",params:{domain:s.value,id:e},state:{src:`${l}/${u}`,name:`${t} ${a}`,uidn:o,email:n,contact:r,title:c}})},_=(0,o.ref)(JSON.parse(localStorage.getItem("userInfo"))||{}),m=(0,o.ref)(_.value?.company_id||null),v=(0,o.ref)(_.value?.roles||[]),p=(0,o.ref)(v.value.length>0?v.value[0]:null),E=(0,o.ref)("ROLE_ADMIN"===p.value);console.log("User Info:",_.value),console.log("Company ID:",m.value),console.log("Roles:",v.value),console.log("Current Role:",p.value),console.log("Is Admin:",E.value);const A=(0,o.computed)((()=>E.value?a.value:"ROLE_SUPERVISOR"===p.value||"ROLE_SecureCheck"===p.value?a.value.filter((e=>String(e.company?.id)===String(m.value))):[]));return(0,o.onMounted)((()=>{t()})),(e,t)=>{const a=(0,o.resolveComponent)("router-link");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createElementVNode)("section",su,[(0,o.createElementVNode)("div",uu,[(0,o.createElementVNode)("div",du,[(0,o.createElementVNode)("div",_u,[(0,o.createElementVNode)("div",mu,[(0,o.createVNode)(a,{to:{name:"Menu"}},{default:(0,o.withCtx)((()=>t[3]||(t[3]=[(0,o.createElementVNode)("img",{src:ce,alt:"back-arrow"},null,-1)]))),_:1})])])])])]),(0,o.createElementVNode)("div",vu,[t[5]||(t[5]=(0,o.createElementVNode)("h3",{style:{"text-align":"center"}},"QR User List",-1)),(0,o.createElementVNode)("table",pu,[t[4]||(t[4]=(0,o.createElementVNode)("thead",null,[(0,o.createElementVNode)("tr",null,[(0,o.createElementVNode)("th",null,"Name"),(0,o.createElementVNode)("th",null,"Email"),(0,o.createElementVNode)("th",null,"Contact"),(0,o.createElementVNode)("th",null,"Image"),(0,o.createElementVNode)("th",null,"QR Code")])],-1)),(0,o.createElementVNode)("tbody",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(A.value,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("tr",{key:e.id},[(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(e.firstname)+" "+(0,o.toDisplayString)(e.lastname),1),(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(e.email),1),(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(e.contact),1),(0,o.createElementVNode)("td",null,[e.user_image?((0,o.openBlock)(),(0,o.createElementBlock)("img",{key:0,src:`${(0,o.unref)(l)}/user_document/${e.user_image}`,alt:"User Image",width:"75",height:"75"},null,8,Eu)):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("td",null,[e.code?((0,o.openBlock)(),(0,o.createElementBlock)("img",{key:0,src:`${(0,o.unref)(l)}/${e.code}`,alt:"QR Code",width:"100",height:"100",class:"qr-clickable",onClick:()=>d(e.id,e.firstname,e.lastname,e.uidn,e.email,e.contact,e.title,e.code)},null,8,Au)):(0,o.createCommentVNode)("",!0)])])))),128))])]),u.value.src?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"modal-overlay",onClick:t[2]||(t[2]=(...t)=>e.closeImageModal&&e.closeImageModal(...t))},[(0,o.createElementVNode)("button",{class:"close-button",onClick:t[0]||(t[0]=(...t)=>e.closeImageModal&&e.closeImageModal(...t))},"×"),(0,o.createElementVNode)("div",{class:"modal-content",onClick:t[1]||(t[1]=(0,o.withModifiers)((()=>{}),["stop"]))},[(0,o.createElementVNode)("div",fu,[(0,o.createElementVNode)("h5",null,"Name : "+(0,o.toDisplayString)(u.value.name),1),(0,o.createElementVNode)("h5",null,"Email : "+(0,o.toDisplayString)(u.value.email),1),(0,o.createElementVNode)("h5",null,"Contact : "+(0,o.toDisplayString)(u.value.contact),1),(0,o.createElementVNode)("h5",null,"Title : "+(0,o.toDisplayString)(u.value.title),1),(0,o.createElementVNode)("img",{src:u.value.src,alt:"Full QR Code",class:"full-image"},null,8,gu),(0,o.createElementVNode)("h3",hu,(0,o.toDisplayString)(u.value.uidn),1)])])])):(0,o.createCommentVNode)("",!0)])],64)}}};const yu=(0,M.A)(Cu,[["__scopeId","data-v-55d25ef4"]]);var Vu=yu;const Nu={class:"secure-datatable-heading-back"},Du={class:"container"},ku={class:"row align-items-center"},Mu={class:"col-12"},bu={class:"left-back"},Bu={class:"card"},Pu={key:0,class:"popup-logo"},Ou=["src","alt"],wu=["src"],Ru={style:{"text-align":"center","margin-top":"2px"}};var Iu={__name:"QrDetails",setup(e){const t=(0,n.lq)(),a=(0,o.ref)(t.params.domain||"masek"),l=(0,o.ref)(null),r=(0,o.ref)(null),s=(0,o.ref)(null),u=(0,o.ref)(null),d=(0,o.ref)(null),_=(0,o.ref)(null),{showCompany:m,company:v}=(0,i.R)(),p=(0,o.ref)(localStorage.getItem("currentCompany")),{publicDir:E}=c();return(0,o.onMounted)((()=>{history.state.name&&(l.value=history.state.name,console.log("Visitor Name:",l.value)),history.state.email&&(s.value=history.state.email,console.log("Visitor Email Set:",s.value)),history.state.contact&&(u.value=history.state.contact,console.log("Visitor Contact Set:",u.value)),history.state.title&&(d.value=history.state.title,console.log("Visitor Title:",d.value)),history.state.uidn&&(r.value=history.state.uidn,console.log("Visitor Uidn:",r.value)),history.state.src&&(_.value=history.state.src,console.log("Visitor code:",_.value))})),(0,o.watchEffect)((async()=>{t.state?.name&&(l.value=t.state.name,console.log("visitor Name:",l.value)),t.state?.uidn&&(r.value=t.state.uidn,console.log("Updated Visitor Uidn:",r.value)),t.state?.email&&(s.value=t.state.email,console.log("Updated Visitor Email:",s.value)),t.state?.contact&&(u.value=t.state.contact,console.log("Updated Visitor Contact:",u.value)),t.state?.title&&(d.value=t.state.title,console.log("Updated Visitor Title:",d.value)),t.state?.src&&(_.value=t.state.src,console.log("Updated Visitor code:",_.value))})),(0,o.onBeforeMount)((async()=>{"/sign-in"!=window.location.pathname&&(p.value?await m(p.value):p.value="")})),(e,t)=>{const n=(0,o.resolveComponent)("router-link");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createElementVNode)("section",Nu,[(0,o.createElementVNode)("div",Du,[(0,o.createElementVNode)("div",ku,[(0,o.createElementVNode)("div",Mu,[(0,o.createElementVNode)("div",bu,[(0,o.createVNode)(n,{to:{name:"QrCodeList",params:{domain:a.value.value}}},{default:(0,o.withCtx)((()=>t[0]||(t[0]=[(0,o.createElementVNode)("img",{src:ce,alt:"back-arrow"},null,-1)]))),_:1},8,["to"])])])])])]),(0,o.createElementVNode)("div",Bu,[e.isSuccess?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",Pu,[(0,o.createVNode)(n,{to:"/"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("img",{class:"logo logo12333",src:`${(0,o.unref)(E)}/logo/${(0,o.unref)(v)?.logo}`,alt:(0,o.unref)(v)?.logo},null,8,Ou)])),_:1})])),t[1]||(t[1]=(0,o.createElementVNode)("div",{class:"label"},"Name",-1)),(0,o.createElementVNode)("div",null,(0,o.toDisplayString)(l.value),1),t[2]||(t[2]=(0,o.createElementVNode)("div",{class:"label"},"Email",-1)),(0,o.createElementVNode)("div",null,(0,o.toDisplayString)(s.value),1),t[3]||(t[3]=(0,o.createElementVNode)("div",{class:"label"},"Contact",-1)),(0,o.createElementVNode)("div",null,(0,o.toDisplayString)(u.value),1),t[4]||(t[4]=(0,o.createElementVNode)("div",{class:"label"},"Title",-1)),(0,o.createElementVNode)("div",null,(0,o.toDisplayString)(d.value),1),(0,o.createElementVNode)("img",{src:_.value,alt:"QR Code",class:"qr-code"},null,8,wu),(0,o.createElementVNode)("div",Ru,(0,o.toDisplayString)(r.value),1)])],64)}}};const Lu=(0,M.A)(Iu,[["__scopeId","data-v-7043f7a0"]]);var Uu=Lu;const Tu=[{path:"/sign-in",name:"Login",component:te,alias:["/"]},{path:"/:domain/meeting",name:"CreateVisitor",component:re},{path:"/:domain/create-user",name:"CreateUser",component:ne},{path:"/:domain/list-users",name:"ListUser",component:nn},{path:"/:domain/request-meeting",name:"RequestMeeting",component:et,alias:["/","/:domain"]},{path:"/:domain",name:"homePage",component:et},{path:"/:domain/waiting-validation/:id",name:"WaitingValidation",component:Ut},{path:"/:domain/show-event-qrcode/:slug",name:"ShowEventQRcode",component:ti},{path:"/:domain/qr-code/:id",name:"QrCode",component:Aa},{path:"/:domain/list-qrcode",name:"ListQrcode",component:na},{path:"/:domain/list-qrcode-events/:slug",name:"ListQrcodeEvents",component:na},{path:"/:domain/manual-check",name:"ManalCheck",component:Lo},{path:"/:domain/menu",name:"Menu",component:qe},{path:"/:domain/create-event",name:"CreateEvent",component:Vn},{path:"/company/:domain/event/:slug",name:"JoinEvent",component:re},{path:"/:domain/list-events",name:"EventList",component:xn},{path:"/success-checkout/:uidn",name:"SuccessCheckout",component:el},{path:"/success-checkin/:uidn",name:"SuccessCheckin",component:dl,meta:{requiresAuth:!0}},{path:"/success-user-checkin/:uidn",name:"SuccessUserCheckin",component:jc},{path:"/success-user-checkout/:uidn",name:"SuccessUserCheckout",component:ns},{path:"/:domain/create-company",name:"CreateCompany",component:Ml},{path:"/:domain/edit-company/:company_edit",name:"EditCreateCompany",component:ql},{path:"/:domain/company-list",name:"CompanyList",component:Nr},{path:"/company/:slug/",name:"EmployeeListView",component:Uc},{path:"/:domain/show-company-qrcode/:slug",name:"ShowCompanyQRcode",component:Ac},{path:"/:domain/create-qr",name:"CreateQRCode",component:Fa},{path:"/:domain/create-membre-qr",name:"CreateQRMembre",component:fo},{path:"/:domain/camera",name:"Camera",component:pi},{path:"/:domain/display-logs",name:"DisplayVisitorCode",component:Pi},{path:"/:domain/event-attendences",name:"DisplayEventAttendence",component:jr},{path:"/:domain/user-check-ins",name:"UserAttendence",component:Vs},{path:"/company/:domain/meeting-request-qr/:uidn",name:"RequestQrCode",component:Ts},{path:"/:domain/disable-user-qrcode/:id",name:"UserQrCodeDisable",component:Xs},{path:"/user-check-in-out",name:"UserCheckInOut",component:()=>a.e(475).then(a.bind(a,3475))},{path:"/scan/:uidn",name:"ScanPage",component:au,meta:{requiresAuth:!0}},{path:"/scan-user-qrcode/:uidn",name:"ScanUserQRCode",component:cu,meta:{requiresAuth:!0}},{path:"/:domain/qr-code-list",name:"QrCodeList",component:Vu},{path:"/qr-details",name:"QrDetails",component:Uu}],Su=(0,n.aE)({history:(0,n.LA)(),routes:Tu});Su.beforeEach(((e,t,a)=>{const o=e.matched.some((e=>e.meta.requiresAuth)),n=localStorage.getItem("token");o&&(!n||n.length<10)?a({name:"Login"}):a()}));var Ku=Su,Wu=a(4139),qu=a(903),xu=a(9995),Qu=a(1453),Fu=a.n(Qu),zu=a(1032);qu.A.use(xu.A);const Ju=(0,o.createApp)(U);Ju.use(Ku),Ju.use(zu.Ay),Ju.use(Fu(),{});const ju=(0,r.Ey)();ju.use(Wu.A),Ju.use(ju),Ju.mount("#app")},8082:function(e,t,a){var o=a(4373);const n=o.A.create({baseURL:"https://www.securecheck.info/api/public/index.php/api",headers:{"Content-Type":"application/json"}});n.interceptors.request.use((e=>{const t=localStorage.getItem("token");return console.log("Token:",t),t&&(e.headers.Authorization=`Bearer ${t}`),e}),(e=>Promise.reject(e))),t.A=n},1125:function(e,t,a){a.d(t,{T:function(){return l}});var o=a(5796),n=a(8082);function l(){const e=(0,o.ref)({name:"",firstname:"",email:"",password:"",title:"",contact:"",role:"ROLE_USER",status:!0,department_id:""}),t=(0,o.ref)(!1),a=(0,o.ref)(null),l=(0,o.ref)(null),i=(0,o.ref)(null),r=async()=>{t.value=!0,a.value=null,l.value=null;try{const t=await n.A.post("/user/create",e.value);return i.value=t.status,l.value="Utilisateur créé avec succès !",t.data}catch(o){a.value="Erreur lors de la création de l'utilisateur : "+(o.response?.data?.message||"Erreur inconnue"),i.value=o.response?.status||500,console.error(o)}finally{t.value=!1}};return{user:e,loading:t,errorMessage:a,successMessage:l,statusCode:i,createUser:r}}},9200:function(e,t,a){a.d(t,{R:function(){return i}});a(4114),a(8992),a(4520);var o=a(8082),n=a(5796),l=a(1387);function i(){const e=(0,n.ref)([]),t=(0,n.ref)(),a=(0,n.ref)(!1),i=(0,n.ref)(null),r=(0,n.ref)(null),c=(0,l.rd)(),s=async()=>{a.value=!0,i.value=null;try{const t=await o.A.get("/companies");e.value=t.data.data}catch(t){i.value="Une erreur est survenue lors du chargement des entreprises.",console.error(t),401==t.status&&c.push({name:"RequestMeeting",params:{domain:"scb"}})}finally{a.value=!1}},u=async e=>{a.value=!0,i.value=null;try{const a=await o.A.get(`/company/${e}`);t.value=a.data.data}catch(n){i.value="Une erreur est survenue lors du chargement des entreprises.",console.error(n)}finally{a.value=!1}},d=async(e,n)=>{a.value=!0,i.value=null;try{const a=new FormData;a.append("name",e.name),a.append("address",e.address),a.append("id_number",e.id_number),a.append("point_contact",e.point_contact),a.append("email",e.email),a.append("phone_number",e.phone_number),a.append("company_field",e.company_field),a.append("country",e.country),a.append("city",e.city),a.append("number_of_employee",e.number_of_employee),a.append("zipcode",e.zipcode),a.append("logo",e.logo),a.append("state",e.state),a.append("title",e.title);const l=await o.A.post(`/company/${n}`,a,{headers:{"Content-Type":"multipart/form-data"}});t.value=l.data.data,r.value=l.status}catch(l){i.value="Une erreur est survenue lors du chargement des entreprises.",console.error(l)}finally{a.value=!1}},_=async e=>{a.value=!0,i.value=null;try{const a=new FormData;a.append("name",e.name),a.append("address",e.address),a.append("id_number",e.id_number),a.append("point_contact",e.point_contact),a.append("email",e.email),a.append("phone_number",e.phone_number),a.append("company_field",e.company_field),a.append("country",e.country),a.append("city",e.city),a.append("state",e.state),a.append("title",e.title),a.append("number_of_employee",e.number_of_employee),a.append("zipcode",e.zipcode),a.append("logo",e.logo);const n=await o.A.post("/company",a,{headers:{"Content-Type":"multipart/form-data"}});t.value=n.data.data,r.value=n.status}catch(n){i.value="Une erreur est survenue lors de l'enregistrement de l'entreprise.",console.error(n)}finally{a.value=!1}},m=async t=>{try{const a=await o.A.delete(`/company/delete/${t}`);return 200===a.status&&(e.value=e.value.filter((e=>e.id!==t))),a}catch(a){throw console.error("Error deleting user:",a),a}};return{companies:e,loading:a,errorMessage:i,fetchCompanies:s,showCompany:u,postCompany:_,updateCompany:d,statusCode:r,company:t,deleteCompany:m}}},2301:function(e,t,a){a.d(t,{S:function(){return l}});a(8992),a(3949);var o=a(8082),n=a(5796);function l(){const e=(0,n.ref)(null),t=(0,n.ref)(null),a=(0,n.ref)(null),l=(0,n.ref)(null),i=(0,n.ref)(null),r=(0,n.ref)(null),c=(0,n.ref)(null),s=(0,n.ref)(null),u=(0,n.ref)(null),d=(0,n.ref)(null),_=(0,n.ref)(null),m=async n=>{try{const t=new FormData;Object.keys(n).forEach((e=>{void 0!==n[e]&&t.append(e,n[e])})),n.file&&t.append("request_image",n.file);const m=await o.A.post("/visitor/create",t,{headers:{"Content-Type":"multipart/form-data"}});return console.log("statusCode1213",m),e.value=m.status,a.value=m.data.data.visitor_id,l.value=m.data.data.uidn,i.value=m.data.data.firstname,r.value=m.data.data.lastname,c.value=m.data.data.address,s.value=m.data.data.state,u.value=m.data.data.country,d.value=m.data.data.city,_.value=m.data.data.zipcode,console.log("visitor uidn:",l.value,{data___:m.data,visitorId___:a.value,uidn___:l.value}),m.data}catch(m){throw e.value=m.response?.status,t.value=m.response?.data?.message||"An unexpected error occurred",new Error(t.value)}};return{createVisitor:m,statusCode:e,errorMessage:t,visitorId:a,uidn:l,firstname:i,lastname:r,address:c,state:s,country:u,city:d,zipcode:_}}},8731:function(e,t,a){a.d(t,{_:function(){return l}});var o=a(8082),n=a(5796);function l(){const e=(0,n.ref)(!1),t=(0,n.ref)(),a=(0,n.ref)(null),l=(0,n.ref)(null),i=(0,n.ref)(null),r=async t=>{e.value=!0,a.value=null,l.value=null,i.value=null;try{const e=await o.A.post("/evenement/create",t,{headers:{"Content-Type":"application/json"}});i.value=e.status,l.value="Événement créé avec succès !"}catch(n){n.response?(i.value=n.response.status,a.value=`Erreur: ${n.response.status} - ${n.response.data.message||"Erreur lors de la création de l’événement."}`):a.value="Erreur réseau ou serveur non joignable.",console.error(n)}finally{e.value=!1}},c=async n=>{e.value=!0,a.value=null,l.value=null,i.value=null;try{const e=await o.A.get("/evenement/"+n);t.value=e.data.data,console.log("event.value",t.value),i.value=e.status,l.value="Événement Rétrouvé"}catch(r){r.response?(i.value=r.response.status,a.value=`Erreur: ${r.response.status} - ${r.response.data.message||"Erreur lors de la recherche de l’événement."}`):a.value="Erreur réseau ou serveur non joignable.",console.error(r)}finally{e.value=!1}};return{loading:e,errorMessage:a,successMessage:l,statusCode:i,createEvent:r,showEvent:c,event:t}}},8328:function(e,t,a){a.d(t,{P:function(){return l}});var o=a(5796),n=a(8082);const l=()=>{const e=(0,o.ref)(null),t=(0,o.ref)(null),a=async()=>{try{const t=await n.A.get("/user/info");e.value=t.data}catch(a){t.value=a.response?.data?.error||"Failed to fetch user info"}};return{userInfo:e,error:t,fetchUserInfo:a}}},4895:function(e,t,a){a.d(t,{M:function(){return l}});var o=a(5796),n=a(8082);function l(){const e=(0,o.ref)(!1),t=(0,o.ref)(null),a=(0,o.ref)(null),l=(0,o.ref)(null),i=async o=>{e.value=!0,t.value=null;try{const e=await n.A.post("/requests/create",o);return a.value=e.data.data.id,l.value=e.status,e.data}catch(i){throw t.value=i.response?i.response.data:i.message,t.value}finally{e.value=!1}};return{loading:e,error:t,createVisitRequest:i,requestId:a,statusCodeReq:l}}},3857:function(e,t,a){a.d(t,{k:function(){return s}});a(4114);var o=a(657),n=a(5796),l=a(4373),i=a(8082),r=a(4084),c=a(1387);const s=(0,o.nY)("user",(()=>{const e=(0,n.ref)(localStorage.getItem("token")||null);localStorage.setItem("roles_list",JSON.stringify(["ROLE_USER","ROLE_EMPLOYEE","ROLE_SUPERVISOR","ROLE_ADMIN","ROLE_SUPER_ADMIN","ROLE_MANAGER","ROLE_SecureCheck"]));const t=(0,n.ref)(JSON.parse(localStorage.getItem("roles_list"))),a=(0,n.ref)(null),o=()=>!!e.value,s=e=>t.value.includes(e),u=t=>{e.value=t,localStorage.setItem("token",t),l.A.defaults.headers.common["Authorization"]=`Bearer ${t}`},d=async()=>{},_=async()=>{try{const e=await i.A.get("/user/info");a.value=e.data,localStorage.setItem("userInfo",JSON.stringify(a.value)),console.log("teter12",e)}catch(e){console.error("Failed to fetch user info:",e)}},m=async e=>{try{const t=await i.A.post("/login_check",e);u(t.data.token),await d(),await _()}catch(t){console.error("Login failed:",t)}},v=e=>"ROLE_ADMIN"==e,p=e=>"ROLE_SUPER_ADMIN"==e,E=e=>"ROLE_SUPERVISOR"==e,A=e=>"ROLE_EMPLOYEE"==e,f=e=>"ROLE_USER"==e,g=e=>"ROLE_MANAGER"==e,h=e=>"ROLE_SecureCheck"==e,C=(0,c.rd)(),y=()=>{e.value=null,a.value=null,t.value=[],localStorage.removeItem("token"),localStorage.removeItem("currentCompany"),localStorage.removeItem("roles"),localStorage.removeItem("userInfo"),localStorage.removeItem("roles_list"),document.cookie="token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; Secure; SameSite=Strict",r.oR.info("Déconnecté"),C.push("/sign-in"),window.location="/sign-in"};return{token:e,roles:t,isAuthenticated:o,hasRole:s,setToken:u,fetchRoles:d,login:m,logout:y,fetchUserInfo:_,isAdmin:v,isSuperAdmin:p,isSupervisor:E,isEmployee:A,isUser:f,isManager:g,isSecureCheck:h}}),{persist:!0})},7926:function(e){e.exports="data:image/png;base64,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"}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var a=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(a.exports,a,a.exports,__webpack_require__),a.exports}__webpack_require__.m=__webpack_modules__,function(){var e=[];__webpack_require__.O=function(t,a,o,n){if(!a){var l=1/0;for(s=0;s<e.length;s++){a=e[s][0],o=e[s][1],n=e[s][2];for(var i=!0,r=0;r<a.length;r++)(!1&n||l>=n)&&Object.keys(__webpack_require__.O).every((function(e){return __webpack_require__.O[e](a[r])}))?a.splice(r--,1):(i=!1,n<l&&(l=n));if(i){e.splice(s--,1);var c=o();void 0!==c&&(t=c)}}return t}n=n||0;for(var s=e.length;s>0&&e[s-1][2]>n;s--)e[s]=e[s-1];e[s]=[a,o,n]}}(),function(){__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return __webpack_require__.d(t,{a:t}),t}}(),function(){__webpack_require__.d=function(e,t){for(var a in t)__webpack_require__.o(t,a)&&!__webpack_require__.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){__webpack_require__.f={},__webpack_require__.e=function(e){return Promise.all(Object.keys(__webpack_require__.f).reduce((function(t,a){return __webpack_require__.f[a](e,t),t}),[]))}}(),function(){__webpack_require__.u=function(e){return"js/"+e+".683fdb34.js"}}(),function(){__webpack_require__.miniCssF=function(e){}}(),function(){__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="secure-check:";__webpack_require__.l=function(a,o,n,l){if(e[a])e[a].push(o);else{var i,r;if(void 0!==n)for(var c=document.getElementsByTagName("script"),s=0;s<c.length;s++){var u=c[s];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==t+n){i=u;break}}i||(r=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,__webpack_require__.nc&&i.setAttribute("nonce",__webpack_require__.nc),i.setAttribute("data-webpack",t+n),i.src=a),e[a]=[o];var d=function(t,o){i.onerror=i.onload=null,clearTimeout(_);var n=e[a];if(delete e[a],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((function(e){return e(o)})),t)return t(o)},_=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),r&&document.head.appendChild(i)}}}(),function(){__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){__webpack_require__.p="/"}(),function(){var e={524:0};__webpack_require__.f.j=function(t,a){var o=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==o)if(o)a.push(o[2]);else{var n=new Promise((function(a,n){o=e[t]=[a,n]}));a.push(o[2]=n);var l=__webpack_require__.p+__webpack_require__.u(t),i=new Error,r=function(a){if(__webpack_require__.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var n=a&&("load"===a.type?"missing":a.type),l=a&&a.target&&a.target.src;i.message="Loading chunk "+t+" failed.\n("+n+": "+l+")",i.name="ChunkLoadError",i.type=n,i.request=l,o[1](i)}};__webpack_require__.l(l,r,"chunk-"+t,t)}},__webpack_require__.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,n,l=a[0],i=a[1],r=a[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(o in i)__webpack_require__.o(i,o)&&(__webpack_require__.m[o]=i[o]);if(r)var s=r(__webpack_require__)}for(t&&t(a);c<l.length;c++)n=l[c],__webpack_require__.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return __webpack_require__.O(s)},a=self["webpackChunksecure_check"]=self["webpackChunksecure_check"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var __webpack_exports__=__webpack_require__.O(void 0,[504],(function(){return __webpack_require__(7271)}));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();
//# sourceMappingURL=app.07ec8f4d.js.map