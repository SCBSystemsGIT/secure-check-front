(function(){"use strict";var e={1306:function(e,t,a){var n=a(9908),l=a.p+"img/secure-check-logo.5a09639d.png",o=(a(9138),a(3433));const r=o.A.create({baseURL:"http://127.0.0.1:8000/api",headers:{"Content-Type":"application/json"}});r.interceptors.request.use((e=>{const t=localStorage.getItem("token");return console.log("Token:",t),t&&(e.headers.Authorization=`Bearer ${t}`),e}),(e=>Promise.reject(e)));var c=r,s=a(3753);function i(){const e=(0,n.ref)([]),t=(0,n.ref)(),a=(0,n.ref)(!1),l=(0,n.ref)(null),o=(0,n.ref)(null),r=(0,s.rd)(),i=async()=>{a.value=!0,l.value=null;try{const t=await c.get("/companies");e.value=t.data.data}catch(t){l.value="Une erreur est survenue lors du chargement des entreprises.",console.error(t),401==t.status&&r.push({name:"RequestMeeting",params:{domain:"scb"}})}finally{a.value=!1}},u=async e=>{a.value=!0,l.value=null;try{const a=await c.get(`/company/${e}`);t.value=a.data.data}catch(n){l.value="Une erreur est survenue lors du chargement des entreprises.",console.error(n)}finally{a.value=!1}},d=async(e,n)=>{a.value=!0,l.value=null;try{const a=await c.put(`/company/${n}`,e);t.value=a.data.data,o.value=a.status}catch(r){l.value="Une erreur est survenue lors du chargement des entreprises.",console.error(r)}finally{a.value=!1}},m=async e=>{a.value=!0,l.value=null;try{const a=new FormData;a.append("name",e.name),a.append("description",e.description),a.append("logo",e.logo);const n=await c.post("/company",a,{headers:{"Content-Type":"multipart/form-data"}});t.value=n.data.data,o.value=n.status}catch(n){l.value="Une erreur est survenue lors de l'enregistrement de l'entreprise.",console.error(n)}finally{a.value=!1}};return{companies:e,loading:a,errorMessage:l,fetchCompanies:i,showCompany:u,postCompany:m,updateCompany:d,statusCode:o,company:t}}var u=a(200);const d=(0,u.nY)("global",{state:()=>({baseUrl:"https://www.securecheck.info/api/public/index.php/api",baseUrl_:"https://www.securecheck.info/api/public/index.php",publicDir:"https://www.securecheck.info/api/public",domain:"scb",logoPath:"",currentPath:""}),actions:{setDomain(e){this.domain=e},setLogoPath(e){this.logoPath=e},setCurrentPath(e){this.currentPath=e}},getters:{getLogoPath:e=>e.logoPath,getCurrentPath:e=>e.currentPath},persist:!0});var m=a(575);const p=(0,u.nY)("user",(()=>{const e=(0,n.ref)(localStorage.getItem("token")||null);localStorage.setItem("roles_list",JSON.stringify(["ROLE_USER","ROLE_EMPLOYEE","ROLE_SUPERVISOR","ROLE_ADMIN","ROLE_SUPER_ADMIN","ROLE_MANAGER","ROLE_SecureCheck"]));const t=(0,n.ref)(JSON.parse(localStorage.getItem("roles_list"))),a=(0,n.ref)(null),l=()=>!!e.value,r=e=>t.value.includes(e),i=t=>{e.value=t,localStorage.setItem("token",t),o.A.defaults.headers.common["Authorization"]=`Bearer ${t}`},u=async()=>{},d=async()=>{try{const e=await c.get("/user/info");a.value=e.data,localStorage.setItem("userInfo",JSON.stringify(a.value))}catch(e){console.error("Failed to fetch user info:",e)}},p=async e=>{try{const t=await c.post("/login_check",e);i(t.data.token),await u(),await d()}catch(t){console.error("Login failed:",t)}},v=e=>"ROLE_ADMIN"==e,f=e=>"ROLE_SUPER_ADMIN"==e,g=e=>"ROLE_SUPERVISOR"==e,E=e=>"ROLE_EMPLOYEE"==e,V=e=>"ROLE_USER"==e,h=e=>"ROLE_MANAGER"==e,N=e=>"ROLE_SecureCheck"==e,k=(0,s.rd)(),y=()=>{e.value=null,a.value=null,t.value=[],localStorage.removeItem("token"),localStorage.removeItem("roles"),localStorage.removeItem("userInfo"),localStorage.removeItem("roles_list"),m.oR.info("Déconnecté"),k.push("/sign-in"),window.location="/sign-in"};return{token:e,roles:t,isAuthenticated:l,hasRole:r,setToken:i,fetchRoles:u,login:p,logout:y,fetchUserInfo:d,isAdmin:v,isSuperAdmin:f,isSupervisor:g,isEmployee:E,isUser:V,isManager:h,isSecureCheck:N}}),{persist:!0}),v=(0,n.reactive)({}),f={class:"top-bar"},g={class:"container"},E={class:"row align-items-center"},V={class:"col col-6 col-md-6 top-bar-left"},h={class:"col col-6 col-md-6 top-bar-right"},N={class:"account-login-button"};var k={__name:"NavbarComponent",setup(e){const t=p(),a=(0,s.lq)(),o=()=>{t.logout()},r=t.isAuthenticated(),{publicDir:c}=d(),{showCompany:u,company:m}=i(),k=(0,n.ref)(localStorage.getItem("currentCompany"));(0,n.onBeforeMount)((async()=>{console.log("Host:",window.location.host),console.log("Path:",window.location.pathname),"/sign-in"!=window.location.pathname&&(k.value?await u(k.value):k.value="")})),(0,n.watch)((()=>v["company_slug"]),(async e=>{await u(localStorage.getItem("currentCompany")??e)}));const y=(0,n.ref)(JSON.parse(localStorage.getItem("userInfo"))||{}),b=(0,n.ref)(y?.value?.roles?y.value.roles[0]:"");return(0,n.onMounted)((()=>{})),(e,s)=>{const i=(0,n.resolveComponent)("router-link");return(0,n.openBlock)(),(0,n.createElementBlock)("section",f,[(0,n.createElementVNode)("div",g,[(0,n.createElementVNode)("div",E,[(0,n.createElementVNode)("div",V,[(0,n.createElementVNode)("div",null,["scb"==(0,n.unref)(a).params.domain?((0,n.openBlock)(),(0,n.createBlock)(i,{key:0,to:"/"},{default:(0,n.withCtx)((()=>s[0]||(s[0]=[(0,n.createElementVNode)("img",{id:"logoif",src:l,class:"",alt:"secure-check-logo"},null,-1)]))),_:1})):((0,n.openBlock)(),(0,n.createBlock)(i,{key:1,to:`/${k.value??""}`},{default:(0,n.withCtx)((()=>s[1]||(s[1]=[(0,n.createElementVNode)("img",{src:l,class:"logo12333",id:"testelse",alt:"secure-check-logo"},null,-1)]))),_:1},8,["to"]))])]),(0,n.createElementVNode)("div",h,[(0,n.createElementVNode)("div",N,[(0,n.withDirectives)((0,n.createElementVNode)("p",null,(0,n.toDisplayString)(`${y.value}`)+" "+(0,n.toDisplayString)(`${(0,n.unref)(c)}/logo/${(0,n.unref)(m)?.logo}`),513),[[n.vShow,!1]]),(0,n.unref)(r)?((0,n.openBlock)(),(0,n.createElementBlock)("a",{key:0,onClick:o,class:"login-button",role:"button"}," Se Déconnecter ")):"Login"!=(0,n.unref)(a).name?((0,n.openBlock)(),(0,n.createBlock)(i,{key:1,to:"/sign-in",class:"login-button"},{default:(0,n.withCtx)((()=>s[2]||(s[2]=[(0,n.createTextVNode)(" Se Connecter ")]))),_:1})):((0,n.openBlock)(),(0,n.createBlock)(i,{key:2,to:"/request-meeting",class:"login-button"},{default:(0,n.withCtx)((()=>s[3]||(s[3]=[(0,n.createTextVNode)(" Visite ")]))),_:1})),(0,n.unref)(t).isManager(b.value)?((0,n.openBlock)(),(0,n.createBlock)(i,{key:3,to:`/${k.value??"scb"}/edit-company/${k.value}`,class:"login-button"},{default:(0,n.withCtx)((()=>s[4]||(s[4]=[(0,n.createTextVNode)(" Modifier Entreprise ")]))),_:1},8,["to"])):(0,n.createCommentVNode)("",!0)])])])])])}}};const y=k;var b=y;function C(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("div")}var w=a(7639);const _={},B=(0,w.A)(_,[["render",C]]);var S=B,R={__name:"HomeView",setup(e){return(e,t)=>{const a=(0,n.resolveComponent)("router-view");return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createVNode)(b),(0,n.createVNode)(a),(0,n.createVNode)(S)])}}};const x=R;var M=x,D=Object.assign({name:"App"},{__name:"App",setup(e){return(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createVNode)((0,n.unref)(M))]))}});const q=D;var I=q;function L(){const e=(0,n.ref)(""),t=(0,n.ref)(""),a=(0,n.ref)(!1),l=(0,n.ref)(null),o=(0,n.ref)(null),r=p(),s=(0,n.ref)(null),i=(0,n.ref)(null),u=async()=>{a.value=!0,l.value=null,o.value=null;try{const a=await c.post("/login_check",{username:e.value,password:t.value});o.value=a.status,localStorage.setItem("token",a.data.token),r.setToken(a.data.token);let n=d();return console.log({fetchResult:n}),s.value=n,a.data}catch(n){l.value="Login failed: "+(n.response?.data?.message||"Unknown error"),o.value=n.response.status,console.error(n)}finally{a.value=!1}},d=async()=>{try{const e=await c.get("/user/info");i.value=e.data,localStorage.setItem("userInfo",JSON.stringify(i.value))}catch(e){console.error("Failed to fetch user info:",e)}};return{username:e,password:t,loading:a,errorMessage:l,statusCode:o,company_name:s,userInfo:i,login:u}}const A={class:"background-gradi login-meeting"},T={class:"container"},U={class:"row align-items-center"},$={class:"col col-12 col-md-12 col-sm-12"},O={action:""},P={class:"submit-button"};var j={__name:"LoginView",setup(e){const{login:t,username:a,password:o,statusCode:r,company_name:c,userInfo:s}=L();(0,n.watch)(r,(e=>{switch(e){case 200:m.oR.success("Connexion réussie."),console.log({company_name:c}),setTimeout((()=>{window.location=s?.value?.company??"scb/menu"}),1500);break;case 201:m.oR.success("Utilisateur connecté avec succès.");break;case 400:m.oR.error("La requête est mal formée.");break;case 401:m.oR.error("Identifiants incorrects.");break;case 403:m.oR.error("  Accès refusé.");break;case 404:m.oR.error("La ressource demandée n'existe pas.");break;case 500:m.oR.error("Une erreur interne est survenue.");break;default:console.log(`Erreur inconnue - Code : ${e}`)}}));let i=localStorage.getItem("currentCompany");const u=(e,t)=>{console.info({params:e,valueAdded:t}),v[e]=t};return(0,n.onMounted)((async()=>{"/sign-in"==window.location.pathname&&(i?u("company_slug",i):i="")})),(e,r)=>((0,n.openBlock)(),(0,n.createElementBlock)("section",A,[(0,n.createElementVNode)("div",T,[(0,n.createElementVNode)("div",U,[(0,n.createElementVNode)("div",$,[r[6]||(r[6]=(0,n.createElementVNode)("div",{class:"popup-logo"},[(0,n.createElementVNode)("a",{href:"#"},[(0,n.createElementVNode)("img",{src:l,class:"",alt:"secure-check-logo"})])],-1)),(0,n.createElementVNode)("form",O,[(0,n.createElementVNode)("div",null,[r[3]||(r[3]=(0,n.createElementVNode)("label",{for:"client-email"},"Email",-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"email",id:"client-email",name:"client-email","onUpdate:modelValue":r[0]||(r[0]=e=>(0,n.isRef)(a)?a.value=e:null)},null,512),[[n.vModelText,(0,n.unref)(a)]]),r[4]||(r[4]=(0,n.createElementVNode)("br",null,null,-1))]),(0,n.createElementVNode)("div",null,[r[5]||(r[5]=(0,n.createElementVNode)("label",{for:"pwd"},"Mot de passe",-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"password",id:"pwd",name:"pwd","onUpdate:modelValue":r[1]||(r[1]=e=>(0,n.isRef)(o)?o.value=e:null)},null,512),[[n.vModelText,(0,n.unref)(o)]])]),(0,n.createElementVNode)("div",P,[(0,n.createElementVNode)("input",{type:"submit",value:"Soumettre",onClick:r[2]||(r[2]=(0,n.withModifiers)(((...e)=>(0,n.unref)(t)&&(0,n.unref)(t)(...e)),["prevent"]))})])])])])])]))}};const Q=j;var F=Q;function z(){const e=(0,n.ref)({name:"",firstname:"",email:"",password:"",title:"",contact:"",role:"ROLE_USER",status:!0,department_id:""}),t=(0,n.ref)(!1),a=(0,n.ref)(null),l=(0,n.ref)(null),o=(0,n.ref)(null),r=async()=>{t.value=!0,a.value=null,l.value=null;try{const t=await c.post("/user/create",e.value);return o.value=t.status,l.value="Utilisateur créé avec succès !",t.data}catch(n){a.value="Erreur lors de la création de l'utilisateur : "+(n.response?.data?.message||"Erreur inconnue"),o.value=n.response?.status||500,console.error(n)}finally{t.value=!1}};return{user:e,loading:t,errorMessage:a,successMessage:l,statusCode:o,createUser:r}}function J(){const e=(0,n.ref)([]),t=(0,n.ref)(!1),a=(0,n.ref)(null),l=(0,n.ref)(null),o=async()=>{t.value=!0,a.value=null;try{const t=await c.get("/departement/list",{params:{name:"IT Department",location:"Building A"}});e.value=t.data,l.value=t.status}catch(n){l.value=n.response?.status||500,a.value="Erreur lors de la récupération des départements : "+(n.response?.data?.message||"Erreur inconnue"),console.error(n)}finally{t.value=!1}};return{departements:e,loading:t,errorMessage:a,statusCode:l,fetchDepartements:o}}const H={class:"background-gradi"},W={class:"request-meeting meeting-form"},Y={class:"container"},G={class:"row align-items-center"},K={class:"col col-12 col-md-12 col-sm-12"},Z={key:0,value:"ROLE_USER"},X={key:1,value:"ROLE_EMPLOYEE"},ee={key:2,value:"ROLE_SUPERVISOR"},te={key:3,value:"ROLE_SecureCheck"},ae={key:4,value:"ROLE_MANAGER"},ne={key:5,value:"ROLE_ADMIN"},le={key:6,value:"ROLE_SUPER_ADMIN"},oe=["value"],re=["value"],ce=["value"],se={key:0},ie={key:1},ue={class:"submit-button"},de=["disabled"],me={key:0,class:"error"};var pe={__name:"CreateUserView",setup(e){const{user:t,loading:a,errorMessage:l,successMessage:o,createUser:r,statusCode:c}=z(),{departements:u,fetchDepartements:d}=J(),v=(0,s.rd)(),{companies:f,fetchCompanies:g}=i(),E=()=>{r()},V=p(),h=(0,n.ref)(),N=(0,n.ref)();N.value=JSON.parse(localStorage.getItem("userInfo")),h.value=N.value?.roles[0],(0,n.onMounted)((async()=>{await d(),await g()})),(0,n.watch)(c,(e=>{switch(e){case 200:m.oR.success("OK - Utilisateur créé avec succès."),m.oR.info(o),v.push(localStorage.getItem("currentCompany")??"/scb/menu");break;case 201:m.oR.success("Created - L'utilisateur a été créé avec succès."),setTimeout((()=>{v.push({name:"Menu",params:{domain:y.value??localStorage.getItem("currentCompany")}})}),1400);break;case 400:m.oR.info("Bad Request - La requête est mal formée.");break;case 401:m.oR.info("Unauthorized - Vous devez être authentifié.");break;case 403:m.oR.info("Forbidden - Vous n'avez pas la permission.");break;case 404:m.oR.info("Not Found - La ressource demandée n'existe pas.");break;case 500:m.oR.info("Internal Server Error - Une erreur interne est survenue.");break;default:m.oR.info(`Erreur inconnue - Code : ${e}`)}}));const k=(0,s.lq)(),y=(0,n.ref)(k.params.domain||"scb"),b=()=>{v.push({name:"Menu",params:{domain:y.value}})},{showCompany:C,company:w}=i();return(0,n.onBeforeMount)((async()=>{if(console.log("Host:",window.location.host),console.log("Path:",window.location.pathname),"/sign-in"!=window.location.pathname){let e=localStorage.getItem("currentCompany");e?await C(e):e=""}})),(e,o)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",H,[(0,n.createElementVNode)("section",W,[(0,n.createElementVNode)("div",Y,[(0,n.createElementVNode)("div",G,[(0,n.createElementVNode)("div",K,[(0,n.createElementVNode)("div",{class:"d-flex justify-content-center align-items-center"},[(0,n.createElementVNode)("div",{class:"d-flex justify-content-start mb-4 gap-3 align-items-center"},[(0,n.createElementVNode)("button",{class:"back",onClick:b},"Retour"),o[10]||(o[10]=(0,n.createElementVNode)("h3",null,"Création Utilisateur",-1))])]),(0,n.createElementVNode)("form",{onSubmit:(0,n.withModifiers)(E,["prevent"])},[(0,n.createElementVNode)("div",null,[o[11]||(o[11]=(0,n.createElementVNode)("label",{for:"name"},"Nom",-1)),o[12]||(o[12]=(0,n.createElementVNode)("br",null,null,-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text",id:"name","onUpdate:modelValue":o[0]||(o[0]=e=>(0,n.unref)(t).name=e)},null,512),[[n.vModelText,(0,n.unref)(t).name]]),o[13]||(o[13]=(0,n.createElementVNode)("br",null,null,-1))]),(0,n.createElementVNode)("div",null,[o[14]||(o[14]=(0,n.createElementVNode)("label",{for:"firstname"},"Prénom",-1)),o[15]||(o[15]=(0,n.createElementVNode)("br",null,null,-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text",id:"firstname","onUpdate:modelValue":o[1]||(o[1]=e=>(0,n.unref)(t).firstname=e)},null,512),[[n.vModelText,(0,n.unref)(t).firstname]]),o[16]||(o[16]=(0,n.createElementVNode)("br",null,null,-1))]),(0,n.createElementVNode)("div",null,[o[17]||(o[17]=(0,n.createElementVNode)("label",{for:"email"},"Email",-1)),o[18]||(o[18]=(0,n.createElementVNode)("br",null,null,-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"email",id:"email","onUpdate:modelValue":o[2]||(o[2]=e=>(0,n.unref)(t).email=e)},null,512),[[n.vModelText,(0,n.unref)(t).email]]),o[19]||(o[19]=(0,n.createElementVNode)("br",null,null,-1))]),(0,n.createElementVNode)("div",null,[o[20]||(o[20]=(0,n.createElementVNode)("label",{for:"password"},"Mot de passe",-1)),o[21]||(o[21]=(0,n.createElementVNode)("br",null,null,-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"password",id:"password","onUpdate:modelValue":o[3]||(o[3]=e=>(0,n.unref)(t).password=e)},null,512),[[n.vModelText,(0,n.unref)(t).password]]),o[22]||(o[22]=(0,n.createElementVNode)("br",null,null,-1))]),(0,n.createElementVNode)("div",null,[o[23]||(o[23]=(0,n.createElementVNode)("label",{for:"title"},"Titre",-1)),o[24]||(o[24]=(0,n.createElementVNode)("br",null,null,-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text",id:"title","onUpdate:modelValue":o[4]||(o[4]=e=>(0,n.unref)(t).title=e)},null,512),[[n.vModelText,(0,n.unref)(t).title]]),o[25]||(o[25]=(0,n.createElementVNode)("br",null,null,-1))]),(0,n.createElementVNode)("div",null,[o[26]||(o[26]=(0,n.createElementVNode)("label",{for:"contact"},"Numéro de téléphone",-1)),o[27]||(o[27]=(0,n.createElementVNode)("br",null,null,-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text",id:"contact","onUpdate:modelValue":o[5]||(o[5]=e=>(0,n.unref)(t).contact=e)},null,512),[[n.vModelText,(0,n.unref)(t).contact]]),o[28]||(o[28]=(0,n.createElementVNode)("br",null,null,-1))]),(0,n.createElementVNode)("div",null,[o[29]||(o[29]=(0,n.createElementVNode)("label",{for:"role"},"Rôle",-1)),o[30]||(o[30]=(0,n.createElementVNode)("br",null,null,-1)),(0,n.withDirectives)((0,n.createElementVNode)("select",{id:"role","onUpdate:modelValue":o[6]||(o[6]=e=>(0,n.unref)(t).role=e),name:"country",class:"form-control"},[(0,n.unref)(V).isAdmin(h.value)||(0,n.unref)(V).isSupervisor(h.value)||(0,n.unref)(V).isManager(h.value)||(0,n.unref)(V).isManager(h.value)||(0,n.unref)(V).isSecureCheck(h.value)?((0,n.openBlock)(),(0,n.createElementBlock)("option",Z," Utilisateur ")):(0,n.createCommentVNode)("",!0),(0,n.unref)(V).isAdmin(h.value)||(0,n.unref)(V).isSupervisor(h.value)||(0,n.unref)(V).isManager(h.value)||(0,n.unref)(V).isSecureCheck(h.value)?((0,n.openBlock)(),(0,n.createElementBlock)("option",X," Employé ")):(0,n.createCommentVNode)("",!0),(0,n.unref)(V).isAdmin(h.value)||(0,n.unref)(V).isManager(h.value)||(0,n.unref)(V).isSecureCheck(h.value)?((0,n.openBlock)(),(0,n.createElementBlock)("option",ee," Superviseur ")):(0,n.createCommentVNode)("",!0),(0,n.unref)(V).isAdmin(h.value)?((0,n.openBlock)(),(0,n.createElementBlock)("option",te," Secure Check ")):(0,n.createCommentVNode)("",!0),(0,n.unref)(V).isAdmin(h.value)?((0,n.openBlock)(),(0,n.createElementBlock)("option",ae," Manager ")):(0,n.createCommentVNode)("",!0),(0,n.unref)(V).isAdmin(h.value)?((0,n.openBlock)(),(0,n.createElementBlock)("option",ne," Admin ")):(0,n.createCommentVNode)("",!0),(0,n.unref)(V).isAdmin(h.value)||(0,n.unref)(V).isSupervisor(h.value)||(0,n.unref)(V).isManager(h.value)?((0,n.openBlock)(),(0,n.createElementBlock)("option",le,"Super Admin")):(0,n.createCommentVNode)("",!0)],512),[[n.vModelSelect,(0,n.unref)(t).role]]),o[31]||(o[31]=(0,n.createElementVNode)("br",null,null,-1))]),(0,n.createElementVNode)("div",null,[o[32]||(o[32]=(0,n.createElementVNode)("label",{for:"department"},"Department",-1)),o[33]||(o[33]=(0,n.createElementVNode)("br",null,null,-1)),(0,n.withDirectives)((0,n.createElementVNode)("select",{"onUpdate:modelValue":o[7]||(o[7]=e=>(0,n.unref)(t).department_id=e),id:"department",name:"department",class:"form-control"},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(u),(e=>((0,n.openBlock)(),(0,n.createElementBlock)("option",{key:e.id,value:e.id},(0,n.toDisplayString)(e.name),9,oe)))),128))],512),[[n.vModelSelect,(0,n.unref)(t).department_id]]),o[34]||(o[34]=(0,n.createElementVNode)("br",null,null,-1))]),(0,n.createElementVNode)("div",null,[o[35]||(o[35]=(0,n.createElementVNode)("label",{for:"company"},"Entreprise",-1)),o[36]||(o[36]=(0,n.createElementVNode)("br",null,null,-1)),"scb"==(0,n.unref)(w)?.slug?(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("select",{key:0,"onUpdate:modelValue":o[8]||(o[8]=e=>(0,n.unref)(t).company_id=e),id:"company",name:"company",class:"form-control"},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(f),(e=>((0,n.openBlock)(),(0,n.createElementBlock)("option",{key:e?.id,value:e?.id},(0,n.toDisplayString)(e?.name),9,re)))),128))],512)),[[n.vModelSelect,(0,n.unref)(t).company_id]]):(0,n.unref)(w)?.name?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("input",{key:1,type:"text",id:"name",value:(0,n.unref)(w)?.name},null,8,ce))]),(0,n.withDirectives)((0,n.createElementVNode)("div",null,[o[37]||(o[37]=(0,n.createElementVNode)("label",{for:"status"},"Statut",-1)),o[38]||(o[38]=(0,n.createElementVNode)("br",null,null,-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"checkbox",id:"status","onUpdate:modelValue":o[9]||(o[9]=e=>(0,n.unref)(t).status=e)},null,512),[[n.vModelCheckbox,(0,n.unref)(t).status]]),(0,n.unref)(t).status?((0,n.openBlock)(),(0,n.createElementBlock)("span",se,"Actif")):((0,n.openBlock)(),(0,n.createElementBlock)("span",ie,"Inactif")),o[39]||(o[39]=(0,n.createElementVNode)("br",null,null,-1))],512),[[n.vShow,!1]]),(0,n.createElementVNode)("div",ue,[(0,n.createElementVNode)("input",{type:"submit",value:"Soumettre",disabled:(0,n.unref)(a)},null,8,de)]),(0,n.unref)(l)?((0,n.openBlock)(),(0,n.createElementBlock)("p",me,(0,n.toDisplayString)((0,n.unref)(l)),1)):(0,n.createCommentVNode)("",!0)],32)])])])])]))}};const ve=pe;var fe=ve;function ge(){const e=(0,n.ref)(null),t=(0,n.ref)(null),a=(0,n.ref)(null),l=async n=>{try{const t=await c.post("/visitor/create",n);return e.value=t.status,a.value=t.data.data.visitor_id,console.log({data___:t.data,visitorId___:a.value}),t.data}catch(l){throw e.value=l.response?.status,t.value=l.response?.data?.message||"An unexpected error occurred",new Error(t.value)}};return{createVisitor:l,statusCode:e,errorMessage:t,visitorId:a}}const Ee=()=>{const e=(0,n.ref)(null),t=(0,n.ref)(null),a=async()=>{try{const t=await c.get("/user/info");e.value=t.data}catch(a){t.value=a.response?.data?.error||"Failed to fetch user info"}};return{userInfo:e,error:t,fetchUserInfo:a}};function Ve(){const e=(0,n.ref)(!1),t=(0,n.ref)(null),a=(0,n.ref)(null),l=(0,n.ref)(null),o=async n=>{e.value=!0,t.value=null;try{const e=await c.post("/requests/create",n);return a.value=e.data.data.id,l.value=e.status,e.data}catch(o){throw t.value=o.response?o.response.data:o.message,t.value}finally{e.value=!1}};return{loading:e,error:t,createVisitRequest:o,requestId:a,statusCodeReq:l}}function he(){const e=(0,n.ref)(!1),t=(0,n.ref)(),a=(0,n.ref)(null),l=(0,n.ref)(null),o=(0,n.ref)(null),r=async t=>{e.value=!0,a.value=null,l.value=null,o.value=null;try{const e=await c.post("/evenement/create",t,{headers:{"Content-Type":"application/json"}});o.value=e.status,l.value="Événement créé avec succès !"}catch(n){n.response?(o.value=n.response.status,a.value=`Erreur: ${n.response.status} - ${n.response.data.message||"Erreur lors de la création de l’événement."}`):a.value="Erreur réseau ou serveur non joignable.",console.error(n)}finally{e.value=!1}},s=async n=>{e.value=!0,a.value=null,l.value=null,o.value=null;try{const e=await c.get("/evenement/"+n);t.value=e.data.data,o.value=e.status,l.value="Événement Rétrouvé"}catch(r){r.response?(o.value=r.response.status,a.value=`Erreur: ${r.response.status} - ${r.response.data.message||"Erreur lors de la recherche de l’événement."}`):a.value="Erreur réseau ou serveur non joignable.",console.error(r)}finally{e.value=!1}};return{loading:e,errorMessage:a,successMessage:l,statusCode:o,createEvent:r,showEvent:s,event:t}}const Ne={class:"request-meeting"},ke={class:"background-gradi"},ye={class:"request-meeting meeting-form"},be={class:"row align-items-center"},Ce={class:"col col-12 col-md-12 col-sm-12"},we={class:"d-flex justify-content-start align-items-center gap-5 mb-3"},_e={key:0,class:"text-center"},Be={key:0,class:"text-center pb-3"},Se={key:0,value:"1"},Re={class:"submit-button"},xe=["disabled"],Me={key:0,class:"error"};var De={__name:"CreateVisitorView",setup(e){const t=(0,n.ref)(),a=(0,n.ref)();a.value=JSON.parse(localStorage.getItem("userInfo")),t.value=a.value?.roles[0];const{userInfo:l,fetchUserInfo:o}=Ee(),{createVisitor:r,statusCode:c,visitorId:u}=ge(),{createVisitRequest:d,requestId:v,statusCodeReq:f}=Ve(),{showCompany:g,company:E}=i(),{showEvent:V,event:h}=he(),N=p(),k=N.isAuthenticated(),y=(0,s.rd)(),b=(0,s.lq)(),C=(0,n.ref)({user_id:l?.value?.id,evenements_id:h?.value?.id??null,company_id:E?.value?.id??null,firstname:"",lastname:"",email:"",contact:"",address:"",id_number:"",organisation_name:"",visitor_type:""}),w=(0,n.ref)({user_id:l?.value?.id,visitor_id:"",host:""}),_=(0,n.ref)(""),B=(0,n.ref)(!1),S=async()=>{C.value.user_id=l?.value?.id;try{C.value.evenements_id=h?.value?.id,C.value.company_id=E?.value?.id,await r(C.value),w.value.visitor_id=u.value,w.value.user_id=l?.value?.id,w.value.user_id=l?.value?.id,await d(w.value)}catch(e){_.value=`Erreur: ${e.message}`}finally{B.value=!1}},R=(0,n.ref)(b.params.domain||"scb"),x=(0,n.ref)("");return(0,n.onBeforeMount)((async()=>{b.params.slug&&(await V(b.params.slug),x.value=h.value.name),R.value&&(await g(R.value),y.push({name:"CreateVisitor",params:{domain:R.value}})),await o()})),(0,n.watch)(c,(e=>{switch(e){case 201:k?(m.oR.success("Visiteur créé avec succès."),N.isEmployee(t.value)):(m.oR.success("Demande créé avec succès."),setTimeout((()=>{y.push({name:"RequestMeeting",params:{domain:R.value,id:v.value}})}),2e3));break;case 200:k?(m.oR.success("Visiteur créé avec succès."),N.isEmployee(t.value)?setTimeout((()=>{y.push({name:"WaitingValidation",params:{domain:R,id:v.value}})}),1500):(m.oR.success("Visiteur créé avec succès."),y.push({name:"Menu",params:{domain:R}}))):(m.oR.success("Demande créé avec succès."),alert(200),setTimeout((()=>{y.push({name:"RequestMeeting",params:{domain:R.value,id:v.value}})}),1500));break;case 400:m.oR.info("La requête est mal formée.");break;case 401:m.oR.info("Vous devez être authentifié."),setTimeout((()=>{y.push({name:"RequestMeeting",params:{domain:R,id:v.value}})}),1500);break;case 403:m.oR.info("Vous n'avez pas la permission.");break;case 404:m.oR.info("La ressource demandée n'existe pas.");break;case 500:m.oR.info("Une erreur interne est survenue.");break;default:m.oR.info(`Code : ${e}`)}})),(0,n.watch)(f,(e=>{switch(e){case 201:v?.value?setTimeout((()=>{y.push({name:"WaitingValidation",params:{domain:R.value,id:v.value}})}),1500):console.error("requestId est null ou undefined.");break;default:break}})),(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("section",Ne,[(0,n.createElementVNode)("div",ke,[(0,n.createElementVNode)("section",ye,[(0,n.createElementVNode)("div",be,[(0,n.createElementVNode)("div",Ce,[(0,n.createElementVNode)("div",we,[(0,n.createElementVNode)("button",{class:"back",onClick:t[0]||(t[0]=e=>(0,n.unref)(y).push(`/${R.value}/request-meeting`))}," Retour "),(0,n.unref)(E)?((0,n.openBlock)(),(0,n.createElementBlock)("h3",_e,(0,n.toDisplayString)((0,n.unref)(E).name),1)):(0,n.createCommentVNode)("",!0)]),x.value?((0,n.openBlock)(),(0,n.createElementBlock)("h3",Be,(0,n.toDisplayString)(x.value),1)):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("form",{onSubmit:(0,n.withModifiers)(S,["prevent"])},[(0,n.createElementVNode)("div",null,[t[12]||(t[12]=(0,n.createElementVNode)("label",{for:"visitor_type"},"Type de visiteur",-1)),t[13]||(t[13]=(0,n.createElementVNode)("br",null,null,-1)),(0,n.withDirectives)((0,n.createElementVNode)("select",{name:"visitor_type",id:"visitor_type",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>C.value.visitor_type=e)},[t[11]||(t[11]=(0,n.createElementVNode)("option",{value:"2"},"Temporaire",-1)),(0,n.unref)(N).isAuthenticated()?((0,n.openBlock)(),(0,n.createElementBlock)("option",Se," Permanent ")):(0,n.createCommentVNode)("",!0)],512),[[n.vModelSelect,C.value.visitor_type]])]),(0,n.createElementVNode)("div",null,[t[14]||(t[14]=(0,n.createElementVNode)("label",{for:"firstname"},"Prénom",-1)),t[15]||(t[15]=(0,n.createElementVNode)("br",null,null,-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text",id:"firstname","onUpdate:modelValue":t[2]||(t[2]=e=>C.value.firstname=e),required:""},null,512),[[n.vModelText,C.value.firstname]]),t[16]||(t[16]=(0,n.createElementVNode)("br",null,null,-1))]),(0,n.createElementVNode)("div",null,[t[17]||(t[17]=(0,n.createElementVNode)("label",{for:"lastname"},"Nom",-1)),t[18]||(t[18]=(0,n.createElementVNode)("br",null,null,-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text",id:"lastname","onUpdate:modelValue":t[3]||(t[3]=e=>C.value.lastname=e),required:""},null,512),[[n.vModelText,C.value.lastname]]),t[19]||(t[19]=(0,n.createElementVNode)("br",null,null,-1))]),(0,n.createElementVNode)("div",null,[t[20]||(t[20]=(0,n.createElementVNode)("label",{for:"email"},"Email",-1)),t[21]||(t[21]=(0,n.createElementVNode)("br",null,null,-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"email",id:"email","onUpdate:modelValue":t[4]||(t[4]=e=>C.value.email=e),required:""},null,512),[[n.vModelText,C.value.email]]),t[22]||(t[22]=(0,n.createElementVNode)("br",null,null,-1))]),(0,n.createElementVNode)("div",null,[t[23]||(t[23]=(0,n.createElementVNode)("label",{for:"id_number"},"Numéro de pièce d’identité",-1)),t[24]||(t[24]=(0,n.createElementVNode)("br",null,null,-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text",id:"id_number","onUpdate:modelValue":t[5]||(t[5]=e=>C.value.id_number=e),required:""},null,512),[[n.vModelText,C.value.id_number]]),t[25]||(t[25]=(0,n.createElementVNode)("br",null,null,-1))]),(0,n.createElementVNode)("div",null,[t[26]||(t[26]=(0,n.createElementVNode)("label",{for:"file"}," Pièce d’identité",-1)),t[27]||(t[27]=(0,n.createElementVNode)("br",null,null,-1)),(0,n.createElementVNode)("input",{type:"file",id:"file",onChange:t[6]||(t[6]=(...t)=>e.uploadFile&&e.uploadFile(...t))},null,32),t[28]||(t[28]=(0,n.createElementVNode)("br",null,null,-1))]),(0,n.createElementVNode)("div",null,[t[29]||(t[29]=(0,n.createElementVNode)("label",{for:"organisation_name"},"Employeur",-1)),t[30]||(t[30]=(0,n.createElementVNode)("br",null,null,-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text",id:"organisation_name","onUpdate:modelValue":t[7]||(t[7]=e=>C.value.organisation_name=e),required:""},null,512),[[n.vModelText,C.value.organisation_name]]),t[31]||(t[31]=(0,n.createElementVNode)("br",null,null,-1))]),(0,n.createElementVNode)("div",null,[t[32]||(t[32]=(0,n.createElementVNode)("label",{for:"contact"},"Contact",-1)),t[33]||(t[33]=(0,n.createElementVNode)("br",null,null,-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text",id:"contact","onUpdate:modelValue":t[8]||(t[8]=e=>C.value.contact=e),required:""},null,512),[[n.vModelText,C.value.contact]]),t[34]||(t[34]=(0,n.createElementVNode)("br",null,null,-1))]),(0,n.createElementVNode)("div",null,[t[35]||(t[35]=(0,n.createElementVNode)("label",{for:"address"},"Adresse",-1)),t[36]||(t[36]=(0,n.createElementVNode)("br",null,null,-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text",id:"address","onUpdate:modelValue":t[9]||(t[9]=e=>C.value.address=e),required:""},null,512),[[n.vModelText,C.value.address]]),t[37]||(t[37]=(0,n.createElementVNode)("br",null,null,-1))]),(0,n.createElementVNode)("div",null,[t[38]||(t[38]=(0,n.createElementVNode)("label",{for:"h-name"},"Nom d’hôte",-1)),t[39]||(t[39]=(0,n.createElementVNode)("br",null,null,-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text",id:"h-name",name:"h-name","onUpdate:modelValue":t[10]||(t[10]=e=>w.value.host=e)},null,512),[[n.vModelText,w.value.host]]),t[40]||(t[40]=(0,n.createElementVNode)("br",null,null,-1))]),(0,n.createElementVNode)("div",Re,[(0,n.createElementVNode)("input",{type:"submit",value:"Soumettre",disabled:B.value},null,8,xe)]),_.value?((0,n.openBlock)(),(0,n.createElementBlock)("p",Me,(0,n.toDisplayString)(_.value),1)):(0,n.createCommentVNode)("",!0)],32)])])])])]))}};const qe=De;var Ie=qe;const Le={class:"background-gradi selectcheckintype"},Ae={class:"container"},Te={class:"row align-items-center"},Ue={class:"col col-12 col-md-12 col-sm-12"},$e={class:"popup-logo"},Oe=["src","alt"],Pe={key:0,class:"selectcheck-all"},je={class:"selectcheckintype-btns"};var Qe={__name:"MenuView",setup(e){const t=(0,s.lq)(),a=(0,n.ref)(t.params.domain||"scb"),l=p(),o=l.isAuthenticated(),{publicDir:r}=d(),{showCompany:c,company:u}=i(),m=(0,n.ref)(localStorage.getItem("currentCompany")),f=(0,s.rd)(),g=(0,n.ref)(),E=(0,n.ref)();return E.value=JSON.parse(localStorage.getItem("userInfo")),g.value=E.value?.roles[0],(0,n.onMounted)((()=>{console.log("Rôle actuel :",g.value),console.log("isAuthenticated :",o),o||(console.log("RequestMeeting"),f.push({name:"RequestMeeting",params:{domain:a.value}}))})),(0,n.onBeforeMount)((async()=>{console.log("Host:",window.location.host),console.log("Path:",window.location.pathname),"/sign-in"!=window.location.pathname&&(m.value?await c(m.value):m.value="")})),(0,n.watch)((()=>v["company_slug"]),(async e=>{await c(localStorage.getItem("currentCompany")??e)})),(e,t)=>{const c=(0,n.resolveComponent)("router-link");return(0,n.openBlock)(),(0,n.createElementBlock)("section",Le,[(0,n.createElementVNode)("div",Ae,[(0,n.createElementVNode)("div",Te,[(0,n.createElementVNode)("div",Ue,[(0,n.createElementVNode)("div",$e,[(0,n.createVNode)(c,{to:{name:"RequestMeeting",params:{domain:a.value}}},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("img",{class:"logo logo12333",src:`${(0,n.unref)(r)}/logo/${(0,n.unref)(u)?.logo}`,alt:(0,n.unref)(u)?.logo},null,8,Oe)])),_:1},8,["to"])]),(0,n.unref)(o)?((0,n.openBlock)(),(0,n.createElementBlock)("div",Pe,[t[13]||(t[13]=(0,n.createElementVNode)("h5",null,[(0,n.createElementVNode)("span",null,"Veuillez sélectionner")],-1)),(0,n.createElementVNode)("div",je,[(0,n.unref)(l).isEmployee(g.value)||(0,n.unref)(l).isAdmin(g.value)||(0,n.unref)(l).isSuperAdmin(g.value)||(0,n.unref)(l).isUser(g.value)||(0,n.unref)(l).isManager(g.value)?((0,n.openBlock)(),(0,n.createBlock)(c,{key:0,to:{name:"CreateVisitor",params:{domain:a.value}},class:"mt-2"},{default:(0,n.withCtx)((()=>t[0]||(t[0]=[(0,n.createTextVNode)("Meetings")]))),_:1},8,["to"])):(0,n.createCommentVNode)("",!0),(0,n.unref)(l).isEmployee(g.value)||(0,n.unref)(l).isAdmin(g.value)||(0,n.unref)(l).isSupervisor(g.value)||(0,n.unref)(l).isSecureCheck(g.value)?((0,n.openBlock)(),(0,n.createBlock)(c,{key:1,to:{name:"ListQrcode",params:{domain:a.value}},class:"mt-2"},{default:(0,n.withCtx)((()=>t[1]||(t[1]=[(0,n.createTextVNode)("Demandes")]))),_:1},8,["to"])):(0,n.createCommentVNode)("",!0),(0,n.unref)(l).isAdmin(g.value)||(0,n.unref)(l).isEmployee(g.value)||(0,n.unref)(l).isSecureCheck(g.value)?((0,n.openBlock)(),(0,n.createBlock)(c,{key:2,to:{name:"ManalCheck",params:{domain:a.value}},class:"mt-2"},{default:(0,n.withCtx)((()=>t[2]||(t[2]=[(0,n.createTextVNode)("Manual Code")]))),_:1},8,["to"])):(0,n.createCommentVNode)("",!0),(0,n.unref)(l).isAdmin(g.value)||(0,n.unref)(l).isSupervisor(g.value)||(0,n.unref)(l).isSecureCheck(g.value)?((0,n.openBlock)(),(0,n.createBlock)(c,{key:3,to:{name:"CreateEvent",params:{domain:a.value}},class:"mt-2"},{default:(0,n.withCtx)((()=>t[3]||(t[3]=[(0,n.createTextVNode)(" Créer Event ")]))),_:1},8,["to"])):(0,n.createCommentVNode)("",!0),(0,n.unref)(l).isAdmin(g.value)||(0,n.unref)(l).isSupervisor(g.value)||(0,n.unref)(l).isManager(g.value)||(0,n.unref)(l).isSecureCheck(g.value)?((0,n.openBlock)(),(0,n.createBlock)(c,{key:4,to:{name:"EventList",params:{domain:a.value}},class:"mt-2"},{default:(0,n.withCtx)((()=>t[4]||(t[4]=[(0,n.createTextVNode)(" Liste Event ")]))),_:1},8,["to"])):(0,n.createCommentVNode)("",!0),(0,n.unref)(l).isAdmin(g.value)||(0,n.unref)(l).isSupervisor(g.value)||(0,n.unref)(l).isSecureCheck(g.value)?((0,n.openBlock)(),(0,n.createBlock)(c,{key:5,to:{name:"ListUser",params:{domain:a.value}},class:"mt-2"},{default:(0,n.withCtx)((()=>t[5]||(t[5]=[(0,n.createTextVNode)(" Utilisateurs ")]))),_:1},8,["to"])):(0,n.createCommentVNode)("",!0),(0,n.unref)(l).isAdmin(g.value)||(0,n.unref)(l).isManager(g.value)||(0,n.unref)(l).isSecureCheck(g.value)?((0,n.openBlock)(),(0,n.createBlock)(c,{key:6,to:{name:"CreateUser",params:{domain:a.value}},class:"mt-2"},{default:(0,n.withCtx)((()=>t[6]||(t[6]=[(0,n.createTextVNode)(" + Utilisateurs ")]))),_:1},8,["to"])):(0,n.createCommentVNode)("",!0),(0,n.unref)(l).isAdmin(g.value)||(0,n.unref)(l).isManager(g.value)||(0,n.unref)(l).isSecureCheck(g.value)?((0,n.openBlock)(),(0,n.createBlock)(c,{key:7,to:{name:"CreateCompany",params:{domain:a.value}},class:"mt-2"},{default:(0,n.withCtx)((()=>t[7]||(t[7]=[(0,n.createTextVNode)(" + Entreprise ")]))),_:1},8,["to"])):(0,n.createCommentVNode)("",!0),(0,n.unref)(l).isAdmin(g.value)||(0,n.unref)(l).isManager(g.value)||(0,n.unref)(l).isSecureCheck(g.value)?((0,n.openBlock)(),(0,n.createBlock)(c,{key:8,to:{name:"CompanyList",params:{domain:a.value}},class:"mt-2"},{default:(0,n.withCtx)((()=>t[8]||(t[8]=[(0,n.createTextVNode)(" Liste Entreprise ")]))),_:1},8,["to"])):(0,n.createCommentVNode)("",!0),(0,n.unref)(l).isAdmin(g.value)||(0,n.unref)(l).isSupervisor(g.value)||(0,n.unref)(l).isManager(g.value)||(0,n.unref)(l).isSecureCheck(g.value)?((0,n.openBlock)(),(0,n.createBlock)(c,{key:9,to:{name:"CreateQRCode",params:{domain:a.value}},class:"mt-2"},{default:(0,n.withCtx)((()=>t[9]||(t[9]=[(0,n.createTextVNode)(" + Création QRCode ")]))),_:1},8,["to"])):(0,n.createCommentVNode)("",!0),(0,n.unref)(l).isAdmin(g.value)||(0,n.unref)(l).isManager(g.value)||(0,n.unref)(l).isEmployee(g.value)?((0,n.openBlock)(),(0,n.createBlock)(c,{key:10,to:{name:"Camera",params:{domain:a.value}},class:"mt-2"},{default:(0,n.withCtx)((()=>t[10]||(t[10]=[(0,n.createTextVNode)(" QR Code ")]))),_:1},8,["to"])):(0,n.createCommentVNode)("",!0),(0,n.unref)(l).isAdmin(g.value)||(0,n.unref)(l).isSupervisor(g.value)||(0,n.unref)(l).isManager(g.value)||(0,n.unref)(l).isEmployee(g.value)||(0,n.unref)(l).isSecureCheck(g.value)?((0,n.openBlock)(),(0,n.createBlock)(c,{key:11,to:{name:"DisplayVisitorCode",params:{domain:a.value}},class:"mt-2"},{default:(0,n.withCtx)((()=>t[11]||(t[11]=[(0,n.createTextVNode)(" Lista de visitantes ")]))),_:1},8,["to"])):(0,n.createCommentVNode)("",!0),(0,n.unref)(l).isAdmin(g.value)||(0,n.unref)(l).isSupervisor(g.value)||(0,n.unref)(l).isManager(g.value)||(0,n.unref)(l).isEmployee(g.value)||(0,n.unref)(l).isSecureCheck(g.value)?((0,n.openBlock)(),(0,n.createBlock)(c,{key:12,to:{name:"DisplayEventAttendence",params:{domain:a.value}},class:"mt-2"},{default:(0,n.withCtx)((()=>t[12]||(t[12]=[(0,n.createTextVNode)(" asistencia al evento de la empresa ")]))),_:1},8,["to"])):(0,n.createCommentVNode)("",!0)])])):(0,n.createCommentVNode)("",!0)])])])])}}};const Fe=(0,w.A)(Qe,[["__scopeId","data-v-e5cf87de"]]);var ze=Fe;const Je={class:"background-gradi request-meeting"},He={class:"container"},We={class:"row align-items-center"},Ye={class:"col col-12 col-md-12 col-sm-12"},Ge={class:"popup-logo"},Ke=["src","alt"],Ze={key:0,class:"request-btn"},Xe={key:1,class:"request-btn"},et={key:2,class:"request-btn"},tt={key:3,class:"request-btn"},at={key:0,class:"request-btn"};var nt={__name:"RequestMeetingView",setup(e){const t=(0,n.ref)(JSON.parse(localStorage.getItem("userInfo"))||{}),a=p(),o=(0,n.ref)(t?.value?.roles?t.value.roles[0]:""),{showCompany:r,company:c}=i(),u=(0,s.lq)(),m=(0,s.rd)(),{publicDir:f}=d(),g=(e,t)=>{console.info({params:e,valueAdded:t}),v[e]=t},E=(0,n.ref)();return(0,n.onBeforeMount)((async()=>{E.value=u.params.domain||"scb",g("company_slug",E.value),localStorage.setItem("currentCompany",E.value);let e=localStorage.getItem("currentCompany"),t=localStorage.getItem("token");console.log(t),e?await r(e??E.value):e="",E.value&&m.push({name:"RequestMeeting",params:{domain:E.value}}),localStorage.setItem("roles_list",JSON.stringify(["ROLE_USER","ROLE_EMPLOYEE","ROLE_SUPERVISOR","ROLE_ADMIN","ROLE_SUPER_ADMIN","ROLE_SecureCheck"]))})),(e,t)=>{const r=(0,n.resolveComponent)("router-link");return(0,n.openBlock)(),(0,n.createElementBlock)("section",Je,[(0,n.createElementVNode)("div",He,[(0,n.createElementVNode)("div",We,[(0,n.createElementVNode)("div",Ye,[(0,n.createElementVNode)("div",Ge,[e.company_slug||(0,n.unref)(c)?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)(r,{key:0,to:"/"},{default:(0,n.withCtx)((()=>t[0]||(t[0]=[(0,n.createElementVNode)("img",{src:l,alt:"secure-check-logo"},null,-1)]))),_:1})),E.value&&(0,n.unref)(c)?((0,n.openBlock)(),(0,n.createBlock)(r,{key:1,to:"/"},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("img",{src:`${(0,n.unref)(f)}/logo/${(0,n.unref)(c)?.logo}`,alt:(0,n.unref)(c).slug},null,8,Ke)])),_:1})):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",null,[(0,n.unref)(a).isEmployee(o.value)||(0,n.unref)(a).isAdmin(o.value)||(0,n.unref)(a).isManager(o.value)?((0,n.openBlock)(),(0,n.createElementBlock)("div",Ze,[(0,n.createVNode)(r,{to:{name:"CreateVisitor",params:{domain:E.value}}},{default:(0,n.withCtx)((()=>t[1]||(t[1]=[(0,n.createTextVNode)(" Request-meeting ")]))),_:1},8,["to"])])):(0,n.unref)(a).isSupervisor(o.value)?((0,n.openBlock)(),(0,n.createElementBlock)("div",Xe)):(0,n.unref)(a).isSecureCheck(o.value)?((0,n.openBlock)(),(0,n.createElementBlock)("div",et)):((0,n.openBlock)(),(0,n.createElementBlock)("div",tt,[(0,n.createVNode)(r,{to:{name:"CreateVisitor",params:{domain:E.value}}},{default:(0,n.withCtx)((()=>t[2]||(t[2]=[(0,n.createTextVNode)(" Request-meeting ")]))),_:1},8,["to"])]))]),(0,n.unref)(a).isEmployee(o.value)||(0,n.unref)(a).isAdmin(o.value)||(0,n.unref)(a).isManager(o.value)||(0,n.unref)(a).isSupervisor(o.value)||(0,n.unref)(a).isSecureCheck(o.value)?((0,n.openBlock)(),(0,n.createElementBlock)("div",at,[(0,n.createVNode)(r,{to:{name:"Menu",params:{domain:E.value}}},{default:(0,n.withCtx)((()=>t[3]||(t[3]=[(0,n.createTextVNode)("Menu")]))),_:1},8,["to"])])):(0,n.createCommentVNode)("",!0)])])])])}}};const lt=nt;var ot=lt;function rt(){const e=(0,n.ref)(!1),t=(0,n.ref)(null),a=(0,n.ref)(null),l=async(n,l)=>{e.value=!0,t.value=null;try{const t=await c.put(`/requests/update/${n}`,l);return e.value=!1,a.value=t.data.data.uidn,t.data}catch(o){throw e.value=!1,t.value=o.response?.data?.message||"An error occurred",o}};return{isLoading:e,error:t,updateRequest:l,uidn:a}}const ct={class:"background-gradi request-meeting"},st={class:"container"},it={class:"row align-items-center"},ut={class:"col col-12 col-md-12 col-sm-12"},dt={key:0,class:"popup-logo"},mt=["src","alt"],pt={key:1,class:"popup-logo"},vt=["src"],ft={class:"text-center py-2"},gt={key:1},Et={key:2},Vt={key:1,class:"text-center"};var ht={__name:"waitingValidationView",setup(e){const t=p(),a=(0,s.lq)(),l=(0,n.ref)(!1),o=(0,n.ref)({status:"",confirmed:""}),{publicDir:r}=d(),{showCompany:c,company:u}=i(),f=(0,n.ref)(localStorage.getItem("currentCompany")),{isLoading:g,error:E,uidn:V,updateRequest:h}=rt(),N=(0,s.rd)(),k=()=>{N.push({name:"Menu",params:{domain:C.value,id:a.params.id}})},y=t.isAuthenticated(),b=async e=>{o.value.status=e,o.value.confirmed=e;try{await h(a.params.id,o.value),m.oR.success("Mise à jour éffectué"),l.value=!0}catch(t){console.log(E),console.error("Failed to update request:",t)}},C=(0,n.ref)(a.params.domain||"scb");return(0,n.onMounted)((()=>{C.value&&N.push({name:"WaitingValidation",params:{domain:C.value}})})),(0,n.onBeforeMount)((async()=>{console.log("Host:",window.location.host),console.log("Path:",window.location.pathname),"/sign-in"!=window.location.pathname&&(f.value?await c(f.value):f.value="")})),(0,n.watch)((()=>v["company_slug"]),(async e=>{await c(localStorage.getItem("currentCompany")??e)})),(e,t)=>{const a=(0,n.resolveComponent)("router-link");return(0,n.openBlock)(),(0,n.createElementBlock)("section",ct,[(0,n.createElementVNode)("div",st,[(0,n.createElementVNode)("div",it,[(0,n.createElementVNode)("div",ut,[l.value?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",dt,[(0,n.createVNode)(a,{to:{name:"RequestMeeting",params:{domain:C.value}}},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("img",{class:"logo logo12333",src:`${(0,n.unref)(r)}/logo/${(0,n.unref)(u)?.logo}`,alt:(0,n.unref)(u)?.logo},null,8,mt)])),_:1},8,["to"])])),l.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",pt,[(0,n.createVNode)(a,{to:"/"},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("img",{src:`${(0,n.unref)(r)}/qrcode/qrcode-${(0,n.unref)(V)}.png`,class:"",alt:"secure-check-logo"},null,8,vt)])),_:1}),(0,n.createElementVNode)("div",ft,[(0,n.createElementVNode)("h3",null,(0,n.toDisplayString)((0,n.unref)(V)),1)]),(0,n.unref)(y)?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:"request-btn",onClick:t[0]||(t[0]=e=>k()),role:"button"},t[3]||(t[3]=[(0,n.createElementVNode)("a",null,"Menu ",-1)]))):((0,n.openBlock)(),(0,n.createElementBlock)("div",gt,t[4]||(t[4]=[(0,n.createElementVNode)("h3",null,"Votre QRCode a été envoyé par e-mail, Merci",-1)])))])):(0,n.createCommentVNode)("",!0),l.value?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",Et,[(0,n.createElementVNode)("div",{class:"d-flex justify-content-center align-items-center"},[(0,n.createElementVNode)("div",{class:"d-flex justify-content-start mb-4 gap-3 align-items-center"},[(0,n.createElementVNode)("button",{class:"back",onClick:k}," Retour "),t[5]||(t[5]=(0,n.createElementVNode)("h3",{style:{display:"block ruby"},class:"text-center py-3"}," En attente de la confirmation de l'hôte ... ",-1))])]),(0,n.unref)(g)?((0,n.openBlock)(),(0,n.createElementBlock)("div",Vt,t[7]||(t[7]=[(0,n.createElementVNode)("h3",null,"Chargement .....",-1)]))):((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:"request-btn",onClick:t[1]||(t[1]=(0,n.withModifiers)((e=>b(1)),["prevent"]))},t[6]||(t[6]=[(0,n.createElementVNode)("a",null,"Valider ",-1)]))),(0,n.createElementVNode)("div",{class:"request-btn-cannel",onClick:t[2]||(t[2]=(0,n.withModifiers)((e=>b(0)),["prevent"]))},t[8]||(t[8]=[(0,n.createElementVNode)("a",null,"Annuler ",-1)]))]))])])])])}}};const Nt=(0,w.A)(ht,[["__scopeId","data-v-49472e17"]]);var kt=Nt;function yt(){const e=(0,n.ref)([]),t=(0,n.ref)(null),a=(0,n.ref)(!1),l=async()=>{a.value=!0;try{const t=await c.get("/requests/list");e.value=t.data}catch(n){t.value=n.response?n.response.data:"Error fetching data"}finally{a.value=!1}},o=async n=>{a.value=!0;try{const t=await c.get("/requests/list/"+n);console.log({response:t.data}),e.value=t.data}catch(l){t.value=l.response?l.response.data:"Error fetching data"}finally{a.value=!1}};return{requests:e,error:t,loading:a,fetchRequestsByComp:o,fetchRequests:l}}const bt={class:"container"},Ct={class:"d-flex justify-content-center align-items-center"},wt={class:"d-flex justify-content-start mb-4 gap-3 align-items-center"},_t={key:0,class:"mt-3"},Bt={key:1,class:"mt-3"},St={class:"text-center"},Rt={key:0},xt={class:"d-flex justify-content-center py-3"},Mt={key:0};var Dt={__name:"ListQrCodeView",setup(e){const{requests:t,error:a,fetchRequestsByComp:l,fetchRequests:o}=yt(),r=e=>{const t=new Date(e);return t.toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})},c=()=>{i.push({name:"Menu",params:{domain:y.value}})},i=(0,s.rd)(),u=(0,s.lq)(),d=(0,n.ref)(1),m=(0,n.ref)(10),v=e=>{i.push({name:"WaitingValidation",params:{domain:y.value,id:e}})},f=(0,n.computed)((()=>{const e=(d.value-1)*m.value,a=e+m.value;return u.params.slug?V.value.slice(e,a):t.value.slice(e,a)})),{showEvent:g,event:E}=he(),V=(0,n.computed)((()=>t.value.filter((e=>e.visitor.evenements?.id===E?.value?.id)))),h=(0,n.ref)(JSON.parse(localStorage.getItem("userInfo"))||{}),N=p(),k=(0,n.ref)(h?.value?.roles?h.value.roles[0]:""),y=(0,n.ref)(u.params.domain||"scb");return(0,n.onMounted)((async()=>{u?.params?.slug&&(await g(u?.params?.slug),console.log({requests:t}),console.log({event:E.value})),N.isAdmin(k.value)?await o():await l(y.value),t.value=V.value})),(e,l)=>{const o=(0,n.resolveComponent)("ui-icon"),s=(0,n.resolveComponent)("ui-pagination"),i=(0,n.resolveComponent)("ui-table");return(0,n.openBlock)(),(0,n.createElementBlock)("div",bt,[(0,n.createElementVNode)("div",Ct,[(0,n.createElementVNode)("div",wt,[(0,n.createElementVNode)("button",{class:"back",onClick:l[0]||(l[0]=e=>c())},"Retour"),(0,n.unref)(u)?.params?.slug?((0,n.openBlock)(),(0,n.createElementBlock)("h3",_t,"Liste Participants")):((0,n.openBlock)(),(0,n.createElementBlock)("h3",Bt,"Liste des demandes"))])]),(0,n.createElementVNode)("div",St,[(0,n.unref)(u)?.params?.slug?((0,n.openBlock)(),(0,n.createElementBlock)("h4",Rt,"Evenements : "+(0,n.toDisplayString)((0,n.unref)(E)?.name),1)):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",xt,[(0,n.createVNode)(i,{data:f.value,thead:["Visiteur","Host","Statut","Date Création","Action"],tbody:[{slot:"visitor"},"host",{slot:"confirmed"},{slot:"request_date"},{slot:"actions"}]},{visitor:(0,n.withCtx)((({data:e})=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.visitor.firstname)+" "+(0,n.toDisplayString)(e.visitor.lastname),1)])),request_date:(0,n.withCtx)((({data:e})=>[(0,n.createTextVNode)((0,n.toDisplayString)(r(e.request_date)),1)])),confirmed:(0,n.withCtx)((({data:e})=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.confirmed?"Confirmé":"En attente"),1)])),actions:(0,n.withCtx)((({data:e})=>[(0,n.createVNode)(o,{role:"button",onClick:t=>v(e.id)},{default:(0,n.withCtx)((()=>l[2]||(l[2]=[(0,n.createTextVNode)(" edit ")]))),_:2},1032,["onClick"])])),default:(0,n.withCtx)((()=>[(0,n.unref)(u)?.params?.slug?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)(s,{key:0,modelValue:d.value,"onUpdate:modelValue":[l[1]||(l[1]=e=>d.value=e),e.onPage],total:(0,n.unref)(t).length,"show-total":""},null,8,["modelValue","total","onUpdate:modelValue"]))])),_:1},8,["data"])]),(0,n.unref)(a)?((0,n.openBlock)(),(0,n.createElementBlock)("div",Mt,(0,n.toDisplayString)((0,n.unref)(a)),1)):(0,n.createCommentVNode)("",!0)])}}};const qt=(0,w.A)(Dt,[["__scopeId","data-v-60912cbc"]]);var It=qt;const Lt={class:"background-gradi request-meeting"},At={class:"container"},Tt={class:"row align-items-center"},Ut={class:"col col-12 col-md-12 col-sm-12"},$t={key:0,class:"popup-logo"},Ot=["src","alt"],Pt={key:1,class:"popup-logo"},jt=["src"],Qt={class:"text-center py-2"},Ft={key:1};var zt={__name:"QrCodeView",setup(e){const t=(0,s.lq)(),a=(0,s.rd)(),l=(0,n.ref)(!1),{showCompany:o,company:r}=i(),c=(0,n.ref)(localStorage.getItem("currentCompany")),u=(0,n.ref)(t.params.domain||"scb"),d=()=>{a.push({name:"Menu",params:{domain:u.value}})};return(0,n.onMounted)((()=>{u.value&&a.push({name:"ManalCheck",params:{domain:u.value}})})),(0,n.onBeforeMount)((async()=>{console.log("Host:",window.location.host),console.log("Path:",window.location.pathname),"/sign-in"!=window.location.pathname&&(c.value?await o(c.value):c.value="")})),(0,n.watch)((()=>v["company_slug"]),(async e=>{await o(localStorage.getItem("currentCompany")??e)})),(e,t)=>{const a=(0,n.resolveComponent)("router-link");return(0,n.openBlock)(),(0,n.createElementBlock)("section",Lt,[(0,n.createElementVNode)("div",At,[(0,n.createElementVNode)("div",Tt,[(0,n.createElementVNode)("div",Ut,[l.value?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",$t,[(0,n.createVNode)(a,{to:"/"},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("img",{class:"logo logo12333",src:`${e.publicDir}/logo/${(0,n.unref)(r)?.logo}`,alt:(0,n.unref)(r)?.logo},null,8,Ot)])),_:1})])),l.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",Pt,[(0,n.createVNode)(a,{to:"/"},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("img",{src:`${e.publicDir}/qrcode/qrcode-${e.uidn}.png`,class:"",alt:"secure-check-logo"},null,8,jt)])),_:1}),(0,n.createElementVNode)("div",Qt,[(0,n.createElementVNode)("h3",null,(0,n.toDisplayString)(e.uidn),1)]),e.isAuthenticated?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:"request-btn",onClick:t[0]||(t[0]=e=>d()),role:"button"},t[1]||(t[1]=[(0,n.createElementVNode)("a",null,"Menu ",-1)]))):((0,n.openBlock)(),(0,n.createElementBlock)("div",Ft,t[2]||(t[2]=[(0,n.createElementVNode)("h3",null,"Votre QRCode a été envoyé par e-mail, Merci",-1)])))])):(0,n.createCommentVNode)("",!0)])])])])}}};const Jt=(0,w.A)(zt,[["__scopeId","data-v-6ede9443"]]);var Ht=Jt;function Wt(){const e=(0,n.ref)(null),t=(0,n.ref)(null),a=(0,n.ref)(null),l=async(n,l)=>{try{const t=await o.A.post("https://www.securecheck.info/api/create-qr",{email:n,type:l},{headers:{"Content-Type":"application/json"}});e.value=t.data,a.value=t.status}catch(r){t.value=r.response?r.response.data:r.message,a.value=r.response?r.response.status:null}};return{qrResponse:e,error:t,statusCode:a,createQR:l}}const Yt={class:"background-gradi request-meeting"},Gt={class:"container"},Kt={class:"row align-items-center mt-3"},Zt={class:"col col-12 col-md-12 col-sm-12"},Xt={key:0,class:"popup-logo"},ea=["src","alt"],ta={class:"popup-logo"},aa=["src"],na={style:{"margin-top":"40px"}},la={class:"submit-button"},oa=["disabled"],ra={key:2,style:{"margin-top":"40px"}};var ca={__name:"CreateQRCodeView",setup(e){const{showCompany:t,company:a}=i(),l=(0,n.ref)(localStorage.getItem("currentCompany")),o=(0,s.lq)(),r=(0,s.rd)(),c=(0,n.ref)(!1),{publicDir:u}=d(),p=(0,n.ref)(),f=(0,n.ref)(),g=(0,n.ref)(),{createQR:E,statusCode:V,qrResponse:h}=Wt(),N=(0,n.ref)(o.params.domain||"scb"),k=()=>{r.push({name:"Menu",params:{domain:N.value}})};(0,n.onMounted)((()=>{N.value&&r.push({name:"CreateQRCode",params:{domain:N.value}})}));const y=async()=>{await E(p.value,f.value)};return(0,n.watch)(V,(e=>{switch(e){case 200:m.oR.success(" QRCode a créé avec succès."),V.value=200,c.value=!0,console.log({qrResponse:h}),g.value=h.value.data.uidn;break;case 201:m.oR.success("QRCode a créé avec succès."),V.value=201,console.log({qrResponse:h}),g.value=h.value.data.uidn;break;case 400:m.oR.info("Bad Request - La requête est mal formée.");break;case 401:m.oR.info("Unauthorized - Vous devez être authentifié.");break;case 403:m.oR.info("Forbidden - Vous n'avez pas la permission.");break;case 404:m.oR.info("L'utilisateur n'existe pas"),V.value=null;break;case 500:m.oR.info("Internal Server Error - Une erreur interne est survenue.");break;default:}})),(0,n.onBeforeMount)((async()=>{console.log("Host:",window.location.host),console.log("Path:",window.location.pathname),"/sign-in"!=window.location.pathname&&(l.value?await t(l.value):l.value="")})),(0,n.watch)((()=>v["company_slug"]),(async e=>{await t(localStorage.getItem("currentCompany")??e)})),(e,t)=>{const l=(0,n.resolveComponent)("router-link");return(0,n.openBlock)(),(0,n.createElementBlock)("section",Yt,[(0,n.createElementVNode)("div",Gt,[(0,n.createElementVNode)("div",Kt,[(0,n.createElementVNode)("div",Zt,[c.value?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",Xt,[(0,n.createVNode)(l,{to:"/"},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("img",{class:"logo logo123",src:`${(0,n.unref)(u)}/logo/${(0,n.unref)(a)?.logo}`,alt:(0,n.unref)(a)?.logo},null,8,ea)])),_:1})])),(0,n.createElementVNode)("div",{"data-v-74f17804":"",style:{"margin-top":"30px"},class:"d-flex justify-content-center align-items-center"},[(0,n.createElementVNode)("div",{"data-v-74f17804":"",class:"d-flex justify-content-start mb-4 gap-3 align-items-center"},[(0,n.createElementVNode)("button",{class:"back",onClick:k}," Retour "),t[3]||(t[3]=(0,n.createElementVNode)("h3",{"data-v-74f17804":"",class:"text-center"}," Création QRCode ",-1))])]),(0,n.createElementVNode)("div",ta,[c.value?((0,n.openBlock)(),(0,n.createBlock)(l,{key:0,to:"/"},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("img",{src:`${(0,n.unref)(u)}/qrcode-user/qrcode-${g.value}.png`,class:"",alt:"qr"},null,8,aa)])),_:1})):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("form",{onSubmit:(0,n.withModifiers)(y,["prevent"]),class:"mt-5"},[(0,n.createElementVNode)("div",null,[t[4]||(t[4]=(0,n.createElementVNode)("label",{for:"contact"},"Email",-1)),t[5]||(t[5]=(0,n.createElementVNode)("br",null,null,-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text",id:"contact","onUpdate:modelValue":t[0]||(t[0]=e=>p.value=e),class:"input_style"},null,512),[[n.vModelText,p.value]]),t[6]||(t[6]=(0,n.createElementVNode)("br",null,null,-1))]),(0,n.createElementVNode)("div",null,[t[8]||(t[8]=(0,n.createElementVNode)("label",{for:"type_qr"},"Type de QR",-1)),t[9]||(t[9]=(0,n.createElementVNode)("br",null,null,-1)),(0,n.withDirectives)((0,n.createElementVNode)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>f.value=e),id:"type_qr",name:"type_qr",class:"input_style"},t[7]||(t[7]=[(0,n.createElementVNode)("option",{value:"permanent"},"Permanent",-1),(0,n.createElementVNode)("option",{value:"temporaire"},"Temporaire",-1)]),512),[[n.vModelSelect,f.value]]),t[10]||(t[10]=(0,n.createElementVNode)("br",null,null,-1))]),(0,n.createElementVNode)("div",na,[(0,n.createElementVNode)("div",la,[(0,n.createElementVNode)("input",{type:"submit",value:"Soumettre",disabled:e.loading},null,8,oa)])])],32),e.isAuthenticated?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:1,class:"request-btn",onClick:t[2]||(t[2]=e=>k()),role:"button"},t[11]||(t[11]=[(0,n.createElementVNode)("a",null,"Menu ",-1)]))):(0,n.createCommentVNode)("",!0),c.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",ra,t[12]||(t[12]=[(0,n.createElementVNode)("h3",null,"Le QRCode a été envoyé par e-mail, Merci",-1)]))):(0,n.createCommentVNode)("",!0)])])])])])}}};const sa=(0,w.A)(ca,[["__scopeId","data-v-d40b8906"]]);var ia=sa;const ua=()=>{const e=(0,s.rd)(),t=(t,a)=>{e.push(`/${a}/${t}`)};return{goToRoute:t}};function da(){const e=(0,n.ref)(null),t=(0,n.ref)(""),a=(0,n.ref)(!1),l=(0,n.ref)(null),{baseUrl_:r}=d(),c=(0,s.rd)(),i=async(n,s)=>{if(""==n||null==n||"undefined"==typeof n)return m.oR.info("Veuillez renseigner le UIDN champ svp"),!1;a.value=!0;try{let a=r;const l=await o.A.get(`${a}/get-qr-data/${n}`,{params:{type:s}});e.value=l.data.status,t.value=l.data.message,"success"===e.value?(console.log("Succès:",t.value),m.oR.success(t.value),console.log(c)):(e.value,m.oR.error(t.value))}catch(i){l.value="Erreur lors de la vérification du QR code",console.error("API Error:",i),m.oR.error(i.response.data.message)}finally{a.value=!1}};return{status:e,message:t,loading:a,error:l,getQrData:i}}const ma={class:"background-gradi request-meeting"},pa={class:"container"},va={class:"row align-items-center"},fa={class:"col col-12 col-md-12 col-sm-12"},ga={key:0,class:"popup-logo"},Ea=["src","alt"],Va={key:1,class:"popup-logo"},ha={key:2};var Na={__name:"ManalCheckView",setup(e){const{publicDir:t}=d(),{showCompany:a,company:l}=i(),o=(0,n.ref)(localStorage.getItem("currentCompany")),r=(0,s.lq)(),c=(0,s.rd)(),u=(0,n.ref)(!1),{goToRoute:m}=ua(),{getQrData:p,status:f}=da(),g=(0,n.ref)(),E=async()=>{try{await p(g.value,1),u.value=200==f.value,console.log(r)}catch(e){console.error("Failed to update request:",e)}},V=(0,n.ref)(r.params.domain||"scb"),h=()=>{c.push({name:"Menu",params:{domain:V.value}})};return(0,n.onMounted)((()=>{V.value&&c.push({name:"ManalCheck",params:{domain:V.value}})})),(0,n.onBeforeMount)((async()=>{console.log("Host:",window.location.host),console.log("Path:",window.location.pathname),"/sign-in"!=window.location.pathname&&(o.value?await a(o.value):o.value="")})),(0,n.watch)((()=>v["company_slug"]),(async e=>{await a(localStorage.getItem("currentCompany")??e)})),(e,a)=>{const o=(0,n.resolveComponent)("router-link");return(0,n.openBlock)(),(0,n.createElementBlock)("section",ma,[(0,n.createElementVNode)("div",pa,[(0,n.createElementVNode)("div",va,[(0,n.createElementVNode)("div",fa,[u.value?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",ga,[(0,n.createVNode)(o,{to:"/"},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("img",{class:"logo logo12333",src:`${(0,n.unref)(t)}/logo/${(0,n.unref)(l)?.logo}`,alt:(0,n.unref)(l)?.logo},null,8,Ea)])),_:1})])),u.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",Va,[a[5]||(a[5]=(0,n.createElementVNode)("div",{class:"text-center py-2"},[(0,n.createElementVNode)("h3",null,"Bien éffectué")],-1)),(0,n.createElementVNode)("div",{class:"request-btn",onClick:a[0]||(a[0]=e=>(0,n.unref)(m)("/"))},a[4]||(a[4]=[(0,n.createElementVNode)("a",null,"Accueil ",-1)]))])):(0,n.createCommentVNode)("",!0),u.value?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",ha,[(0,n.createElementVNode)("div",{class:"d-flex justify-content-center align-items-center"},[(0,n.createElementVNode)("div",{class:"d-flex justify-content-start mb-4 gap-3 align-items-center"},[(0,n.createElementVNode)("button",{class:"back",onClick:h}," Retour "),a[6]||(a[6]=(0,n.createElementVNode)("h3",{class:"text-center py-3"},"Validation Manuelle UIDN",-1))])]),(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text",name:"uidn",id:"uidn",class:"uidn","onUpdate:modelValue":a[1]||(a[1]=e=>g.value=e),placeholder:"ENTREZ UUID",required:""},null,512),[[n.vModelText,g.value]]),e.isLoading?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:"request-btn",onClick:a[2]||(a[2]=(0,n.withModifiers)((e=>E()),["prevent"]))},a[7]||(a[7]=[(0,n.createElementVNode)("a",{role:"button"},"Valider ",-1)]))),(0,n.createElementVNode)("div",{class:"request-btn",onClick:a[3]||(a[3]=e=>h())},a[8]||(a[8]=[(0,n.createElementVNode)("a",{role:"button"},"Menu ",-1)]))]))])])])])}}};const ka=(0,w.A)(Na,[["__scopeId","data-v-51edbbe3"]]);var ya=ka;function ba(){const e=(0,n.ref)([]),t=(0,n.ref)(!1),a=(0,n.ref)(null),l=async()=>{t.value=!0,a.value=null;try{const t=await c.get("/user/list");e.value=t.data,console.log()}catch(n){a.value="Erreur lors de la récupération des utilisateurs."}finally{t.value=!1}},o=async n=>{t.value=!0,a.value=null;try{const t=await c.get("/user/list/"+n);e.value=t.data,console.log()}catch(l){a.value="Erreur lors de la récupération des utilisateurs."}finally{t.value=!1}};return{users:e,loading:t,error:a,fetchUsers:l,fetchUsersComp:o}}const Ca={class:"container"},wa={class:"d-flex justify-content-center py-3"},_a={key:0},Ba={key:1};var Sa={__name:"ListUserView",setup(e){const{fetchUsers:t,fetchUsersComp:a,users:l,loading:o,error:r}=ba(),c=(0,s.rd)(),i=e=>{const t=new Date(e);return t.toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})},u=(0,n.ref)(["ID","Nom","Email"]),d=(0,n.ref)(["id","name","email"]),m=(0,s.lq)(),v=(0,n.ref)(m.params.domain||"scb"),f=()=>{c.push({name:"Menu",params:{domain:v.value}})},g=(0,n.ref)(JSON.parse(localStorage.getItem("userInfo"))||{}),E=p(),V=(0,n.ref)(g?.value?.roles?g.value.roles[0]:"");return(0,n.onMounted)((async()=>{E.isAdmin(V.value)?await t():await a(v.value)})),(e,t)=>{const a=(0,n.resolveComponent)("ui-table");return(0,n.openBlock)(),(0,n.createElementBlock)("div",Ca,[(0,n.createElementVNode)("div",{class:"d-flex justify-content-center align-items-center"},[(0,n.createElementVNode)("div",{class:"d-flex justify-content-start mb-4 gap-3 align-items-center"},[(0,n.createElementVNode)("button",{class:"back",onClick:f},"Retour"),t[0]||(t[0]=(0,n.createElementVNode)("h3",{class:"text-center"},"Liste des Utilisateurs",-1))])]),(0,n.createElementVNode)("div",wa,[(0,n.createVNode)(a,{data:(0,n.unref)(l),thead:u.value,tbody:d.value},{create_at:(0,n.withCtx)((({row:e})=>[(0,n.createTextVNode)((0,n.toDisplayString)(i(e?.create_at)),1)])),_:1},8,["data","thead","tbody"])]),(0,n.unref)(o)?((0,n.openBlock)(),(0,n.createElementBlock)("div",_a,"Chargement des utilisateurs...")):(0,n.createCommentVNode)("",!0),(0,n.unref)(r)?((0,n.openBlock)(),(0,n.createElementBlock)("div",Ba,(0,n.toDisplayString)((0,n.unref)(r)),1)):(0,n.createCommentVNode)("",!0)])}}};const Ra=(0,w.A)(Sa,[["__scopeId","data-v-50082166"]]);var xa=Ra;const Ma={class:"request-meeting"},Da={class:"background-gradi"},qa={class:"request-meeting meeting-form"},Ia={class:"row align-items-center"},La={class:"col col-12 col-md-12 col-sm-12"},Aa={key:0,class:"d-flex justify-content-center"},Ta=["src"],Ua=["value"],$a={class:"submit-button"},Oa=["disabled"],Pa={key:0,class:"error"};var ja={__name:"EventView",setup(e){const{company:t}=d(),{showCompany:a,companies:l,fetchCompanies:o}=i(),r=(0,n.ref)(""),c=(0,n.ref)(),u=JSON.parse(localStorage.getItem("userInfo")),v=(0,n.ref)();v.value=u,c.value=v.value?.roles[0];const f=u.company??"",{createEvent:g,statusCode:E}=he(),{publicDir:V}=d(),h=p(),N=h.isAuthenticated(),k=(0,s.rd)(),y=(0,s.lq)(),b=(0,n.ref)(!1),C=(0,n.ref)(y.params.domain||"scb"),w=()=>{k.push({name:"Menu",params:{domain:C.value}})};(0,n.onMounted)((async()=>{await o()}));const _=(0,n.ref)({company_id:"",name:"",location:"",date_event:"",time_event:"14:30",departement_id:1}),B=async()=>{b.value=!0;try{await g(_.value)}catch(e){r.value=`Erreur: ${e.message}`}finally{b.value=!1}};return(0,n.onBeforeMount)((async()=>{try{let e=localStorage.getItem("currentCompany")??C?.value;console.log("Retrieved company_slug:",e),e?(console.log("Calling showCompany with:",e),await a(e)):(console.log("No company_slug found, setting company_slug to empty string."),e=""),N||(m.oR.info("L'utilisateur doit être connecté"),setTimeout((()=>{k.push({name:"RequestMeeting",params:{domain:C?.value}})}),1500))}catch(e){console.error("Error occurred during onBeforeMount:",e),m.oR.error("Erreur lors du chargement des données.")}})),(0,n.watch)(E,(e=>{switch(e){case 201:case 200:m.oR.success("Evénements ajouté"),setTimeout((()=>k.push({name:"Menu",params:{domain:C.value}})),1500);break;case 400:m.oR.info("La requête est mal formée.");break;case 401:m.oR.info("Vous devez être authentifié.");break;case 403:m.oR.info("Vous n'avez pas la permission.");break;case 404:m.oR.info("La ressource demandée n'existe pas.");break;case 500:m.oR.info("Une erreur interne est survenue.");break;default:m.oR.info(`Code : ${e}`)}})),(e,a)=>((0,n.openBlock)(),(0,n.createElementBlock)("section",Ma,[(0,n.createElementVNode)("div",Da,[(0,n.createElementVNode)("section",qa,[(0,n.createElementVNode)("div",Ia,[(0,n.createElementVNode)("div",La,[(0,n.createElementVNode)("div",{class:"d-flex justify-content-center align-items-center"},[(0,n.createElementVNode)("div",{class:"d-flex justify-content-start mb-4 gap-3 align-items-center"},[(0,n.createElementVNode)("button",{class:"back",onClick:w},"Retour"),a[7]||(a[7]=(0,n.createElementVNode)("h3",{class:"mt-3"},"Création Évènement",-1))])]),(0,n.unref)(t)?.logo?((0,n.openBlock)(),(0,n.createElementBlock)("div",Aa,[(0,n.createElementVNode)("img",{src:`${(0,n.unref)(V)}/logo/${(0,n.unref)(t)?.logo}`,height:"100",width:"100"},null,8,Ta)])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("form",{onSubmit:(0,n.withModifiers)(B,["prevent"])},[(0,n.createElementVNode)("div",null,[a[8]||(a[8]=(0,n.createElementVNode)("label",{for:"company_id"},"Entreprise",-1)),a[9]||(a[9]=(0,n.createElementVNode)("br",null,null,-1)),"ROLE_SUPERVISOR"===c.value?(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("input",{key:0,disabled:"",type:"text",id:"name","onUpdate:modelValue":a[0]||(a[0]=e=>(0,n.isRef)(f)?f.value=e:null),required:""},null,512)),[[n.vModelText,(0,n.unref)(f)]]):(0,n.createCommentVNode)("",!0),a[10]||(a[10]=(0,n.createElementVNode)("br",null,null,-1)),"ROLE_SUPERVISOR"!==c.value?(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("select",{key:1,id:"company_id","onUpdate:modelValue":a[1]||(a[1]=e=>_.value.company_id=e),class:"form-control"},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(l),(e=>((0,n.openBlock)(),(0,n.createElementBlock)("option",{key:e.id,value:e.id},(0,n.toDisplayString)(e.name),9,Ua)))),128))],512)),[[n.vModelSelect,_.value.company_id]]):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",null,[a[11]||(a[11]=(0,n.createElementVNode)("label",{for:"name"},"Nom de l'événement",-1)),a[12]||(a[12]=(0,n.createElementVNode)("br",null,null,-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text",id:"name","onUpdate:modelValue":a[2]||(a[2]=e=>_.value.name=e),placeholder:"Diner Gala SIKIHHK",required:""},null,512),[[n.vModelText,_.value.name]]),a[13]||(a[13]=(0,n.createElementVNode)("br",null,null,-1))]),(0,n.createElementVNode)("div",null,[a[14]||(a[14]=(0,n.createElementVNode)("label",{for:"location"},"Lieu de l'événement",-1)),a[15]||(a[15]=(0,n.createElementVNode)("br",null,null,-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text",id:"location","onUpdate:modelValue":a[3]||(a[3]=e=>_.value.location=e),placeholder:"SOCOCE",required:""},null,512),[[n.vModelText,_.value.location]]),a[16]||(a[16]=(0,n.createElementVNode)("br",null,null,-1))]),(0,n.createElementVNode)("div",null,[a[17]||(a[17]=(0,n.createElementVNode)("label",{for:"address_name"},"Adresse",-1)),a[18]||(a[18]=(0,n.createElementVNode)("br",null,null,-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text",id:"address_name","onUpdate:modelValue":a[4]||(a[4]=e=>_.value.address_name=e),placeholder:"Marcory",required:""},null,512),[[n.vModelText,_.value.address_name]]),a[19]||(a[19]=(0,n.createElementVNode)("br",null,null,-1))]),(0,n.createElementVNode)("div",null,[a[20]||(a[20]=(0,n.createElementVNode)("label",{for:"date_event"},"Date de l'événement",-1)),a[21]||(a[21]=(0,n.createElementVNode)("br",null,null,-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"date",id:"date_event","onUpdate:modelValue":a[5]||(a[5]=e=>_.value.date_event=e),placeholder:"2024-10-08",required:""},null,512),[[n.vModelText,_.value.date_event]]),a[22]||(a[22]=(0,n.createElementVNode)("br",null,null,-1))]),(0,n.createElementVNode)("div",null,[a[23]||(a[23]=(0,n.createElementVNode)("label",{for:"time_event"},"Heure de l'événement",-1)),a[24]||(a[24]=(0,n.createElementVNode)("br",null,null,-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"time",id:"time_event","onUpdate:modelValue":a[6]||(a[6]=e=>_.value.time_event=e),required:""},null,512),[[n.vModelText,_.value.time_event]]),a[25]||(a[25]=(0,n.createElementVNode)("br",null,null,-1))]),(0,n.createElementVNode)("div",$a,[(0,n.createElementVNode)("input",{type:"submit",value:"Soumettre",disabled:b.value},null,8,Oa)]),r.value?((0,n.openBlock)(),(0,n.createElementBlock)("p",Pa,(0,n.toDisplayString)(r.value),1)):(0,n.createCommentVNode)("",!0)],32)])])])])]))}};const Qa=ja;var Fa=Qa;const za=()=>{const e=e=>{const t=new Date(e);return t.toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})},t=e=>{const t=new Date(e);return t.toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})},a=e=>{const t=new Date(e),a=t.getHours().toString().padStart(2,"0"),n=t.getMinutes().toString().padStart(2,"0");return`${a}:${n}`};return{formatDate:t,formatDateHour:e,formatTime:a}};function Ja(){const e=(0,n.ref)([]),t=(0,n.ref)(!1),a=(0,n.ref)(null),l=async()=>{t.value=!0,a.value=null;try{const t=await c.get("/evenement/list");e.value=t.data,console.log()}catch(n){a.value="Erreur lors de la récupération des events."}finally{t.value=!1}},o=async n=>{t.value=!0,a.value=null;try{const t=await c.get("/evenement/list/"+n);e.value=t.data,console.log()}catch(l){a.value="Erreur lors de la récupération des utilisateurs."}finally{t.value=!1}};return{events:e,loading:t,error:a,fetchEvents:l,fetchEventsByComp:o}}const Ha={class:"container"},Wa={class:"d-flex justify-content-center align-items-center"},Ya={class:"d-flex justify-content-start mb-4 gap-3 align-items-center"},Ga={key:0},Ka={class:"d-flex justify-content-center"},Za={class:"d-flex justify-content-center"},Xa={key:1,class:"d-flex justify-content-center py-3"},en=["onClick","src","alt"],tn={key:1},an={key:2,class:"d-flex justify-content-center"},nn={key:3,class:"d-flex justify-content-center"};var ln={__name:"EventListView",setup(e){const{events:t,loading:a,error:l,fetchEventsByComp:o,fetchEvents:r}=Ja(),{formatDate:c,formatTime:i}=za(),{publicDir:u}=d(),v=(0,n.ref)(["ID","Entreprise","Nom","Lieu","Date","Heure","Département","Date de Création","Lien","Participants","QRCode"]),f=(0,n.ref)(["id",{slot:"company"},"name","location",{slot:"date_event"},{slot:"time_event"},{slot:"departement"},{slot:"created_at"},{slot:"link"},{slot:"participants"},{slot:"QRCode"}]),g=(0,n.ref)([]),E=(0,n.ref)(!1),V=(0,s.rd)(),h=(0,s.lq)(),N=(0,n.ref)(h.params.domain||"scb"),k=e=>{V.push({name:"ListQrcodeEvents",params:{domain:N.value,slug:e}})},y=e=>{console.log({domain:N.value,slug:e}),V.push({name:"ShowEventQRcode",params:{domain:N.value,slug:e}})},b=e=>{const t=(0,n.ref)(!1);let a={NODE_ENV:"production",VUE_APP_API_URL:"http://127.0.0.1:8000/api",BASE_URL:"/"}.FRONT_URL??window.location.host,l=`${a}/company/${e.company.slug}/event/${e.slug}`;navigator.clipboard.writeText(l).then((()=>{t.value=!0,m.oR.info("Texte Copié"),setTimeout((()=>{t.value=!1}),2e3)})).catch((e=>{console.error("Échec de la copie : ",e)}))},C=()=>{V.push({name:"Menu",params:{domain:N.value}})},w=(0,n.ref)(JSON.parse(localStorage.getItem("userInfo"))||{}),_=p(),B=(0,n.ref)(w?.value?.roles?w.value.roles[0]:"");return(0,n.onMounted)((()=>{_.isAdmin(B.value)||_.isSecureCheck(B.value)?r():o(N.value),N.value&&V.push({name:"EventList",params:{domain:N.value}})})),(e,o)=>{const r=(0,n.resolveComponent)("ui-item-text-content"),s=(0,n.resolveComponent)("ui-item"),d=(0,n.resolveComponent)("ui-list"),m=(0,n.resolveComponent)("ui-icon"),p=(0,n.resolveComponent)("ui-table");return(0,n.openBlock)(),(0,n.createElementBlock)("div",Ha,[(0,n.createElementVNode)("div",Wa,[(0,n.createElementVNode)("div",Ya,[(0,n.createElementVNode)("button",{class:"back",onClick:o[0]||(o[0]=e=>C())},"Retour"),o[2]||(o[2]=(0,n.createElementVNode)("h3",{class:"text-center"},"Liste des Evenements",-1))])]),E.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",Ga,[(0,n.createElementVNode)("div",Ka,[(0,n.createVNode)(d,null,{default:(0,n.withCtx)((()=>[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(g.value,(e=>((0,n.openBlock)(),(0,n.createBlock)(s,{key:e},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(r,null,{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.email),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})]),(0,n.createElementVNode)("div",Za,[(0,n.createElementVNode)("a",{class:"request-btn",onClick:o[1]||(o[1]=(...t)=>e.retour&&e.retour(...t)),role:"button"}," Retour ")])])):(0,n.createCommentVNode)("",!0),E.value?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",Xa,[(0,n.createVNode)(p,{data:(0,n.unref)(t),thead:v.value,tbody:f.value},{departement:(0,n.withCtx)((({data:e})=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.departement.name),1)])),date_event:(0,n.withCtx)((({data:e})=>[(0,n.createTextVNode)((0,n.toDisplayString)((0,n.unref)(c)(e.date_event)),1)])),time_event:(0,n.withCtx)((({data:e})=>[(0,n.createTextVNode)((0,n.toDisplayString)((0,n.unref)(i)(e.time_event)),1)])),company:(0,n.withCtx)((({data:e})=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.company.name),1)])),created_at:(0,n.withCtx)((({data:e})=>[(0,n.createTextVNode)((0,n.toDisplayString)((0,n.unref)(c)(e.created_at)),1)])),link:(0,n.withCtx)((({data:e})=>[(0,n.createVNode)(m,{role:"button",onClick:t=>b(e)},{default:(0,n.withCtx)((()=>o[3]||(o[3]=[(0,n.createTextVNode)(" content_copy ")]))),_:2},1032,["onClick"])])),participants:(0,n.withCtx)((({data:e})=>[(0,n.createVNode)(m,{role:"button",onClick:t=>k(e.slug)},{default:(0,n.withCtx)((()=>o[4]||(o[4]=[(0,n.createTextVNode)(" groups ")]))),_:2},1032,["onClick"])])),QRCode:(0,n.withCtx)((({data:e})=>[e?.slug?((0,n.openBlock)(),(0,n.createElementBlock)("img",{key:0,role:"button",onClick:t=>y(e?.slug),src:`${(0,n.unref)(u)}/qrcode-link/qrcode-${e?.slug}.png`,class:"",height:"50",width:"50",style:{"margin-top":"20px","margin-bottom":"20px"},alt:e.slug},null,8,en)):((0,n.openBlock)(),(0,n.createElementBlock)("p",tn,"Pas de QRcode"))])),_:1},8,["data","thead","tbody"])])),(0,n.unref)(a)?((0,n.openBlock)(),(0,n.createElementBlock)("div",an," Chargement des évènements... ")):(0,n.createCommentVNode)("",!0),(0,n.unref)(l)?((0,n.openBlock)(),(0,n.createElementBlock)("div",nn,(0,n.toDisplayString)((0,n.unref)(l)),1)):(0,n.createCommentVNode)("",!0)])}}};const on=(0,w.A)(ln,[["__scopeId","data-v-200b8593"]]);var rn=on,cn=a.p+"img/success-svgrepo-com.e963a910.svg";const sn={class:"background-gradi request-meeting"},un={class:"container"},dn={class:"row align-items-center"},mn={class:"col col-12 col-md-12 col-sm-12"},pn={class:"popup-logo"},vn=["alt"];var fn={__name:"SuccessCheckoutView",setup(e){const{publicDir:t}=d(),a=(0,s.lq)(),l=(0,s.rd)();return(0,n.onMounted)((()=>{a.params.uidn?m.oR.info("Bien joué"):l.push("/")})),(e,a)=>{const l=(0,n.resolveComponent)("router-link");return(0,n.openBlock)(),(0,n.createElementBlock)("section",sn,[(0,n.createElementVNode)("div",un,[(0,n.createElementVNode)("div",dn,[(0,n.createElementVNode)("div",mn,[(0,n.createElementVNode)("div",pn,[(0,n.createVNode)(l,{to:"/"},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("img",{src:cn,class:"",alt:`${(0,n.unref)(t)}/qrcode/qrcode-${e.uidn}.png`},null,8,vn)])),_:1}),a[0]||(a[0]=(0,n.createElementVNode)("div",{class:"text-center py-2"},[(0,n.createElementVNode)("h3",null,"CheckOut éffectué")],-1))])])])])])}}};const gn=(0,w.A)(fn,[["__scopeId","data-v-036fb276"]]);var En=gn;const Vn={class:"background-gradi request-meeting"},hn={class:"container"},Nn={class:"row align-items-center"},kn={class:"col col-12 col-md-12 col-sm-12"},yn={class:"popup-logo"},bn=["alt"];var Cn={__name:"SuccessCheckinView",setup(e){const{publicDir:t}=d(),a=(0,s.lq)(),l=(0,s.rd)();return(0,n.onMounted)((()=>{a.params.uidn?m.oR.info("Bien joué"):l.push("/")})),(e,a)=>{const l=(0,n.resolveComponent)("router-link");return(0,n.openBlock)(),(0,n.createElementBlock)("section",Vn,[(0,n.createElementVNode)("div",hn,[(0,n.createElementVNode)("div",Nn,[(0,n.createElementVNode)("div",kn,[(0,n.createElementVNode)("div",yn,[(0,n.createVNode)(l,{to:"/"},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("img",{src:cn,class:"",alt:`${(0,n.unref)(t)}/qrcode/qrcode-${e.uidn}.png`},null,8,bn)])),_:1}),a[0]||(a[0]=(0,n.createElementVNode)("div",{class:"text-center py-2"},[(0,n.createElementVNode)("h3",null,"CheckIn éffectué")],-1))])])])])])}}};const wn=(0,w.A)(Cn,[["__scopeId","data-v-24684a47"]]);var _n=wn;const Bn={class:"request-meeting"},Sn={class:"background-gradi"},Rn={class:"request-meeting meeting-form"},xn={class:"row align-items-center"},Mn={class:"col col-12 col-md-12 col-sm-12"},Dn={key:0,class:"submit-button"},qn=["disabled"],In={key:1,class:"error"};var Ln={__name:"CreateCompanyView",setup(e){const t=(0,n.ref)(),a=(0,n.ref)();a.value=JSON.parse(localStorage.getItem("userInfo")),t.value=a.value?.roles[0];const{userInfo:l,fetchUserInfo:o}=Ee(),{postCompany:r,showCompany:c,company:u,statusCode:d}=i(),v=p(),f=v.isAuthenticated(),g=(0,s.rd)(),E=(0,n.ref)(),V=(0,n.ref)(""),h=(0,n.ref)({name:"",description:""}),N=e=>{const t=e.target.files[0];t?(h.value.logo=t,E.value=t.name):V.value="Veuillez selectionnez un fichier valide"},k=(0,n.ref)(!1),y=async()=>{try{await r(h.value),console.log(u)}catch(e){V.value=`Erreur: ${e.message}`}finally{k.value=!1}};(0,n.watch)(d,(e=>{switch(e){case 201:m.oR.success("Entreprise créé avec succès."),setTimeout((()=>{g.push("/menu")}),1500);break;case 200:m.oR.success("Entreprise créé avec succès."),setTimeout((()=>{g.push("/menu")}),1500);break;case 400:m.oR.info("La requête est mal formée.");break;case 401:m.oR.info("Vous devez être authentifié."),setTimeout((()=>{g.push("/")}),1500);break;case 403:m.oR.info("Vous n'avez pas la permission.");break;case 404:m.oR.info("La ressource demandée n'existe pas.");break;case 500:m.oR.info("Une erreur interne est survenue.");break;default:m.oR.info(`Code : ${e}`)}}));const b=(0,s.lq)(),C=(0,n.ref)(b.params.domain||"scb"),w=()=>{g.push({name:"Menu",params:{domain:C.value}})};return(0,n.onBeforeMount)((async()=>{b?.params?.company_edit&&c(b.params.slug),await o(),console.log({userInfo:l})})),(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("section",Bn,[(0,n.createElementVNode)("div",Sn,[(0,n.createElementVNode)("section",Rn,[(0,n.createElementVNode)("div",xn,[(0,n.createElementVNode)("div",Mn,[(0,n.createElementVNode)("div",{class:"d-flex justify-content-start mb-4 gap-3 align-items-center"},[(0,n.createElementVNode)("button",{class:"back",onClick:w},"Retour"),t[2]||(t[2]=(0,n.createElementVNode)("h3",null,"Création Entreprise",-1))]),(0,n.createElementVNode)("form",{onSubmit:(0,n.withModifiers)(y,["prevent"]),enctype:"multipart/form-data"},[(0,n.createElementVNode)("div",null,[t[3]||(t[3]=(0,n.createElementVNode)("label",{for:"logo"},"Logo",-1)),t[4]||(t[4]=(0,n.createElementVNode)("br",null,null,-1)),(0,n.createElementVNode)("input",{type:"file",id:"logo",onChange:N,required:"",class:(0,n.normalizeClass)({error:V.value})},null,34),t[5]||(t[5]=(0,n.createElementVNode)("br",null,null,-1))]),(0,n.createElementVNode)("div",null,[t[6]||(t[6]=(0,n.createElementVNode)("label",{for:"name"},"Nom",-1)),t[7]||(t[7]=(0,n.createElementVNode)("br",null,null,-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>h.value.name=e),required:""},null,512),[[n.vModelText,h.value.name]]),t[8]||(t[8]=(0,n.createElementVNode)("br",null,null,-1))]),(0,n.createElementVNode)("div",null,[t[9]||(t[9]=(0,n.createElementVNode)("label",{for:"description"},"Description ",-1)),t[10]||(t[10]=(0,n.createElementVNode)("br",null,null,-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"description",id:"description","onUpdate:modelValue":t[1]||(t[1]=e=>h.value.description=e),required:""},null,512),[[n.vModelText,h.value.description]]),t[11]||(t[11]=(0,n.createElementVNode)("br",null,null,-1))]),(0,n.unref)(f)?((0,n.openBlock)(),(0,n.createElementBlock)("div",Dn,[(0,n.createElementVNode)("input",{type:"submit",value:"Soumettre",disabled:k.value},null,8,qn)])):(0,n.createCommentVNode)("",!0),V.value?((0,n.openBlock)(),(0,n.createElementBlock)("p",In,(0,n.toDisplayString)(V.value),1)):(0,n.createCommentVNode)("",!0)],32)])])])])]))}};const An=(0,w.A)(Ln,[["__scopeId","data-v-5bf10c9a"]]);var Tn=An;const Un={class:"request-meeting"},$n={class:"background-gradi"},On={class:"request-meeting meeting-form"},Pn={class:"row align-items-center"},jn={class:"col col-12 col-md-12 col-sm-12"},Qn={key:0,class:"submit-button"},Fn=["disabled"],zn={key:1,class:"error"};var Jn={__name:"EditCompanyView",setup(e){const t=(0,n.ref)(),a=(0,n.ref)();a.value=JSON.parse(localStorage.getItem("userInfo")),t.value=a.value?.roles[0];const{userInfo:l,fetchUserInfo:o}=Ee(),{showCompany:r,updateCompany:c,company:u,statusCode:d}=i(),v=p(),f=v.isAuthenticated(),g=(0,s.rd)(),E=(0,n.ref)(),V=(0,n.ref)(""),h=(0,n.ref)({id:"",name:"",description:""}),N=e=>{const t=e.target.files[0];t?(h.value.logo=t,E.value=t.name):V.value="Veuillez selectionnez un fichier valide"},k=(0,n.ref)(!1),y=async()=>{try{await c(h.value,h.value.id)}catch(e){V.value=`Erreur: ${e.message}`}finally{k.value=!1}};(0,n.watch)(d,(e=>{switch(e){case 201:m.oR.success("Mise à jour éffectué."),setTimeout((()=>{g.push("/menu")}),1500);break;case 200:m.oR.success("Mise à jour éffectué."),setTimeout((()=>{g.push("/menu")}),1500);break;case 400:m.oR.info("La requête est mal formée.");break;case 401:m.oR.info("Vous devez être authentifié."),setTimeout((()=>{g.push("/")}),1500);break;case 403:m.oR.info("Vous n'avez pas la permission.");break;case 404:m.oR.info("La ressource demandée n'existe pas.");break;case 500:m.oR.info("Une erreur interne est survenue.");break;default:m.oR.info(`Code : ${e}`)}}));const b=(0,s.lq)(),C=(0,n.ref)(b.params.domain||"scb"),w=()=>{g.push({name:"Menu",params:{domain:C.value}})};return(0,n.onBeforeMount)((async()=>{b?.params?.company_edit&&(await r(C.value),h.value=u.value),await o(),console.log({userInfo:l})})),(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("section",Un,[(0,n.createElementVNode)("div",$n,[(0,n.createElementVNode)("section",On,[(0,n.createElementVNode)("div",Pn,[(0,n.createElementVNode)("div",jn,[(0,n.createElementVNode)("div",{class:"d-flex justify-content-start mb-4 gap-3 align-items-center"},[(0,n.createElementVNode)("button",{class:"back",onClick:w},"Retour"),t[2]||(t[2]=(0,n.createElementVNode)("h3",null,"Editer Entreprise",-1))]),(0,n.createElementVNode)("form",{onSubmit:(0,n.withModifiers)(y,["prevent"]),enctype:"multipart/form-data"},[(0,n.createElementVNode)("div",null,[t[3]||(t[3]=(0,n.createElementVNode)("label",{for:"logo"},"Logo",-1)),t[4]||(t[4]=(0,n.createElementVNode)("br",null,null,-1)),(0,n.createElementVNode)("input",{type:"file",id:"logo",onChange:N,class:(0,n.normalizeClass)({error:V.value})},null,34),t[5]||(t[5]=(0,n.createElementVNode)("br",null,null,-1))]),(0,n.createElementVNode)("div",null,[t[6]||(t[6]=(0,n.createElementVNode)("label",{for:"name"},"Nom",-1)),t[7]||(t[7]=(0,n.createElementVNode)("br",null,null,-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>h.value.name=e),required:""},null,512),[[n.vModelText,h.value.name]]),t[8]||(t[8]=(0,n.createElementVNode)("br",null,null,-1))]),(0,n.createElementVNode)("div",null,[t[9]||(t[9]=(0,n.createElementVNode)("label",{for:"description"},"Description ",-1)),t[10]||(t[10]=(0,n.createElementVNode)("br",null,null,-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"description",id:"description","onUpdate:modelValue":t[1]||(t[1]=e=>h.value.description=e),required:""},null,512),[[n.vModelText,h.value.description]]),t[11]||(t[11]=(0,n.createElementVNode)("br",null,null,-1))]),(0,n.unref)(f)?((0,n.openBlock)(),(0,n.createElementBlock)("div",Qn,[(0,n.createElementVNode)("input",{type:"submit",value:"Soumettre",disabled:k.value},null,8,Fn)])):(0,n.createCommentVNode)("",!0),V.value?((0,n.openBlock)(),(0,n.createElementBlock)("p",zn,(0,n.toDisplayString)(V.value),1)):(0,n.createCommentVNode)("",!0)],32)])])])])]))}};const Hn=(0,w.A)(Jn,[["__scopeId","data-v-dc5a3754"]]);var Wn=Hn,Yn=a(7687),Gn=a.n(Yn);const Kn={class:"background-gradi request-meeting"},Zn={class:"container"},Xn={class:"row align-items-center"},el={class:"popup-logo"},tl=["src","alt"],al={class:"event_datetime"},nl={class:"event-title"},ll={class:"event-title"},ol={class:"event-details"},rl={class:"event-title"},cl={class:"event-title"},sl={class:"event-title"},il=["src","alt"],ul=["src"];var dl={__name:"ShowEventQRcodeView",setup(e){const t=p(),a=(0,s.lq)(),{showEvent:l,event:o}=he(),{company:r,showCompany:c}=i(),{publicDir:u}=d(),m=(0,s.rd)(),v=()=>{m.push({name:"Menu",params:{domain:k.value,id:a.params.id}})},f=(0,n.ref)(null),g=(0,n.ref)(null),E=()=>{if(f.value){const e=f.value.querySelectorAll("img"),t=Array.from(e).map((e=>new Promise((t=>{e.complete?t():(e.onload=t,e.onerror=t)}))));Promise.all(t).then((()=>{Gn()(f.value,{useCORS:!0}).then((e=>{const t=e.toDataURL("image/png");g.value=t;const a=document.createElement("a");a.href=t,a.download=`event-${k.value}.png`,document.body.appendChild(a),a.click(),document.body.removeChild(a)}))}))}},{formatDate:V,formatTime:h}=za(),N=t.isAuthenticated(),k=(0,n.ref)(a.params.domain||"scb");return(0,n.onMounted)((()=>{l(a.params.slug),c(k.value),k.value&&m.push({name:"ShowEventQRcode",params:{domain:k.value,slug:a.params.slug}})})),(e,t)=>{const l=(0,n.resolveComponent)("router-link");return(0,n.openBlock)(),(0,n.createElementBlock)("section",Kn,[(0,n.createElementVNode)("div",Zn,[(0,n.createElementVNode)("div",Xn,[(0,n.createElementVNode)("div",{class:"col col-12 col-md-12 col-sm-12 event-details event_details_main",ref_key:"capture",ref:f},[(0,n.createElementVNode)("div",el,[(0,n.createElementVNode)("div",null,[(0,n.unref)(r)&&"scb"!=k.value?((0,n.openBlock)(),(0,n.createBlock)(l,{key:0,to:"/"},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("img",{class:"logo_qr",src:`${(0,n.unref)(u)}/logo/${(0,n.unref)(r)?.logo}`,alt:`${(0,n.unref)(u)}/logo/${(0,n.unref)(r)?.logo}`},null,8,tl)])),_:1})):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",al,[(0,n.createElementVNode)("h3",nl,(0,n.toDisplayString)((0,n.unref)(h)((0,n.unref)(o)?.time_event)),1),(0,n.createElementVNode)("h3",ll,(0,n.toDisplayString)((0,n.unref)(V)((0,n.unref)(o)?.date_event)),1)]),(0,n.createElementVNode)("div",ol,[(0,n.createElementVNode)("div",null,[t[1]||(t[1]=(0,n.createElementVNode)("b",null," Entreprise",-1)),t[2]||(t[2]=(0,n.createTextVNode)()),(0,n.createElementVNode)("h3",rl,(0,n.toDisplayString)((0,n.unref)(r)?.name),1)]),(0,n.createElementVNode)("div",null,[t[3]||(t[3]=(0,n.createElementVNode)("b",null," Event Name",-1)),t[4]||(t[4]=(0,n.createTextVNode)()),(0,n.createElementVNode)("h3",cl,(0,n.toDisplayString)((0,n.unref)(o)?.name),1)]),(0,n.createElementVNode)("div",null,[t[5]||(t[5]=(0,n.createElementVNode)("b",null," Where ",-1)),t[6]||(t[6]=(0,n.createTextVNode)()),(0,n.createElementVNode)("h3",sl,(0,n.toDisplayString)((0,n.unref)(o)?.location),1)]),t[7]||(t[7]=(0,n.createElementVNode)("div",null,[(0,n.createElementVNode)("b",null," Ticket "),(0,n.createTextVNode)(),(0,n.createElementVNode)("h3",{class:"event-title"},"Summit Registartion")],-1))]),(0,n.createElementVNode)("div",null,[(0,n.createVNode)(l,{to:`/${(0,n.unref)(a).params.slug}`},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("img",{src:`${(0,n.unref)(u)}/qrcode-link/qrcode-${(0,n.unref)(a).params.slug}.png`,class:(0,n.normalizeClass)((0,n.unref)(a).params.slug),alt:(0,n.unref)(a).params.slug},null,10,il)])),_:1},8,["to"])]),g.value?(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("img",{key:0,src:g.value,alt:"Captured Image"},null,8,ul)),[[n.vShow,!1]]):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",{class:"request-btn",onClick:E,role:"button"},t[8]||(t[8]=[(0,n.createElementVNode)("a",null,"Capture ",-1)])),(0,n.unref)(N)?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:1,class:"request-btn",onClick:t[0]||(t[0]=e=>v()),role:"button"},t[9]||(t[9]=[(0,n.createElementVNode)("a",null,"Menu ",-1)]))):(0,n.createCommentVNode)("",!0)])],512)])])])}}};const ml=(0,w.A)(dl,[["__scopeId","data-v-a6a9962c"]]);var pl=ml;const vl={ref:"video",width:"640",height:"480",autoplay:""},fl={ref:"canvas",width:"640",height:"480",style:{display:"none"}};function gl(e,t,a,l,o,r){return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[t[0]||(t[0]=(0,n.createElementVNode)("h1",null,"Login with QR Code",-1)),(0,n.createElementVNode)("video",vl,null,512),(0,n.createElementVNode)("canvas",fl,null,512),(0,n.createElementVNode)("p",null,(0,n.toDisplayString)(o.qrResult),1),(0,n.createElementVNode)("p",null,(0,n.toDisplayString)(o.status),1)])}var El=a(4025),Vl=a.n(El),hl={data(){return{qrResult:"Waiting for QR code...",status:"Status: Logged Out",stream:null,loggedIn:!1,currentUser:"",scanInProgress:!1}},mounted(){this.startCamera()},methods:{startCamera(){const e=this.$refs.video;navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then((t=>{this.stream=t,e.srcObject=t,e.play(),this.scanQRCode()})).catch((e=>{console.error("Error accessing camera: ",e)}))},scanQRCode(){const e=this.$refs.video,t=this.$refs.canvas,a=t.getContext("2d"),n=()=>{if(!this.scanInProgress){this.scanInProgress=!0,a.drawImage(e,0,0,t.width,t.height);const n=a.getImageData(0,0,t.width,t.height),l=Vl()(n.data,t.width,t.height);if(console.log(l),l){const e=l.data;console.log(e),this.isValidEmail(e)?this.handleLoginLogout(e):this.qrResult=`QR Code detected but is not a valid email: ${e}`}else this.qrResult="No QR code detected.";setTimeout((()=>{this.scanInProgress=!1}),1e3)}setTimeout((()=>requestAnimationFrame(n)),500)};requestAnimationFrame(n)},handleLoginLogout(e){this.loggedIn?this.loggedIn&&this.currentUser===e?(this.loggedIn=!1,this.currentUser="",this.status="Status: Logged Out",this.qrResult="Logout successful!"):this.qrResult=`Already logged in as ${this.currentUser}. Please log out first.`:(this.loggedIn=!0,this.currentUser=e,this.status=`Status: Logged In as ${e}`,this.qrResult=`Login successful for ${e}`),this.scanInProgress=!0,setTimeout((()=>{this.scanInProgress=!1}),2e3)},isValidEmail(e){const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.test(e)}},beforeUnmount(){if(this.stream){const e=this.stream.getTracks();e.forEach((e=>e.stop()))}}};const Nl=(0,w.A)(hl,[["render",gl],["__scopeId","data-v-16e46c4a"]]);var kl=Nl;const yl={class:"container"},bl={class:"d-flex justify-content-center align-items-center"},Cl={class:"d-flex justify-content-start mb-4 gap-3 align-items-center"},wl={key:0,class:"mt-3"},_l={key:1,class:"mt-3"},Bl={class:"text-center"},Sl={key:0},Rl={class:"d-flex justify-content-center py-3"},xl={key:0,class:"table table-striped"};function Ml(e,t,a,l,o,r){return(0,n.openBlock)(),(0,n.createElementBlock)("div",yl,[(0,n.createElementVNode)("div",bl,[(0,n.createElementVNode)("div",Cl,[(0,n.createElementVNode)("button",{class:"back",onClick:t[0]||(t[0]=e=>l.goToMenu())},"Retour"),e.route?.params?.slug?((0,n.openBlock)(),(0,n.createElementBlock)("h3",wl,"Liste Participants")):((0,n.openBlock)(),(0,n.createElementBlock)("h3",_l,"Lista de Check in"))])]),(0,n.createElementVNode)("div",Bl,[e.route?.params?.slug?((0,n.openBlock)(),(0,n.createElementBlock)("h4",Sl,"Evenements : "+(0,n.toDisplayString)(e.event?.name),1)):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",Rl,[l.visitorLogs.length?((0,n.openBlock)(),(0,n.createElementBlock)("table",xl,[t[1]||(t[1]=(0,n.createElementVNode)("thead",null,[(0,n.createElementVNode)("tr",null,[(0,n.createElementVNode)("th",null,"Visitor Id"),(0,n.createElementVNode)("th",null,"Visitor Email"),(0,n.createElementVNode)("th",null,"Created At"),(0,n.createElementVNode)("th",null,"Check In"),(0,n.createElementVNode)("th",null,"Check Out")])],-1)),(0,n.createElementVNode)("tbody",null,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(l.visitorLogs,(e=>((0,n.openBlock)(),(0,n.createElementBlock)("tr",{key:e.id},[(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(e.visitor_id),1),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(e.visitor_email),1),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(e.created_at),1),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(e.check_in_time),1),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(e.check_out_time),1)])))),128))])])):(0,n.createCommentVNode)("",!0)])])}var Dl={async fetchData(){try{const e=await c.get("/visitorlog");return e.data}catch(e){throw console.error("Error fetching visitor code data:",e),new Error("Failed to fetch visitor code data.")}},anotherServiceMethod(e){return`Processed ${e}`}},ql={name:"DisplayCodeView",setup(){const e=(0,s.rd)(),t=(0,s.lq)(),a=(0,n.ref)(t?.params?.domain||"scb"),l=(0,n.ref)([]),o=(0,n.ref)(""),r=(0,n.ref)(null),c=async()=>{try{const e=await Dl.fetchData();console.log("Fetched Response:",e),l.value=e,o.value="Data fetched successfully!"}catch(e){r.value="Failed to fetch data.",console.error(e)}},i=()=>{e.push({name:"Menu",params:{domain:a.value}})};return(0,n.onMounted)((()=>{c()})),{domain:a,visitorLogs:l,message:o,error:r,goToMenu:i}}};const Il=(0,w.A)(ql,[["render",Ml],["__scopeId","data-v-6df14b8a"]]);var Ll=Il;const Al={class:"container"},Tl={class:"d-flex justify-content-center align-items-center"},Ul={class:"d-flex justify-content-start mb-4 gap-3 align-items-center"},$l={key:0,class:"mt-3"},Ol={key:1,class:"mt-3"},Pl={class:"text-center"},jl={key:0},Ql={class:"d-flex justify-content-center py-3"},Fl={key:0,class:"mdc-data-table__table"},zl={class:"mdc-data-table__cell"},Jl={class:"mdc-data-table__cell"},Hl={class:"mdc-data-table__cell"},Wl={class:"mdc-data-table__cell"},Yl=["src","alt"];function Gl(e,t,a,l,o,r){return(0,n.openBlock)(),(0,n.createElementBlock)("div",Al,[(0,n.createElementVNode)("div",Tl,[(0,n.createElementVNode)("div",Ul,[(0,n.createElementVNode)("button",{class:"back",onClick:t[0]||(t[0]=e=>l.goToMenu())},"Retour"),e.route?.params?.slug?((0,n.openBlock)(),(0,n.createElementBlock)("h3",$l,"Liste Participants")):((0,n.openBlock)(),(0,n.createElementBlock)("h3",Ol,"Lista de Entreprise "))])]),(0,n.createElementVNode)("div",Pl,[e.route?.params?.slug?((0,n.openBlock)(),(0,n.createElementBlock)("h4",jl,"Evenements : "+(0,n.toDisplayString)(e.event?.name),1)):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",Ql,[l.companyList.length?((0,n.openBlock)(),(0,n.createElementBlock)("table",Fl,[t[1]||(t[1]=(0,n.createElementVNode)("thead",null,[(0,n.createElementVNode)("tr",{class:"mdc-data-table__header-row"},[(0,n.createElementVNode)("th",{class:"mdc-data-table__header-cell",role:"columnheader","aria-sort":"none"},[(0,n.createElementVNode)("div",{class:"mdc-data-table__header-cell-wrapper"},"ID")]),(0,n.createElementVNode)("th",{class:"mdc-data-table__header-cell",role:"columnheader","aria-sort":"none"},[(0,n.createElementVNode)("div",{class:"mdc-data-table__header-cell-wrapper"},"Entreprise name")]),(0,n.createElementVNode)("th",{class:"mdc-data-table__header-cell",role:"columnheader","aria-sort":"none"},[(0,n.createElementVNode)("div",{class:"mdc-data-table__header-cell-wrapper"},"Description")]),(0,n.createElementVNode)("th",{class:"mdc-data-table__header-cell",role:"columnheader","aria-sort":"none"},[(0,n.createElementVNode)("div",{class:"mdc-data-table__header-cell-wrapper"},"Slug")]),(0,n.createElementVNode)("th",{class:"mdc-data-table__header-cell",role:"columnheader","aria-sort":"none"},[(0,n.createElementVNode)("div",{class:"mdc-data-table__header-cell-wrapper"},"Image")])])],-1)),(0,n.createElementVNode)("tbody",null,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(l.companyList,(e=>((0,n.openBlock)(),(0,n.createElementBlock)("tr",{key:e.id,class:"mdc-data-table__row"},[(0,n.createElementVNode)("td",zl,(0,n.toDisplayString)(e.id),1),(0,n.createElementVNode)("td",Jl,(0,n.toDisplayString)(e.name),1),(0,n.createElementVNode)("td",Hl,(0,n.toDisplayString)(e.description),1),(0,n.createElementVNode)("td",Wl,(0,n.toDisplayString)(e.slug),1),(0,n.createElementVNode)("td",null,[(0,n.createElementVNode)("img",{src:`${l.publicDir}/logo/${e?.logo}`,class:"",height:"75",width:"75",style:{"margin-top":"20px","margin-bottom":"20px"},alt:e.logo},null,8,Yl)])])))),128))])])):(0,n.createCommentVNode)("",!0)])])}var Kl={async fetchData(){try{const e=await c.get("/companylist");return console.log("i am here",e.data),e.data}catch(e){throw console.error("Error fetching visitor code data:",e),new Error("Failed to fetch visitor code data.")}},anotherServiceMethod(e){return`Processed ${e}`}},Zl={name:"CompanyListView",setup(){const e=(0,s.rd)(),t=(0,s.lq)(),a=(0,n.ref)(t?.params?.domain||"scb"),l=(0,n.ref)([]),o=(0,n.ref)(""),r=(0,n.ref)(null),{publicDir:c}=d(),i=async()=>{try{const e=await Kl.fetchData();console.log("Fetched Response:",e),l.value=e.data,o.value="Data fetched successfully!"}catch(e){r.value="Failed to fetch data.",console.error(e)}},u=()=>{e.push({name:"Menu",params:{domain:a.value}})};return(0,n.onMounted)((()=>{i()})),{domain:a,companyList:l,message:o,error:r,goToMenu:u,publicDir:c}}};const Xl=(0,w.A)(Zl,[["render",Gl]]);var eo=Xl;const to={class:"container"},ao={class:"d-flex justify-content-center align-items-center"},no={class:"d-flex justify-content-start mb-4 gap-3 align-items-center"},lo={key:0,class:"mt-3"},oo={key:1,class:"mt-3"},ro={class:"text-center"},co={key:0},so={class:"d-flex justify-content-center py-3"},io={key:0,class:"table table-striped"},uo={key:1};function mo(e,t,a,l,o,r){return(0,n.openBlock)(),(0,n.createElementBlock)("div",to,[(0,n.createElementVNode)("div",ao,[(0,n.createElementVNode)("div",no,[(0,n.createElementVNode)("button",{class:"back",onClick:t[0]||(t[0]=e=>l.goToMenu())},"Retour"),e.route?.params?.slug?((0,n.openBlock)(),(0,n.createElementBlock)("h3",lo,"Liste Participants")):((0,n.openBlock)(),(0,n.createElementBlock)("h3",oo,"Lista de event attendence"))])]),(0,n.createElementVNode)("div",ro,[e.route?.params?.slug?((0,n.openBlock)(),(0,n.createElementBlock)("h4",co,"Evenements : "+(0,n.toDisplayString)(e.event?.name),1)):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",so,[l.eventAttendence.length?((0,n.openBlock)(),(0,n.createElementBlock)("table",io,[t[1]||(t[1]=(0,n.createElementVNode)("thead",null,[(0,n.createElementVNode)("tr",null,[(0,n.createElementVNode)("th",null,"Visitor Id"),(0,n.createElementVNode)("th",null,"Visitor Name"),(0,n.createElementVNode)("th",null,"Email"),(0,n.createElementVNode)("th",null,"Visitor Address"),(0,n.createElementVNode)("th",null,"Event Name"),(0,n.createElementVNode)("th",null,"Event Location"),(0,n.createElementVNode)("th",null,"Event Created At")])],-1)),(0,n.createElementVNode)("tbody",null,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(l.eventAttendence,(e=>((0,n.openBlock)(),(0,n.createElementBlock)("tr",{key:e.id},[(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(e.id),1),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(e.firstname),1),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(e.email),1),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(e.address),1),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(e.eventName),1),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(e.eventLocation),1),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(e.eventCreatedAt),1)])))),128))])])):((0,n.openBlock)(),(0,n.createElementBlock)("p",uo,"No data available."))])])}var po={async fetchData(){try{const e=await c.get("/eventattendencelist");return e.data}catch(e){throw console.error("Error fetching visitor code data:",e),new Error("Failed to fetch visitor code data.")}},anotherServiceMethod(e){return`Processed ${e}`}},vo={name:"DisplayEventAttendence",setup(){const e=(0,s.rd)(),t=(0,s.lq)(),a=(0,n.ref)(t?.params?.domain||"scb"),l=(0,n.ref)([]),o=(0,n.ref)(""),r=(0,n.ref)(null),c=async()=>{try{const e=await po.fetchData();console.log("Fetched Response:",e);const t=e.flatMap((e=>e.visitors.map((t=>({...t,eventName:e.event.name,eventLocation:e.event.location,eventCreatedAt:e.event.created_at})))));l.value=t,o.value="Data fetched successfully!"}catch(e){r.value="Failed to fetch data.",console.error(e)}},i=()=>{e.push({name:"Menu",params:{domain:a.value}})};return(0,n.onMounted)((()=>{c()})),{domain:a,eventAttendence:l,message:o,error:r,goToMenu:i}}};const fo=(0,w.A)(vo,[["render",mo]]);var go=fo;const Eo=[{path:"/sign-in",name:"Login",component:F},{path:"/:domain/meeting",name:"CreateVisitor",component:Ie},{path:"/:domain/create-user",name:"CreateUser",component:fe},{path:"/:domain/list-users",name:"ListUser",component:xa},{path:"/:domain/request-meeting",name:"RequestMeeting",component:ot,alias:["/","/:domain"]},{path:"/:domain/waiting-validation/:id",name:"WaitingValidation",component:kt},{path:"/:domain/show-event-qrcode/:slug",name:"ShowEventQRcode",component:pl},{path:"/:domain/qr-code/:id",name:"QrCode",component:Ht},{path:"/:domain/list-qrcode",name:"ListQrcode",component:It},{path:"/:domain/list-qrcode-events/:slug",name:"ListQrcodeEvents",component:It},{path:"/:domain/manual-check",name:"ManalCheck",component:ya},{path:"/:domain/menu",name:"Menu",component:ze},{path:"/:domain/create-event",name:"CreateEvent",component:Fa},{path:"/company/:company_slug/event/:slug",name:"JoinEvent",component:Ie},{path:"/:domain/list-events",name:"EventList",component:rn},{path:"/:domain/success-checkout/:uidn",name:"SuccessCheckout",component:En},{path:"/:domain/success-checkin/:uidn",name:"SuccessCheckin",component:_n},{path:"/:domain/create-company",name:"CreateCompany",component:Tn},{path:"/:domain/edit-company/:company_edit",name:"EditCreateCompany",component:Wn},{path:"/:domain/company-list",name:"CompanyList",component:eo},{path:"/:domain/create-qr",name:"CreateQRCode",component:ia},{path:"/:domain/camera",name:"Camera",component:kl},{path:"/:domain/display-logs",name:"DisplayVisitorCode",component:Ll},{path:"/:domain/event-attendences",name:"DisplayEventAttendence",component:go}],Vo=(0,s.aE)({history:(0,s.LA)(),routes:Eo});var ho=Vo,No=a(6958),ko=a(1911),yo=a(5073),bo=a(9449),Co=a.n(bo),wo=a(828);ko.A.use(yo.A);const _o=(0,n.createApp)(I);_o.use(ho),_o.use(wo.Ay),_o.use(Co(),{});const Bo=(0,u.Ey)();Bo.use(No.A),_o.use(Bo),_o.mount("#app")}},t={};function a(n){var l=t[n];if(void 0!==l)return l.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,n,l,o){if(!n){var r=1/0;for(u=0;u<e.length;u++){n=e[u][0],l=e[u][1],o=e[u][2];for(var c=!0,s=0;s<n.length;s++)(!1&o||r>=o)&&Object.keys(a.O).every((function(e){return a.O[e](n[s])}))?n.splice(s--,1):(c=!1,o<r&&(r=o));if(c){e.splice(u--,1);var i=l();void 0!==i&&(t=i)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,l,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var l,o,r=n[0],c=n[1],s=n[2],i=0;if(r.some((function(t){return 0!==e[t]}))){for(l in c)a.o(c,l)&&(a.m[l]=c[l]);if(s)var u=s(a)}for(t&&t(n);i<r.length;i++)o=r[i],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(u)},n=self["webpackChunksecure_check"]=self["webpackChunksecure_check"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(1306)}));n=a.O(n)})();
//# sourceMappingURL=app.3158d2d4.js.map